<div class="main-content">
    <!-- <h3 class="content-title">Booklet Recieved Marking</h3>
    <div nz-col nzMd="24" nzLg="24" style="padding: 0;margin: 0">
        <form-handler (onPreview)="getData()" (onReset)="
        reset()" (onSave)="save()" >
        </form-handler>
      </div> -->
  <form nz-form nzLayout="vertical">
    <div nz-row nzGutter="5" [@slideInOutup]="showLeftSide">
      <div nz-col nzMd="24">
          <nz-card [nzTitle]=findHead style="margin-bottom: 10px;">
              <ng-template #findHead>
                Find Booklet
              </ng-template>
              <div nz-col nzMd="24">
                <div nz-row nzMd="3" style="margin-bottom: 10px;">
                    <div nz-col nzMd="5">
                    <nz-radio-group [(ngModel)]="model.crforpostacc" (ngModelChange)="reset()"
                    name="crforpostacc">
                    <label title="Post Account Opening"  style="font-size: 14px;" nz-radio
                    nzValue="POSTACCOPEN">POST AOF</label>
                    <label nz-radio nzValue="CRF">CRF</label>
                  </nz-radio-group>
                </div>
                </div>
                <div nz-row nzGutter="5">
                    <!-- <div nz-col nzMd="3" style="padding-top: 19px;">
                    <nz-radio-group [(ngModel)]="model.crforpostacc" (ngModelChange)="reset()"
                    name="crforpostacc">
                    <label title="Post Account Opening"  style="font-size: 14px;" nz-radio
                    nzValue="POSTACCOPEN">POST AOF</label>
                    <label nz-radio nzValue="CRF">CRF</label>
                    </nz-radio-group>
                </div> -->
                <div nz-col nzMd="3">
                    <nz-form-item>
                      <nz-form-label>Batch No.</nz-form-label>
                      <nz-form-control>
                        <master-find-ctrl name="batchNo" [options]="batchNoFindOption"
                          [(ngModel)]="model.batchNo" (ngModelChange)="onChangeRegion($event)"></master-find-ctrl>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col nzMd="3">
                    <nz-form-item>
                      <nz-form-label >Pouch Serial No</nz-form-label>
                      <nz-form-control >
                        <master-find-ctrl name="pan" [options]="panFindOption" (ngModelChange)="onChangeRegion($event)" [(ngModel)]="model.PanNo">
                        </master-find-ctrl>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col nzMd="4">
                    <nz-form-item>
                      <nz-form-label >DP Account BenId</nz-form-label>
                      <nz-form-control>
                        <master-find-ctrl name="cin" (ngModelChange)="onChangeRegion($event)" [options]="cinFindOption" [(ngModel)]="model.Cin">
                        </master-find-ctrl>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
    
                  <div nz-col nzMd="3">
                    <nz-form-item>
                      <nz-form-label >Client Code</nz-form-label>
                      <nz-form-control >
                        <master-find-ctrl name="uniqueCode" (ngModelChange)="onChangeRegion($event)" [options]="geojitUniqueCodeFindOption" [options]="cinFindOption" 
                          [(ngModel)]="model.uniqueCode" ></master-find-ctrl>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col nzMd="3">
                      <nz-form-item>
                        <nz-form-label >Kit Number</nz-form-label>
                        <nz-form-control>
                          <master-find-ctrl name="kitno" (ngModelChange)="onChangeRegion($event)" [options]="kitnoFindOption"
                            [(ngModel)]="model.kitno"></master-find-ctrl>
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <div nz-col nzMd="3">
                        <nz-form-item>
                          <nz-form-label >Booklet Serial No</nz-form-label>
                          <nz-form-control >
                            <master-find-ctrl name="slno" (ngModelChange)="onChangeRegion($event)" [options]="slnoFindOption"
                              [(ngModel)]="model.slno"></master-find-ctrl>
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div nz-col nzMd="3">
                          <nz-form-item>
                            <nz-form-label >Account Serial No</nz-form-label>
                            <nz-form-control>
                              <master-find-ctrl name="accslno" (ngModelChange)="onChangeRegion($event)" [options]="accslnoFindOption"
                                [(ngModel)]="model.accslno"></master-find-ctrl>
                            </nz-form-control>
                          </nz-form-item>
                        </div>

                        
          <div nz-col nzMd="2" >
              <nz-form-item>
                <nz-form-label class="boldinglabel">Scan Barcode</nz-form-label>
                <nz-form-control>

                    <input nz-input #batch4 [textMask]="{mask: inputMasks.numeric}" [(ngModel)]="barcodeid" (ngModelChange)="getBarcodeData()" type="text"  name="barcodeid">
                    <!-- <master-find-ctrl name="barcodeid" (ngModelChange)="onChangeRegion($event)" [options]="barcodeFindOption"
                    [(ngModel)]="model.barcodeid">(blur)
                  </master-find-ctrl> -->
                </nz-form-control>
              </nz-form-item>
            </div>
                        <!-- <div nz-col nzMd="3" >
                            <nz-form-item>
                              <nz-form-label class="boldinglabel">Scan Barcode</nz-form-label>
                              <nz-form-control>
                                  <master-find-ctrl name="barcodeid" (ngModelChange)="onChangeRegion($event)" [options]="barcodeFindOption"
                                  [(ngModel)]="model.barcodeid">
                                </master-find-ctrl>
                              </nz-form-control>
                            </nz-form-item>
                          </div> -->
                </div>

                <nz-modal  [(nzVisible)]="showbankdetails" nzTitle="Existing Maped Bank Accounts" (nzOnCancel)="handleCancel1()"
                (nzOnOk)="handleCancel1()" nzWidth="60%">

                 <nz-table class="tranTbl table-responsive table-themed"  #asasa [nzData]="Bankdetails" [nzSize]="'small'" [nzShowPagination]="false"
                 [nzFrontPagination]="false">
                 <thead>
                   <tr >
                     <th *ngFor="let header of Bankdetailsheader;let i = index" style="background:rgba(137, 238, 204, 0.678); border-right: 1px solid #c0c2b8">
                       {{header}}
                     </th>
                   </tr>
                 </thead>
                 <tbody>
                   <tr *ngFor="let data of asasa.data" class="resulttable">
                     <td *ngFor="let header of Bankdetailsheader"  style="border-right: 1px solid #c0c2b8" >{{data[header]}}
                     </td>
                   </tr>
                 </tbody>
               </nz-table>
           </nz-modal>

                <div nz-row nzGutter="10">

                    <div nz-col nz-Md="4" style= "float: left;">
                        <a (click)="ShowBankAccounts()" >Bank Accounts</a>
                    </div>

                    <div nz-col nzMd="6" style="padding-top: 18px; float: right;">
                        <!--  <iframe  [src]=url1 ></iframe>      -->
                        <!-- <a href="http://www.geojit.net/aspx2/Depository/dcobdocview.aspx?SerialNo=&Flag=0">PDF View</a> -->
                        <button [disabled]=buttonactive type="button" nz-button nzType="primary" (click)="PDFView()" style="float: right;">PDF View</button>
                      <button [disabled]=buttonactive type="button" nz-button nzType="primary" (click)="callURL()" style="float: right;">Documents View</button>
                        <button type="button" nz-button nzType="primary" (click)="reset()" style="float: right;">Reset</button>
                        <button type="button" [disabled]=buttonactive nz-button nzType="primary" (click)="getData()" style="float: right;">View</button>
        
                      </div> 
                </div>
              </div>
            </nz-card>
      </div>
    </div>
       <div style="text-align:center;position: relative;"><i nz-icon type="up" *ngIf="showLeftSide===false" (click)="toggleCenter()"></i><i nz-icon type="down" *ngIf="showLeftSide===true" (click)="toggleCenter()"></i>
       </div>


  <app-loader *ngIf="isSpinning"></app-loader>

   <div nz-row nzGutter="10">
          <div nz-col nzMd="24">
              <nz-card [nzTitle]=findHead1 style="margin-bottom: 10px;">
                  <ng-template #findHead1>
                   Auditor Review
                  </ng-template>
                  <div nz-col nzMd="24">
                    <div nz-row nzGutter="10">
                      <div nz-col nzMd="24">
        
        
                        <nz-form-item>
                          <div nz-row nzGutter="5">
                              <div nz-col nzMd="8">
                                  <fieldset class="fieldset_made">
                                      <legend class="fieldset-shadow-condensed">
                                          Account Type
                                      </legend>
                                      <div nz-row nzGutter="5">
                                      <div nz-col nzMd="6" >
                                      <nz-form-control>
                                          <span>
                                            <label nz-checkbox [disabled]="true" [(ngModel)]="Trading" readonly name="Trading">Trading</label>
                                          </span>
                                        </nz-form-control>
                                      </div>
                                      <div nz-col nzMd="6" >
                                        <nz-form-control >
                                            <span >
                                              <label [disabled]="true" nz-checkbox [(ngModel)]="NSDL" readonly name="NSDL">NSDL</label>
                                            </span>
                                          </nz-form-control>
                                        </div>
                                        <div nz-col nzMd="6" >
                                          <nz-form-control>
                                              <span>
                                                <label nz-checkbox [disabled]="true" [(ngModel)]="CDSL" readonly name="CDSL">CDSL</label>
                                              </span>
                                            </nz-form-control>
                                          </div>
                                          <div nz-col nzMd="6">
                                              <nz-form-control>
                                                <span>
                                                  <label class="boldinglabel" nz-checkbox [disabled]="true" [(ngModel)]="MTF" readonly
                                                    name="MTF">MTF</label>
                                                </span>
                                              </nz-form-control>
                                            </div>
                                        </div>
                                    
                          </fieldset>
                          </div>
                          <div nz-col nzMd="12">
                                  <fieldset class="fieldset_made">
                                      <legend class="fieldset-shadow-condensed">
                                         POA Details
                                      </legend>
                                      <div nz-row nzGutter="5">
                                      <div nz-col nzMd="4" >
                                      <nz-form-control>
                                          <span>
                                            <label nz-checkbox [disabled]="true" [(ngModel)]="poasigned" readonly name="poasigned">POA Signed</label>
                                          </span>
                                        </nz-form-control>
                                      </div>
                                      <div nz-col nzMd="5" >
                                          <!-- <nz-form-label class="required">POA Signed Date</nz-form-label> -->
                                          <nz-form-control>
                                              <nz-date-picker [disabled]="true" nzFormat="dd-MM-yyyy" [(ngModel)]="poasigneddate" name="poasigneddate"> </nz-date-picker>
                                            </nz-form-control>
                                        </div>
                                        <div nz-col nzMd="5" >
                                            <nz-form-control>
                                                <span>
                                                  <label nz-checkbox [disabled]="true" [(ngModel)]="poadebited" readonly name="poadebited" >POA Debited</label>
                                                </span>
                                              </nz-form-control>
                                          </div>
                                          <div nz-col nzMd="5" >
                                              <!-- <nz-form-label class="required">POA Debited Date</nz-form-label> -->
                                              <nz-form-control>
                                                  <nz-date-picker [disabled]="true" nzFormat="dd-MM-yyyy" [(ngModel)]="poadebiteddate" name="poadebiteddate"> </nz-date-picker>
                                                </nz-form-control>
                                            </div>
                                            <div nz-col nzMd="5" >
                                                <nz-form-control>
                                                    <span>
                                                      <label [disabled]=true nz-checkbox [(ngModel)]="poastamped" readonly name="poastamped">POA Stamped</label>
                                                    </span>
                                                  </nz-form-control>
                                                </div>
                                        </div>
                                       
                          </fieldset>
                          </div>
                          <div nz-col nzMd="4">
                              <fieldset class="fieldset_made">
                                  <legend class="fieldset-shadow-condensed">
                                      Client Type
                                  </legend>
                                  <div nz-row nzGutter="5">
                                  <div nz-col nzMd="12">
                                              <nz-form-control>
                                                <span>
                                                  <label nz-checkbox [disabled]="true" [(ngModel)]="B2B" readonly name="B2B">B2B</label>
                                                </span>
                                              </nz-form-control>
                                            </div>
                                            <div nz-col nzMd="12" *ngIf="B2B==true">
                                                <nz-form-control>
                                                  <span>
                                                      B2BPartner: {{B2BPartner}}
                                                   
                                                  </span>
                                                </nz-form-control>
                                              </div>
                                    </div>
                                     
                      </fieldset>
                      </div>
                        
        
                          </div>
        
                        </nz-form-item>
        
                      </div>
                    </div>
                    <div nz-row nzGutter="10">
                        <div nz-col nzMd="4">
                            <nz-form-item>
                                    <nz-form-label ><i nz-icon nzType="idcard" nzTheme="outline" class="text-success space"></i>First Holder Name</nz-form-label>
                                    <nz-form-control>
                                        <input nz-input [(ngModel)]="holdername" type="text" readonly name="holdername">
                                      </nz-form-control>
                                </nz-form-item>
                    </div>
                    <div nz-col nzMd="4">
                        <nz-form-label ><i nz-icon nzType="idcard" nzTheme="outline" class="text-success space"></i>First Holder Pan</nz-form-label>
                        <nz-form-control>
                          <input nz-input [(ngModel)]="holderpan" readonly type="text" name="holderpan">
                        </nz-form-control>
                      </div>
                     
                      <div nz-col nzMd="4">
                          <nz-form-label ><i nz-icon nzType="idcard" nzTheme="outline" class="text-success space"></i>Trading Account Type</nz-form-label>
                          <nz-form-control>
                            <input nz-input [(ngModel)]="code" type="text" readonly name="code">
                          </nz-form-control>
                        </div>
                        <div nz-col nzMd="4">
                            <nz-form-label><i nz-icon nzType="idcard" nzTheme="outline" class="text-success space"></i>Trading Account Description</nz-form-label>
                            <nz-form-control>
                              <input nz-input [(ngModel)]="acctype" readonly type="text" name="acctype">
                            </nz-form-control>
                          </div>
                          <div nz-col nzMd="4">
                              <nz-form-label ><i nz-icon nzType="idcard" nzTheme="outline" class="text-success space"></i>DP Account Type</nz-form-label>
                              <nz-form-control>
                                <input nz-input [(ngModel)]="dpcode" readonly type="text" name="dpcode">
                              </nz-form-control>
                            </div>
                            <div nz-col nzMd="4">
                                <nz-form-label ><i nz-icon nzType="idcard" nzTheme="outline" class="text-success space"></i>DP Account Sub Type</nz-form-label>
                                <nz-form-control>
                                  <input nz-input [(ngModel)]="subtype" readonly type="text" name="subtype">
                                </nz-form-control>
                              </div>
                            
                          
        
                    </div>
                    <div nz-row nzGutter="10" *ngIf="Secondholderpan!=''"> 
                      <div nz-col nzMd="4">
                        <nz-form-item>
                                <nz-form-label ><i nz-icon nzType="idcard" nzTheme="outline" class="text-success space"></i>Second Holder Name</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="Secondholdername" type="text" readonly name="Secondholdername">
                                  </nz-form-control>
                            </nz-form-item>
                </div>
                <div nz-col nzMd="4">
                    <nz-form-label ><i nz-icon nzType="idcard" nzTheme="outline" class="text-success space"></i>Second Holder Pan</nz-form-label>
                    <nz-form-control>
                      <input nz-input [(ngModel)]="Secondholderpan" readonly type="text" name="Secondholderpan">
                    </nz-form-control>
                  </div>
                    </div>
                    <div nz-row nzGutter="10">
                        <div nz-col nzMd="4">
                            <nz-form-item>
                                    <nz-form-label ><i nz-icon nzType="idcard" nzTheme="outline" class="text-success space"></i>Trading Region Name</nz-form-label>
                                    <nz-form-control>
                                        <input nz-input [(ngModel)]="tradingregionname" type="text" readonly name="tradingregionname">
                                      </nz-form-control>
                                </nz-form-item>
                    </div>
                    <div nz-col nzMd="2">
                        <nz-form-label ><i nz-icon nzType="idcard" nzTheme="outline" class="text-success space"></i>Location</nz-form-label>
                        <nz-form-control>
                          <input nz-input [(ngModel)]="TradingLocation" readonly type="text" name="TradingLocation">
                        </nz-form-control>
                      </div>
                      <div nz-col nzMd="2">
                          <nz-form-label ><i nz-icon nzType="idcard" nzTheme="outline" class="text-success space"></i>Trading Code</nz-form-label>
                          <nz-form-control>
                            <input nz-input [(ngModel)]="tradecode" type="text" readonly name="tradecode">
                          </nz-form-control>
                        </div>
                        <div nz-col nzMd="4">
                            <nz-form-label><i nz-icon nzType="idcard" nzTheme="outline" class="text-success space"></i>Trading Location Name</nz-form-label>
                            <nz-form-control>
                              <input nz-input [(ngModel)]="tradinglocname" readonly type="text" name="tradinglocname">
                            </nz-form-control>
                          </div>
                          <div nz-col nzMd="4">
                              <nz-form-label class="required">State</nz-form-label>
                              <nz-form-control>
                                  <input nz-input  [(ngModel)]="state" readonly name="state"  >
                              </nz-form-control>
                            </div>
                          <div nz-col nzMd="4">
                              <nz-form-label ><i nz-icon nzType="idcard" nzTheme="outline" class="text-success space"></i>DP Id</nz-form-label>
                              <nz-form-control>
                                <input nz-input [(ngModel)]="dpaccid" readonly type="text" name="dpaccid">
                              </nz-form-control>
                            </div>
                            <div nz-col nzMd="4">
                                <nz-form-label ><i nz-icon nzType="idcard" nzTheme="outline" class="text-success space"></i>DP Client Id</nz-form-label>
                                <nz-form-control>
                                  <input nz-input [(ngModel)]="dpaccbenid" readonly type="text" name="dpaccbenid">
                                </nz-form-control>
                              </div>
                          
        
                    </div>
                    <div nz-row nzGutter="10">
                        <div nz-col nzMd="4">
                            <nz-form-label ><i nz-icon nzType="idcard" nzTheme="outline" class="text-success space"></i>FirstHolder KRA Initial Status<i style="color: #175a92;margin-left: 25px;" (click)="resetkrainistatus()" nz-icon type="close"></i>
                            </nz-form-label>
                            <nz-form-control>
                              <input nz-input [(ngModel)]="initialstatus"  nzAllowClear  type="text" name="initialstatus">
                            </nz-form-control>
                          </div>
                          <div nz-col nzMd="4">
                              <nz-form-label ><i nz-icon nzType="idcard" nzTheme="outline" class="text-success space"></i>FirstHolder KRA Update Status<i style="color: #175a92;margin-left: 25px;" (click)="resetkraupstatus()"
                                nz-tooltip nzTooltipTitle="Clear the field" nz-icon type="close"></i></nz-form-label>
                              <nz-form-control>
                                <input nz-input [(ngModel)]="updatestaus"  nzAllowClear  type="text" name="updatestaus">
                                
                                <!-- <i style="color: #175a92;" nz-icon type="close"></i> -->
                              </nz-form-control>
                            </div>
                        <div nz-col nzMd="2">
        
                            <nz-form-label ><i nz-icon nzType="idcard" nzTheme="outline" class="text-success space"></i>No. Of Holders</nz-form-label>
                            <nz-form-control>
                              <input nz-input  [(ngModel)]="holderno" readonly name="holderno"  >
                            </nz-form-control>
        
                          </div>
                          <div nz-col nzMd="2">

                              <nz-form-label><i nz-icon nzType="idcard" nzTheme="outline" class="text-success space"></i>Pouch Slno
                              </nz-form-label>
                              <nz-form-control>
                               
                                <input readonly nz-input [(ngModel)]="model.pouchno" name="pouchno" >
                              </nz-form-control>
              
                            </div>
              
                            <div nz-col nzMd="3">
                                <nz-form-label class="required">Enroll Date</nz-form-label>
                                <nz-form-control>
                                  <nz-date-picker [disabled]="true" nzFormat="dd-MM-yyyy" [(ngModel)]="EnrolDate" name="EnrolDate"> </nz-date-picker>
                                </nz-form-control>
                              </div>
        
                          <div nz-col nzMd="3" style="padding-top: 5px;">
                              <nz-form-control>
                                <nz-form-label>&nbsp;</nz-form-label>
        
                                <nz-form-control>
                                  <label [disabled]="true" nz-checkbox [(ngModel)]="dcmntrecieved" name="dcmntrecieved">
                                    Document Received</label>
                                </nz-form-control>
                              </nz-form-control>
                            </div>
        
                            <div nz-col nzMd="3">
                                <nz-form-label class="required">Received Date</nz-form-label>
                                <nz-form-control>
                                  <nz-date-picker [disabled]="true" nzFormat="dd-MM-yyyy" [(ngModel)]="receiveddate" name="accepteddate"> </nz-date-picker>
                                </nz-form-control>
                              </div>
        
                            <div nz-col nzMd="3" style="padding-top: 5px;">
                              <nz-form-control>
                                <nz-form-label>&nbsp;</nz-form-label>
        
                                <nz-form-control>
                                  <label [disabled]="true" nz-checkbox [(ngModel)]="passedtoauditor" name="passedtoauditor">Paased
                                    To Auditor</label>
                                </nz-form-control>
                              </nz-form-control>
                            </div>
                          </div>
                          <div nz-row nzGutter="5">
                             
                              <div nz-col nzMd="3">
                                  <nz-form-label class="required">CA Verification Date</nz-form-label>
                                  <nz-form-control>
                                    <nz-date-picker [nzDisabledDate]="disabledFutureDate" [(ngModel)]="CAVerificationDate" nzFormat="dd-MM-yyyy" name="CAVerificationDate"> </nz-date-picker>
                                  </nz-form-control>
                                </div>
                                <div nz-col nzMd="3">
                                    <nz-form-label >Audit Deviation Cleared Date</nz-form-label>
                                    <nz-form-control>
                                      <nz-date-picker [nzDisabledDate]="disabledFutureDate"  [(ngModel)]="AuditDeviationClearedDate" nzFormat="dd-MM-yyyy" name="AuditDeviationClearedDate"> </nz-date-picker>
                                    </nz-form-control>
                                  </div>
                                
                            <div nz-col nzMd="5" style="padding-top: 5px;">
                                <nz-form-control>
                                  <nz-form-label>&nbsp;</nz-form-label>
          
                                  <nz-form-control>
                                    <label nz-checkbox [(ngModel)]="DeviationsByCA_In_AccOpen_Documents" name="DeviationsByCA_In_AccOpen_Documents">Deviations By CA In AOF Documents</label>
                                  </nz-form-control>
                                </nz-form-control>
                              </div>
                              <div nz-col nzMd="6" style="padding-top: 5px;">
                                  <nz-form-control>
                                    <nz-form-label>&nbsp;</nz-form-label>
            
                                    <nz-form-control>
                                      <label nz-checkbox [(ngModel)]="DeviationsByCA_In_DPMvsAOF_Documents" name="DeviationsByCA_In_DPMvsAOF_Documents"> Deviations by CA in DPM/CDAS vs AOF Documents</label>
                                    </nz-form-control>
                                  </nz-form-control>
                                </div>
                                <div nz-col nzMd="5" style="padding-top: 5px;">
                                    <nz-form-control>
                                      <nz-form-label>&nbsp;</nz-form-label>
              
                                      <nz-form-control>
                                        <label nz-checkbox [(ngModel)]="DeviationsByCA_In_Sup_Documents" name="DeviationsByCA_In_Sup_Documents">Deviations By CA In Supporting Documents</label>
                                      </nz-form-control>
                                    </nz-form-control>
                                  </div>
                                 

                          
                            <!-- <div nz-row nzGutter="5"> -->
                            <div nz-col nzMd="2" style="padding-top: 18px; float: right;">
        
                                <button type="button" [disabled]=buttonactive nz-button nzType="primary" (click)="save()" style="float: right;">Save</button>
                                <!-- <button nz-button nzType="primary" (click)="processComplete()" style="float: right;">OK</button> -->
              
                              </div>
                            </div>
                              <!-- </div> -->
                         
                 
        
                
                  </div>
                </nz-card>


        <div nz-row nzGutter="10">

            <div nz-col nzMd="24">
              <nz-table  #ClientChangeArraytable1 [nzData]="tablerow"  [nzSize]="'small'"
                [nzShowPagination]="false" [nzFrontPagination]="false" class="table-responsive" style="width:100%">
                <thead>
                  <tr style="background: rgba(137, 238, 204, 0.678);">
                
                    <th style="width:5%">SL NO</th>
                    <th style="padding-left: 10px;" style="width:25%" >Audit Findings</th>
                    <th style="padding-left: 10px;" style="width:15%">HO Review Flag</th>
                    <th style="padding-left: 10px;" style="width:25%" [hidden]="hideval" >Auditor Remarks</th>
                    <th style="padding-left: 10px;" style="width:10%" [hidden]="hideval" >HORemarks</th>
                    <th  style="width:5%" >Close Flag </th>
                    <th  style="width:10%"></th>

                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let data of tablerow; let i = index">
                    <!-- <td> <label nz-checkbox [(ngModel)]="data.AuditorFinding"  [ngModelOptions]="{standalone: true}"  ></label></td> -->
                    <!-- <td (click)="getHistoryData(i,data)">{{i+1}}</td> -->
                      <td style="color: #ef0410;cursor: pointer;" (click)="getHistoryData(i,data)">{{data.Slno}}</td>
                    <!-- <td>  <nz-select nzAllowClear   [(ngModel)]="data.AuditorFinding" nzPlaceHolder="AuditorFinding"  name="Mode{{i}}" nzDropdownMatchSelectWidth="true">
                  <nz-option [nzAutocomplete]="auto" *ngFor="let item of Deviations" [nzLabel]="item.AuditorFinding" [nzValue]="item.AuditorFinding">
                  </nz-option>
                </nz-select></td> -->
                <td>
                <nz-form-control>
                    <input type="text" #batch{{i}} nz-input [(ngModel)]="data.AuditorFinding" id="AuditorFinding{{i}}"  name="AuditorFinding{{i}}"  [ngModelOptions]="{standalone: true}"
                        (ngModelChange)="getFilterdData($event)" [nzAutocomplete]="auto" (keyup.enter)="nextTextBoxFocus(i)" />
                    <nz-autocomplete #auto>
                        <nz-auto-option *ngFor="let item of filteredData" [nzValue]="item"
                            [nzLabel]="item.AuditorFinding" class="aleternateColor">
                            <span [innerHTML]="item.AuditorFinding" ></span>
                        </nz-auto-option>
                    </nz-autocomplete>
                </nz-form-control>

                </td>
                          <td  >   <nz-select [(ngModel)]="data.HOReviewFlag" nzDisabled  name="HOReviewFlag{{i}}" nzDropdownMatchSelectWidth="true">
                  <nz-option *ngFor="let item of HOReviewFlags"  [nzLabel]="item.Mode" [nzValue]="item.code">
                  </nz-option>
                  <!-- [nzDisabled]="item.code!='C'" -->
                </nz-select></td>

                
                    <td> <nz-form-control>
                        <input nz-input  [(ngModel)]="data.AuditorRemarks" type="text" name="remarks{{i}}"  [ngModelOptions]="{standalone: true}">
                      </nz-form-control></td>

                      <td  style="text-overflow: ellipsis;overflow: hidden;max-width: 8vw;"><span nz-tooltip [nzTitle]="data?.HORemarks">{{data.HORemarks}}</span></td>
                      <td style="text-align: center;"><label nz-checkbox  [disabled]="!(i<=findingslength-1)" [(ngModel)]="data.AuditorReviewFlag"  [ngModelOptions]="{standalone: true}"  [class.dirty]="!data.AuditorReviewFlag"></label></td>
                      <td><button type="button" [disabled]=buttonactive nz-button nzType="primary" (click)="delete(i,data)" style="float: right;" [hidden]="i<=findingslength-1">Delete</button>
                        <button type="button" [disabled]=buttonactive nz-button nzType="primary"  (click)="Addrow(i,data)" [hidden]="i==tablerow.length-1?false:true" style="float: right;">Add</button>
                      </td>
                  </tr>
                </tbody>
              </nz-table>
            </div>

            <div nz-col nzMd="24" *ngIf="DetailDataTemp.length" [hidden]="history">
                <fieldset class="fieldset_made">
                    <legend class="fieldset-shadow-condensed">
                        History Table
                    </legend>
                <nz-table  #ClientChangeArraytable [nzData]="DetailDataTemp"  [nzSize]="'small'"
                  [nzShowPagination]="false" [nzFrontPagination]="false">
                  <thead>
                    <tr style="background: rgba(137, 238, 204, 0.678);">
                  
                      <!-- <th nzWidth="2%">SL NO</th> -->
                      <th  nzWidth="4%">Batch No</th>
                      <th  nzWidth="15%">Audit Findings</th>
                      <th nzWidth="15%">Solution</th>
                      <th nzWidth="5%">HOReviewFlag</th>
                      <th nzWidth="15%">Auditor Remarks</th>
                      <th nzWidth="10%">HO Remarks</th>
                      <th nzWidth="4%">CloseFlag</th>
                      <th nzWidth="4%">LastUpdatedOn</th>
                       <th nzWidth="4%">User</th>
                      <!-- <th  nzWidth="2%"></th> -->
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let data of DetailDataTemp; let i = index">
                      <!-- <td> <label nz-checkbox [(ngModel)]="data.NSDL"  [ngModelOptions]="{standalone: true}"  ></label></td> -->
                      <!-- <td>{{data.Slno}}</td> -->
                      <td>{{data.BatchNo}}</td>
                      
                      <td>{{data.AuditorFinding}} </td>
                      <td>{{data.Solution}} </td>
                      <td>{{data.HOReviewFlag=='S'?'Solved':data.HOReviewFlag=='P'||data.HOReviewFlag=='N'?'Pending':data.HOReviewFlag=='R'?'Not Accepted':data.HOReviewFlag=='M'?'Remove':''}}</td>
                      
                      <td>{{data.AuditorRemarks}}</td>
                      <td>{{data.HORemarks}}</td>
                      <td> {{data.AuditorReviewFlag?'Y':'N'}}</td>
                      <td>{{data.LastUpdatedOn}} </td>
                      <td>{{data.EUser}} </td>
                        <!-- <td><button nz-button nzType="primary" (click)="delete(i)" style="float: right;">Delete</button>
                          <button nz-button nzType="primary" (click)="Addrow(i,data)" [hidden]="i==tablerow.length-1?false:true" style="float: right;">Add</button>
                        </td> -->
  
                    </tr>
                  </tbody>
                </nz-table>
                </fieldset>
              </div>
           

          </div>
        </div>
      </div>

       <nz-modal [(nzVisible)]="isVisibleRejection" nzTitle="Warning" (nzOnCancel)="handleCancel()"
    (nzOnOk)="handleCancel()" nzWidth="70%">

    <div style="font-size: 25px;color: red;"> Access denied! </div>

    </nz-modal>

</form>


  <app-file-preview [(isVisible)]="filePreiewVisible" [content]="filePreiewContent" [contentType]="filePreiewContentType"
  [fileName]="filePreiewFilename"></app-file-preview>
  </div>

  

