<!-- <div  style="position: absolute; top:0"></div> -->
<div #tabsContentRef class="main-content">
  <nz-tabset [(nzSelectedIndex)]="activeTabIndex" class="fixedtab">
    <nz-tab nzTitle="Status Conversion check" *ngIf="firstTabView" [nzDisabled]="firsttabdisable">

      <form nz-form nzLayout="vertical">
        <div nz-row nzGutter="10">
          <div nz-col nzMd="24">
            <nz-card [nzTitle]=findHead style="margin-bottom: 10px;">
              <ng-template #findHead>
                Find PAN
              </ng-template>
              <div nz-col nzMd="24" class="paddingbottomn10">
                <div nz-row nzGutter="10">
                  <div nz-col nzMd="4">
                    <nz-form-item>
                      <!-- (click)="Printbutton()" -->
                      <nz-form-label>PAN</nz-form-label>
                      <nz-form-control>
                        <div nz-row>
                          <div nz-col nzMd="24">
                            <!-- <lib-master-nonautofind [options]="panFindOption" [(ngModel)]="model.PanNo" name="PanNO"
                              #client id="findclient">
                            </lib-master-nonautofind> -->
                            <input nz-input name="panno" [(ngModel)]="model.PanNo" style="text-transform: uppercase;"
                              autocomplete="off">
                          </div>
                        </div>

                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col nzMd="3" style="padding-top: 18px;">
                    <button nz-button nzType="primary" class="searchBtn" (click)="onClientSearch()">Search</button>
                    <!-- <button nz-button nzType="primary" class="searchBtn" (click)="Printbutton()">Print</button> -->
                  </div>
                  <div nz-col nzMd="5" style="padding-top: 18px; float: right;">
                    <div nz-row nzGutter="10">
                      <div nz-col nzSpan="24">
                        <button nz-button nzType="primary" (click)="onviewReset()" style="float: right;">Reset</button>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
            </nz-card>
            <nz-card [nzTitle]=Details>
              <ng-template #Details>
                Current Accounts of Client With Us
              </ng-template>

              <div nz-row nzGutter="5" style="margin-top:-15px;">
                <div nz-col nzMd="4">
                  <b> Trading Accounts : {{accountCountArray.Trading_Accounts}}</b>
                </div>
                <div nz-col nzMd="4">
                  <b>NSDL Accounts : {{accountCountArray.NSDL_Accounts}}</b>
                </div>
                <div nz-col nzMd="4">
                  <b>CDSL Accounts : {{accountCountArray.CDSL_Accounts}}</b>
                </div>
                <div nz-col nzMd="4">
                  <b>Total Accounts : {{accountCountArray.ALL_Accounts}}</b>
                </div>
              </div>
              <div nz-row nzGutter="10" class="paddingbottomn10">

                <div nz-col nzMd="17">
                  <nz-table #ClientChangeArraytable [nzData]="clientArrayTemp" [nzSize]="'small'"
                    [nzShowPagination]="false" [nzFrontPagination]="false" [nzScroll]="{ x: '750px'}" [nzNoResult]="">
                    <thead>
                      <tr style="background: rgba(137, 238, 204, 0.678);">
                        <th>Account Type</th>
                        <th>Account Code</th>
                        <th>Name</th>
                        <th>Location</th>
                        <th>Enrol Date</th>
                        <th>DOB</th>
                        <th nzAlign='center'>Applicable</th>
                        <th>Account Status</th>
                        <th>Account Type</th>
                        <th>Account SubType</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let data of ClientChangeArraytable.data">
                        <td>{{data.AccountType}}</td>
                        <!-- [class.linktext]="data.AccountSignature !=null&&HO" -->
                        <!-- (click)="ShowSignature(data);" -->
                        <td>
                          {{data.AccountCode}}</td>
                        <!-- [class.linktext]="data.AccountType == 'TRADING'&&HO" -->
                        <td (click)="ShowIpvHistory(data.AccountCode)">{{data.AccountName}}</td>
                        <!-- [class.linktext]="data.AccountType != 'TRADING'" -->
                        <td (click)="ShowHolderDetails(data)">
                          {{data.AccountLocation}}</td>
                        <td>{{data.AccountEnrolDate| slice:0:10 }}</td>
                        <td>{{data.AccountDOB | slice:0:10}}</td>
                        <td nzShowCheckbox nzAlign="left" [(nzChecked)]="data.AccountFlag" [nzDisabled]="!((data.AccountType=='NSDL'&& MultipleDPAvailable) || (data.AccountType=='CDS' && MultipleDPAvailable))"
                          (change)="eventCheck($event.target)" nzAlign='center'> </td>
                        <td> {{data.AccountStatus}}</td>
                        <td>{{data.AccountClientType}}</td>
                        <td>{{data.AccountClientSubType}}</td>
                      </tr>
                    </tbody>
                  </nz-table>

                  <div *ngIf="afterpansearch" nz-row nz-Gutter="5" class="p-2">
                    <p *ngIf="sameaccounttype && afterpansearch" class="text-danger">" Found multiple trading accounts
                      linked to this PAN. Please close the additional trading accounts for status conversion. "
                    </p>
                    <p *ngIf="MultipleDPAvailable && afterpansearch" class="text-danger">" Please note: There are
                      multiple Demat Accounts linked to this PAN. One of the following changes need to be done to the
                      Demat Accounts.
                      <br>
                      1. All active Demat Accounts should be changed to new status.
                      <br>
                      2. Execute either closing or closing cum transfer to the Demat Account/s. "
                    </p>
                  </div>

                </div>
                <div nz-col nzMd="7">
                  <div class="clientstatus">
                    <div style="display: inline-block; width: 120px;">KRA KYC Verified</div>
                    <div style="display: inline-block; width: 20px;">
                      <i *ngIf="this.krakyc.KRAKYC_Flag" nz-icon [nzType]="'check-circle'" [nzTheme]="'twotone'"
                        [nzTwotoneColor]="'#52c41a'" style="font-size: 16px; margin-top: 5px;"></i><i
                        *ngIf="!this.krakyc.KRAKYC_Flag" nz-icon [nzType]="'close-circle'" [nzTheme]="'twotone'"
                        [nzTwotoneColor]="'#f5270c'" style="font-size: 16px;margin-top: 5px;"></i>
                    </div>

                    <div style="display: inline-block; font-weight: bold;"> {{this.krakyc.KRAKYC_Status}}</div>
                  </div>

                  <div class="clientstatus">
                    <div style="display: inline-block; width: 120px;">CKYC Verified</div>
                    <div style="display: inline-block;width: 20px;"> <i *ngIf="this.krakyc.CKYC_Flag" nz-icon
                        [nzType]="'check-circle'" [nzTheme]="'twotone'" [nzTwotoneColor]="'#52c41a'"
                        style="font-size: 16px;margin-top: 5px;"></i><i *ngIf="!this.krakyc.CKYC_Flag" nz-icon
                        [nzType]="'close-circle'" [nzTheme]="'twotone'" [nzTwotoneColor]="'#f5270c'"
                        style="font-size: 16px; margin-top: 5px;"></i></div>

                    <div style="display: inline-block;">CKYC No </div>
                    <div style="display: inline-block; font-weight: bold;">{{this.krakyc.CKYC_No}}</div>
                  </div>

                  <div class="clientstatus">
                    <div style="display: inline-block; width: 120px;">CIN No</div>
                    <div style="display: inline-block; font-weight: bold;"> {{this.krakyc.GeneratedCinNo}}</div>
                  </div>
                  <div class="clientstatus">
                    <div style="display: inline-block; width: 120px;">Client Status</div>
                    <div style="display: inline-block; font-weight: bold;">{{clientStatus}}</div>
                  </div>
                  <div class="clientstatus">
                    <div style="display: inline-block; width: 120px;">Client Type</div>
                    <div style="display: inline-block;font-weight: bold;">{{this.krakyc.PANTypeDesc}}</div>
                  </div>
                  <div class="clientstatus">
                    <div style="display: inline-block; width: 120px;">Pending Requests</div>
                    <div style="display: inline-block;font-weight: bold;width: 30px">{{pendingcount}}</div>
                    <!-- <div style="display: inline-block;font-weight: bold;">
                      <button nz-button *ngIf="this.pendingRequests?.length>0" nzType="link"
                        style="float: left; border-style: none;" nzSize="small" (click)="ShowPendigRequests()">View
                        Pending</button>
                    </div> -->

                  </div>
                  <div class="clientstatus">
                    <div style="display: inline-block; width: 120px;"> First level Approved </div>
                    <div style="display: inline-block;font-weight: bold;width: 30px">{{frstLvlApprovalCount}}</div>
                    <!-- <div style="display: inline-block;font-weight: bold;">
                      <button nz-button *ngIf="this.FirstlevelApprove?.length>0" nzType="link"
                        style="float: left; border-style: none;" nzSize="small"
                        (click)="ShowFirstLevelApproveRequests()">View
                        First Level Approved</button>
                    </div> -->

                  </div>
                  <div class="clientstatus">
                    <div style="display: inline-block; width: 120px;"> Rejected Requests</div>
                    <div style="display: inline-block;font-weight: bold;width: 30px">{{rejectionCount}}</div>
                    <!-- <div style="display: inline-block;font-weight: bold;">
                      <button nz-button *ngIf="this.rejectedRequests?.length>0" nzType="link"
                        style="float: left; border-style: none;" nzSize="small" (click)="ShowRejectedRequests()">View
                        Rejected</button>
                    </div> -->

                  </div>
                  <div class="clientstatus">
                    <div style="display: inline-block; width: 120px;"> Approved Requests</div>
                    <div style="display: inline-block;font-weight: bold;width: 30px">{{approvedCount}}</div>
                    <div style="display: inline-block;font-weight: bold;width: 50%">
                      <p style="text-align: right;" *ngIf="!DisableNextButton">
                        <button nz-button nzType="primary" (click)="OpenValidationForm()"
                          *ngIf="!sameaccounttype && !AccountClientTypeValidate">Next</button>
                      </p>
                    </div>
                    <!-- <div style="display: inline-block;font-weight: bold;"> <button nz-button
                        *ngIf="this.approvedRequest?.length>0" nzType="link" style="float: left; border-style: none;"
                        nzSize="small" (click)="ShowApprovedRequests()">View Approved</button></div> -->
                  </div>

                </div>


                <!-- <div nz-col nzMd="24">
                  <div nz-row nzGutter="5" style="margin-top: 5px;">
                    <div nz-col nzMd="9">
                      <p style="text-align: right;" *ngIf="!DisableNextButton">
                        <button nz-button nzType="primary" (click)="OpenValidationForm()"
                          *ngIf="!sameaccounttype && !AccountClientTypeValidate">Next</button>
                      </p>
                    </div>

                  </div>

                </div> -->
              </div>
            </nz-card>
            <!-- <nz-card *ngIf="fisttabcompleted && Nomineecardshow" [nzTitle]=Nominee>
              <ng-template #Nominee>
                Nominees of Client
              </ng-template>
              <div nz-row nzGutter="18">
                <div nz-col>
                  <nz-table #ClientChangeArraytable [nzData]="clientArrayTemp" [nzSize]="'small'"
                    [nzShowPagination]="false" [nzFrontPagination]="false" [nzScroll]="{ x: '750px'}" [nzNoResult]="">
                    <thead>
                      <tr style="background: rgba(137, 238, 204, 0.678);">
                        <th *ngFor="let item of NomineeDetailsheaders">{{item}}</th>

                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let nominee of NomineeDetails">
                        <td>{{nominee.MFGuardian}}</td>
                        <td>{{nominee.MFGuardianADD3}}</td>
                        <td>{{nominee.MFGuardianAdd1}}</td>
                        <td>{{nominee.MFGuardianAdd2}}</td>
                        <td>{{nominee.MFGuardianPIN}}</td>
                        <td>{{nominee.MFNomineeAdd1}}</td>
                        <td>{{nominee.MFNomineeAdd2}}</td>
                        <td>{{nominee.MFNomineeAdd3}}</td>
                        <td>{{nominee.MFNomineeDOB}}</td>
                        <td>{{nominee.MFNomineeName}}</td>
                        <td>{{nominee.MFNomineePIN}}</td>
                        <td>{{nominee.MFNomineeRelShip}}</td>
                        <td>{{nominee.MFminorNomineeRelat}}</td>
                      </tr>
                    </tbody>
                  </nz-table>
                </div>
              </div>
            </nz-card> -->

          </div>
        </div>
      </form>
      <!-- section 2 -->
    </nz-tab>
    <!-- <nz-tab *ngIf="fisttabcompleted"  nzTitle="Validation" nzDisabled=true> -->
    <nz-tab *ngIf="fisttabcompleted" nzTitle="{{edittabtitle}}" [nzDisabled]="secondtabdisable">

      <!-- <crf-app-editwindow [tab]="edittabtitle" [Data]="testdata" #EditWindow></crf-app-editwindow> -->
      <form nz-form [class.disableCards3]="productiontestenable" *ngIf="ValidateFormEnable" nzLayout="vertical"
        ngxScrollToFirstInvalid>
        <div>


          <div nz-row class="topmargin2rem">
            <div class="w-50" nz-col><span>
                1. Open position or unsettled trade should not be there in the trade code.
              </span>
            </div>
            <div nz-col>
              <label nz-checkbox [(ngModel)]="openpositionorunsettledchecked" [ngModelOptions]="{standalone: true}"
                (ngModelChange)="SetOnOfFiveValidation('branch')"></label>
            </div>
          </div>


          <div nz-row class="topmargin2rem">
            <div class="w-50">
              <span>
                2. Debit balance should not be there in the trade code.
              </span>
            </div>
            <div nz-col>
              <label nz-checkbox [(ngModel)]="debitbalanceintradecodechecked" [ngModelOptions]="{standalone: true}"
                (ngModelChange)="SetOnOfFiveValidation('branch')"></label>
            </div>
          </div>
          <!-- *ngIf="ConversionType == 'CLtoNRI'" -->

          <div nz-row class="topmargin2rem" [ngStyle]="{opacity: mtfpositionnotintradecodeenable ? 1:0.3}">
            <div class="w-50">
              <span>
                3. MTF position should not be there in the trade code.
              </span>
            </div>
            <div nz-col>
              <label nz-checkbox [(ngModel)]="mtfpositionnotintradecodechecked" [ngModelOptions]="{standalone: true}"
                (ngModelChange)="SetOnOfFiveValidation('branch')"></label>
            </div>
          </div>

          <div nz-row class="topmargin2rem">
            <div class="w-50">
              <span>
                4. Pledge requests should not be there in the trade code.
              </span>
            </div>
            <div nz-col>
              <label nz-checkbox [(ngModel)]="pledgerequestnotintradecodechecked" [ngModelOptions]="{standalone: true}"
                (ngModelChange)="SetOnOfFiveValidation('branch')"></label>
            </div>
          </div>

          <div nz-row class="topmargin2rem">
            <div class="w-50">
              <span>
                5. Active Running SIP should not be there in the trade code.
              </span>
            </div>
            <div nz-col>
              <label nz-checkbox [(ngModel)]="activeSIPnotintradecodechecked" [ngModelOptions]="{standalone: true}"
                (ngModelChange)="SetOnOfFiveValidation('branch')"></label>
            </div>
          </div>
          <div *ngIf="JoinHolder" class="p-2" nz-row nzMd="9">
            <p class="text-danger">This PAN Consist JoinHolder ! </p>
          </div>
          <div *ngIf="!final && ValidationNextButtonEnable" [class.enableCard1]="true" nz-row nzMd="9">

            <button class="float-right m-4" nz-button nzType="primary" (click)="onnextinfirsttab()">Next</button>
          </div>

          <!-- <nz-card class="topmargin2rem" [nzTitle]=activeSIPnotintradecode>
      <ng-template #activeSIPnotintradecode>
        <div nz-row >
          <span>
            e.	Active Running SIP should not be there in the trade code.
          </span>
          &nbsp;
          <label nz-checkbox   [(ngModel)]="activeSIPnotintradecodechecked"></label>
        </div>
      </ng-template>
      <div nz-row nzGutter="18">
        <p>pledgerequestnotintradecode works</p>
      </div>
    </nz-card> -->

        </div>
      </form>
      <div *ngIf="AllFormEnable" class="targetRed" id="targetRed" #targetRed>


        <nz-card style="margin-bottom: 10px;">
          <div nz-row nzGutter="2">
            <div nz-col nzMd="12">
              <div nz-row nzGutter="5">
                <div nz-col nzMd="4">
                  PAN Number
                </div>
                <div nz-col nzMd="20" class="bold">
                  : {{model.PanNo}}
                </div>
              </div>
              <div nz-row nzGutter="5">
                <div nz-col nzMd="4">
                  Name
                </div>
                <div nz-col nzMd="20" class="bold">
                  : {{AccountName}}
                </div>

              </div>
            </div>

            <div nz-col nzMd="12">
              <!-- *ngIf="requestID!=''||requestID!=undefined" -->
              <!-- <span style="float:right;" class="bold" *ngIf="BoxNo!==''||BoxNo!==undefined"
                (click)="GetSpForThreeValidationHO()"> ID :
                {{BoxNo}}</span><br> -->
              <a href="#" (click)="ViewAccounts()" style="float: right;">View Accounts</a><br>
              <a *ngIf="fromReportPoolPage" ref="#"  (click)="openmodaldata($event)"style="float: right;">Document
                Verification</a><br>
              <a *ngIf="tab=='Bank'" href="#" (click)="ShowBankAccounts()" style="float: right;">Bank Accounts</a><br>
              <a *ngIf=" HO && applicationStatus=='F'" href="#" (click)="ShowHOModifications()" style="float: right;">HO
                Modifications</a><br>

            </div>
          </div>
          <div nz-row>
            <form nz-form [formGroup]="form_type_selection" nzLayout="vertical" ngxScrollToFirstInvalid>
              <div nz-col nzLg="18" nzMd="24">
                <nz-form-item>
                  <!-- <nz-form-label>&nbsp;</nz-form-label> -->


                  <nz-form-label>
                    <nz-tabset [(nzSelectedIndex)]="TypeTabIndex" class="fixedtab">
                      <nz-tab nzTitle="NRI TO CL" [nzDisabled]="Type1disable">
                        <div [class.disableCards1]="!editFlag && !rejectEditeEnable" formGroupName="Type1">
                          <h3>Demat Account</h3>
                          <table style="width:100%;">

                            <tr>
                              <th class="w-25"></th>
                              <th>Current Type</th>
                              <th>New Type</th>
                            </tr>
                            <tr>
                              <td>Type : </td>
                              <td>
                                <nz-form-item>

                                  <nz-form-control>
                                    <!-- <nz-select formControlName="DAoldtype" nzPlaceHolder="Choose"
                                      (ngModelChange)="changResCity($event)">
                                      <nz-option *ngFor="let data of type1DAoldtypelist" [nzValue]="data"
                                        [nzLabel]="data" style="word-break:break-word;"></nz-option>

                                    </nz-select>  -->
                                    <input nz-input formControlName="DAoldtype" required readonly />
                                  </nz-form-control>
                                </nz-form-item>

                              </td>
                              <td>
                                <nz-form-item>

                                  <nz-form-control>
                                    <!-- <nz-select formControlName="DAnewtype" nzPlaceHolder="Choose"
                                      (ngModelChange)="changResCity($event)">
                                      <nz-option *ngFor="let data of type1DAnewtypelist" [nzValue]="data"
                                        [nzLabel]="data" style="word-break:break-word;"></nz-option>

                                    </nz-select>  -->
                                    <input nz-input formControlName="DAnewtype" required readonly />
                                  </nz-form-control>
                                </nz-form-item>

                              </td>

                            </tr>
                            <tr>
                              <td>Sub Type : </td>
                              <td>
                                <nz-form-item>

                                  <nz-form-control>
                                    <!-- <nz-select formControlName="DAoldtype" nzPlaceHolder="Choose"
                                      (ngModelChange)="changResCity($event)">
                                      <nz-option *ngFor="let data of type1DAoldsubtypelist" [nzValue]="data"
                                        [nzLabel]="data" style="word-break:break-word;"></nz-option>

                                    </nz-select>  -->
                                    <input nz-input formControlName="DAoldsubtype" required readonly />
                                  </nz-form-control>
                                </nz-form-item>

                              </td>
                              <td>
                                <nz-form-item>

                                  <nz-form-control>
                                    <!-- <nz-select formControlName="DAnewtype" nzPlaceHolder="Choose"
                                      (ngModelChange)="changResCity($event)">
                                      <nz-option *ngFor="let data of type1DAnewsubtypelist" [nzValue]="data"
                                        [nzLabel]="data" style="word-break:break-word;"></nz-option>

                                    </nz-select>  -->
                                    <input nz-input formControlName="DAnewsubtype" required readonly />
                                  </nz-form-control>
                                </nz-form-item>

                              </td>

                            </tr>
                          </table>

                          <h3>Trading Account</h3>
                          <table style="width:100%;">

                            <tr>
                              <th class="w-25"></th>
                              <th>Current Type</th>
                              <th>New Type</th>
                            </tr>
                            <tr>
                              <td>Type : </td>
                              <td>
                                <nz-form-item>

                                  <nz-form-control>
                                    <!-- <nz-select formControlName="TAoldtype" nzPlaceHolder="Choose"
                                      (ngModelChange)="changResCity($event)">
                                      <nz-option *ngFor="let data of type1TAoldtypelist" [nzValue]="data"
                                        [nzLabel]="data" style="word-break:break-word;"></nz-option>

                                    </nz-select>  -->
                                    <input nz-input formControlName="TAoldtype" required readonly />
                                  </nz-form-control>
                                </nz-form-item>

                              </td>
                              <td>
                                <nz-form-item>

                                  <nz-form-control>
                                    <!-- <nz-select formControlName="TAnewtype" nzPlaceHolder="Choose"
                                      (ngModelChange)="changResCity($event)">
                                      <nz-option *ngFor="let data of type1TAnewtypelist" [nzValue]="data"
                                        [nzLabel]="data" style="word-break:break-word;"></nz-option>

                                    </nz-select>  -->
                                    <input nz-input formControlName="TAnewtype" required readonly />
                                  </nz-form-control>
                                </nz-form-item>

                              </td>

                            </tr>
                          </table>
                        </div>
                      </nz-tab>
                      <nz-tab nzTitle="NRE TO NRO" [nzDisabled]="Type2disable">
                        <div [class.disableCards1]="!editFlag && !rejectEditeEnable" formGroupName="Type2">
                          <h3>Demat Account</h3>
                          <table style="width:100%;">

                            <tr>
                              <th class="w-25"></th>
                              <th>Current Type</th>
                              <th>New Type</th>
                            </tr>
                            <tr>
                              <td>Type : </td>
                              <td>
                                <nz-form-item>

                                  <nz-form-control>
                                    <!-- <nz-select formControlName="DAoldtype" nzPlaceHolder="Choose"
                                      (ngModelChange)="changResCity($event)">
                                      <nz-option *ngFor="let data of type2DAoldtypelist" [nzValue]="data"
                                        [nzLabel]="data" style="word-break:break-word;"></nz-option>

                                    </nz-select>  -->
                                    <input nz-input formControlName="DAoldtype" required readonly />
                                  </nz-form-control>
                                </nz-form-item>

                              </td>
                              <td>
                                <nz-form-item>

                                  <nz-form-control>
                                    <!-- <nz-select formControlName="DAnewtype" nzPlaceHolder="Choose"
                                      (ngModelChange)="changResCity($event)">
                                      <nz-option *ngFor="let data of type2DAnewtypelist" [nzValue]="data"
                                        [nzLabel]="data" style="word-break:break-word;"></nz-option>

                                    </nz-select>  -->
                                    <input nz-input formControlName="DAnewtype" required readonly />
                                  </nz-form-control>
                                </nz-form-item>

                              </td>

                            </tr>
                            <tr>
                              <td>Sub Type : </td>
                              <td>
                                <nz-form-item>

                                  <nz-form-control>
                                    <!-- <nz-select formControlName="DAoldtype" nzPlaceHolder="Choose"
                                      (ngModelChange)="changResCity($event)">
                                      <nz-option *ngFor="let data of type2DAoldsubtypelist" [nzValue]="data"
                                        [nzLabel]="data" style="word-break:break-word;"></nz-option>

                                    </nz-select>  -->
                                    <input nz-input formControlName="DAoldsubtype" required readonly />
                                  </nz-form-control>
                                </nz-form-item>

                              </td>
                              <td>
                                <nz-form-item>

                                  <nz-form-control>
                                    <!-- <nz-select formControlName="DAnewtype" nzPlaceHolder="Choose"
                                      (ngModelChange)="changResCity($event)">
                                      <nz-option *ngFor="let data of type2DAnewsubtypelist" [nzValue]="data"
                                        [nzLabel]="data" style="word-break:break-word;"></nz-option>

                                    </nz-select>  -->
                                    <input nz-input formControlName="DAnewsubtype" required readonly />
                                  </nz-form-control>
                                </nz-form-item>

                              </td>

                            </tr>
                          </table>

                          <h3>Trading Account</h3>
                          <table style="width:100%;">

                            <tr>
                              <th class="w-25"></th>
                              <th>Current Type</th>
                              <th>New Type</th>
                            </tr>
                            <tr>
                              <td>Type : </td>
                              <td>
                                <nz-form-item>

                                  <nz-form-control>
                                    <!-- <nz-select formControlName="TAoldtype" nzPlaceHolder="Choose"
                                      (ngModelChange)="changResCity($event)">
                                      <nz-option *ngFor="let data of type2TAoldtypelist" [nzValue]="data"
                                        [nzLabel]="data" style="word-break:break-word;"></nz-option>

                                    </nz-select>  -->
                                    <input nz-input formControlName="TAoldtype" required readonly />
                                  </nz-form-control>
                                </nz-form-item>

                              </td>
                              <td>
                                <nz-form-item>

                                  <nz-form-control>
                                    <!-- <nz-select formControlName="TAnewtype" nzPlaceHolder="Choose"
                                      (ngModelChange)="changResCity($event)">
                                      <nz-option *ngFor="let data of type2TAnewtypelist" [nzValue]="data"
                                        [nzLabel]="data" style="word-break:break-word;"></nz-option>

                                    </nz-select>  -->
                                    <input nz-input formControlName="TAnewtype" required readonly />
                                  </nz-form-control>
                                </nz-form-item>

                              </td>

                            </tr>
                          </table>
                        </div>
                      </nz-tab>
                      <nz-tab nzTitle="CL TO NRO" [nzDisabled]="Type3disable">
                        <div [class.disableCards1]="!editFlag && !rejectEditeEnable" formGroupName="Type3">
                          <h3>Demat Account</h3>
                          <table style="width:100%;">

                            <tr>
                              <th class="w-25"></th>
                              <th>Current Type</th>
                              <th>New Type</th>
                            </tr>
                            <tr>
                              <td>Type : </td>
                              <td>
                                <nz-form-item>

                                  <nz-form-control>
                                    <!-- <nz-select formControlName="DAoldtype" nzPlaceHolder="Choose"
                                      (ngModelChange)="changResCity($event)">
                                      <nz-option *ngFor="let data of type3DAoldtypelist" [nzValue]="data"
                                        [nzLabel]="data" style="word-break:break-word;"></nz-option>

                                    </nz-select>  -->
                                    <input nz-input formControlName="DAoldtype" required readonly />
                                  </nz-form-control>
                                </nz-form-item>

                              </td>
                              <td>
                                <nz-form-item>

                                  <nz-form-control>
                                    <!-- <nz-select formControlName="DAnewtype" nzPlaceHolder="Choose"
                                      (ngModelChange)="changResCity($event)">
                                      <nz-option *ngFor="let data of type3DAnewtypelist" [nzValue]="data"
                                        [nzLabel]="data" style="word-break:break-word;"></nz-option>

                                    </nz-select>  -->
                                    <input nz-input formControlName="DAnewtype" required readonly />
                                  </nz-form-control>
                                </nz-form-item>

                              </td>

                            </tr>
                            <tr>
                              <td>Sub Type : </td>
                              <td>
                                <nz-form-item>

                                  <nz-form-control>
                                    <!-- <nz-select formControlName="DAoldtype" nzPlaceHolder="Choose"
                                      (ngModelChange)="changResCity($event)">
                                      <nz-option *ngFor="let data of type3DAoldsubtypelist" [nzValue]="data"
                                        [nzLabel]="data" style="word-break:break-word;"></nz-option>

                                    </nz-select>  -->
                                    <input nz-input formControlName="DAoldsubtype" required readonly />
                                  </nz-form-control>
                                </nz-form-item>

                              </td>
                              <td>
                                <nz-form-item>

                                  <nz-form-control>
                                    <!-- <nz-select formControlName="DAnewtype" nzPlaceHolder="Choose"
                                      (ngModelChange)="changResCity($event)">
                                      <nz-option *ngFor="let data of type3DAnewsubtypelist" [nzValue]="data"
                                        [nzLabel]="data" style="word-break:break-word;"></nz-option>

                                    </nz-select>  -->
                                    <input nz-input formControlName="DAnewsubtype" required readonly />
                                  </nz-form-control>
                                </nz-form-item>

                              </td>

                            </tr>
                          </table>

                          <h3>Trading Account</h3>
                          <table style="width:100%;">

                            <tr>
                              <th class="w-25"></th>
                              <th>Current Type</th>
                              <th>New Type</th>
                            </tr>
                            <tr>
                              <td>Type : </td>
                              <td>
                                <nz-form-item>

                                  <nz-form-control>
                                    <!-- <nz-select formControlName="TAoldtype" nzPlaceHolder="Choose"
                                      (ngModelChange)="changResCity($event)">
                                      <nz-option *ngFor="let data of type3TAoldtypelist" [nzValue]="data"
                                        [nzLabel]="data" style="word-break:break-word;"></nz-option>

                                    </nz-select>  -->
                                    <input nz-input formControlName="TAoldtype" required readonly />
                                  </nz-form-control>
                                </nz-form-item>

                              </td>
                              <td>
                                <nz-form-item>

                                  <nz-form-control>
                                    <!-- <nz-select formControlName="TAnewtype" nzPlaceHolder="Choose"
                                      (ngModelChange)="changResCity($event)">
                                      <nz-option *ngFor="let data of type3TAnewtypelist" [nzValue]="data"
                                        [nzLabel]="data" style="word-break:break-word;"></nz-option>

                                    </nz-select>  -->
                                    <input nz-input formControlName="TAnewtype" required readonly />
                                  </nz-form-control>
                                </nz-form-item>

                              </td>

                            </tr>
                          </table>
                        </div>
                      </nz-tab>
                    </nz-tabset>


                  </nz-form-label>

                </nz-form-item>
              </div>


            </form>


          </div>

        </nz-card>

        <div #tabsContentRef style="position: absolute; top:0"></div>
        <!-- applicationStatus=='T'&&HO -->
        <!-- <div class='editButtonDiv'>
          <button *ngIf="applicationStatus=='T' && fromReportPoolPage" nz-button nzType="primary" class='editButton'
            type="button" (click)="editButton()">Edit</button>
        </div> -->

        <ng-container>

          <!-- [class.disableCards1]="((this.applicationStatus == 'P' &&  !editFlag) || (this.applicationStatus == 'T' &&  !editFlag) || this.applicationStatus == 'F' || this.applicationStatus == 'A')" -->
          <!-- [class.disableCards1]="!editFlag" -->
          <div id="detailsforms">
            <div id="detailsforms" [class.disableCards1]="SaveandFinalizebuttonenable">

              <!-- personal details forms start -->

              <form id="personal" [class.disableCards1]="!editFlag" *ngIf="personalformenable" nz-form
                [formGroup]="form" nzLayout="vertical" ngxScrollToFirstInvalid>
                <div nz-row nzGutter="10">
                  <div nz-col nzLg="24" nzMd="24" class="mb-2">
                    <nz-card>
                      <!-- <div nz-row nzGutter="2">
                        <div nz-col nzLg="8" nzMd="8">
                          <nz-form-item>
                            <nz-form-label>PAN</nz-form-label>
                            <nz-form-control>
                              <input type="text" nz-input readonly formControlName="PAN" maxlength="10" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzLg="8" nzMd="6" [class.disableCards1]="true">
                          <nz-form-item>
                            <nz-form-label class="required" nzFor="name">DOB</nz-form-label>
                            <nz-form-control>
                              <nz-date-picker formControlName="dob" nzPlaceHolder="YYYY-MM-DD" nzDisabled>
                              </nz-date-picker>
                            </nz-form-control>
                          </nz-form-item>
                        </div>

                        <div nz-col nzLg="4">
                          <nz-form-item>
                            <nz-form-label nzFor="name">&nbsp;</nz-form-label>
                            <nz-form-control>
                              <button nz-button nzType="primary" [disabled]="!entryAccess" (click)="loadPanDetails()"
                                [nzLoading]="isLoadingPanDetails">Verify KRA</button>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzMd="16" nzLg="8">
                          <nz-form-item>
                            <nz-form-label>&nbsp;</nz-form-label>
                            <nz-form-control>
                              <span>KRA Status : </span>
                              <b *ngIf="form.value.isKRAVerified">
                                KRA Verified <i nz-icon [nzType]="'check-circle'" [nzTheme]="'twotone'"
                                  [nzTwotoneColor]="'#52c41a'"></i>
                              </b>
                              <b *ngIf="!form.value.isKRAVerified">
                                KRA Not Verified <i nz-icon [nzType]="'close-circle'" [nzTheme]="'twotone'"
                                  [nzTwotoneColor]="'#e74528'"></i>
                              </b>
                            </nz-form-control>


                          </nz-form-item>
                        </div>
                      </div> -->
                      <div nz-row nzGutter="5" style="margin-top: -10px;">
                        <div nz-col nzLg="24">
                          <nz-form-item>
                            <nz-form-label>&nbsp;</nz-form-label>
                            <nz-form-label>Name in PAN site: <span class="name"> {{form.value.nameinpansite}}</span>
                            </nz-form-label>
                          </nz-form-item>
                        </div>

                      </div>
                      <div nz-row nzGutter="5">
                        <!-- <div nz-col nzLg="6" nzMd="8">
                          <nz-form-item>
                            <nz-form-label>CKYC</nz-form-label>
                            <nz-form-control>
                              <nz-input-group [nzSuffix]="suffixIconSearch" nzSize="small">
                                <input type="text" nz-input formControlName="ckyc"
                                  [textMask]="{mask: inputMasks.numeric}" maxlength="16" />
                              </nz-input-group>
                              <ng-template #suffixIconSearch>
                              </ng-template>
                            </nz-form-control>
                          </nz-form-item>
                        </div> -->
                        <div nz-col nzLg="6" nzMd="8">
                          <nz-form-item>
                            <nz-form-control>
                              <nz-form-label>Box Number</nz-form-label>
                              <!-- {{"BoxNo : "+BoxNo}} -->
                              <input nz-input type="text" name="boxno" [(ngModel)]="BoxNo" [ngModelOptions]="{standalone: true}" [disabled]="true"/>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                      </div>
                      <!-- <div nz-row nzGutter="5">
                        <div nz-col nzLg="6" nzMd="6">
                          <nz-form-item>
                            <nz-form-label nzFor="ProceedType" class="required">Fill details from : </nz-form-label>
                          </nz-form-item>
                        </div>
                        <div nz-col nzLg="" nzMd="">
                          <nz-form-item>
                            <nz-radio-group formControlName="ProceedType" nzName="radiogroup" required>
                              <label nz-radio nzValue="BO">Backoffice</label>
                              <label nz-radio nzValue="KRA" *ngIf="this.form.value.isKRAVerified">KRA</label>

                            </nz-radio-group>
                          </nz-form-item>
                        </div>


                      </div> -->
                    </nz-card>
                  </div>
                  <!-- <div nz-col nzLg="8" nzMd="24">
                  <nz-card class="kraHeight" [class.disableCardsKra]="form.value.ProceedType!='KRA'">
                    <div nz-col nzMd="24" *ngIf="form.value.ProceedType=='KRA'">
                      <p style="color: red;"> Please choose Change in KRA to update mandatory field".. </p>
                    </div>
                    <fieldset class="fieldset_made">
                      <nz-radio-group nzName="radiogroup" formControlName="changeKRA">
                        <label class="textbold" nz-radio nzValue="YES">Change in KRA</label><br><br><br>
                      </nz-radio-group>
                    </fieldset>
                  </nz-card>
                </div> -->
                </div>

                <br>
                <nz-card [nzTitle]="titlepersonal" [class.disableCards1]="true">
                  <ng-template #titlepersonal>
                    <i nz-icon type="user" (click)="tempfillvalues('personal')" class="icon text-warning"
                      nzTheme="outline"></i>&nbsp;&nbsp;Personal Details
                  </ng-template>
                  <div nz-row nzGutter="10" [class.disableCards1]="true">
                    <div class="name-ctrl-rows">
                      <div nz-row nzGutter="5">
                        <div nz-col nzLg="4" nzMd="8">
                          <nz-form-item>
                            <nz-form-label>&nbsp;</nz-form-label>
                            <div>
                              <nz-form-label class="required">Name</nz-form-label>
                            </div>
                          </nz-form-item>
                        </div>
                        <div nz-col nzLg="2" nzMd="4">
                          <nz-form-item>
                            <nz-form-label>Title</nz-form-label>
                            <nz-form-control>
                              <nz-select formControlName="AppNamePrefix" nzAllowClear nzPlaceHolder="Choose">
                                <nz-option nzValue="Mr" nzLabel="Mr"></nz-option>
                                <nz-option nzValue="Mrs" nzLabel="Mrs"></nz-option>
                                <nz-option nzValue="Ms" nzLabel="Ms"></nz-option>
                              </nz-select>
                              <!-- <input nz-input formControlName="nametitle"  required  (keypress)="charrestrict($event)" [readonly]="disableKraFields" /> -->
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzLg="6" nzMd="4">
                          <nz-form-item>
                            <nz-form-label>First Name</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="FirstName" required (keypress)="charrestrict($event)"
                                [readonly] />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzLg="6" nzMd="4">
                          <nz-form-item>
                            <nz-form-label>Middle Name</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="MiddleName" (keypress)="charrestrict($event)"
                                [readonly]="disableKraFields" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzLg="6" nzMd="4">
                          <nz-form-item>
                            <nz-form-label>Last Name</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="LastName" (keypress)="charrestrict($event)"
                                [readonly]="disableKraFields" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                      </div>

                      <div nz-row nzGutter="5">
                        <div nz-col nzLg="4" nzMd="8">
                          <nz-form-item>
                            <nz-form-label>&nbsp;</nz-form-label>
                            <div>
                              <nz-form-label>Maiden Name (if any)</nz-form-label>
                            </div>
                          </nz-form-item>
                        </div>
                        <div nz-col nzLg="2" nzMd="4">
                          <nz-form-item>
                            <nz-form-label>Title</nz-form-label>
                            <nz-form-control>
                              <nz-select formControlName="MaidenNamePrefix" nzAllowClear nzPlaceHolder="Choose">
                                <nz-option nzValue="Mr" nzLabel="Mr"></nz-option>
                                <nz-option nzValue="Mrs" nzLabel="Mrs"></nz-option>
                                <nz-option nzValue="Ms" nzLabel="Ms"></nz-option>
                              </nz-select>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzLg="6" nzMd="4">
                          <nz-form-item>
                            <nz-form-label>First Name</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="MaidenFirstName" (keypress)="charrestrict($event)" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzLg="6" nzMd="4">
                          <nz-form-item>
                            <nz-form-label>Middle Name</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="MaidenMiddleName" (keypress)="charrestrict($event)" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzLg="6" nzMd="4">
                          <nz-form-item>
                            <nz-form-label>Last Name</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="MaidenLastName" (keypress)="charrestrict($event)" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                      </div>

                      <div nz-row nzGutter="5">
                        <div nz-col nzLg="4" nzMd="8">
                          <nz-form-item>
                            <nz-form-label>&nbsp;</nz-form-label>
                            <div>

                              <nz-form-label>
                                <nz-radio-group formControlName="FatherSpouseIndicator" class="required">
                                  <label class="required" nz-radio nzValue="F">Father</label>
                                  <label class="required" nz-radio nzValue="S">Spouse Name</label>
                                </nz-radio-group>

                              </nz-form-label>

                            </div>
                          </nz-form-item>
                        </div>
                        <div nz-col nzLg="2" nzMd="4">
                          <nz-form-item>
                            <nz-form-label>Title</nz-form-label>
                            <nz-form-control>
                              <nz-select formControlName="FatherSpousePrefix" nzAllowClear nzPlaceHolder="Choose">
                                <nz-option nzValue="Mr" nzLabel="Mr"></nz-option>
                                <nz-option nzValue="Mrs" nzLabel="Mrs"></nz-option>
                                <nz-option nzValue="Ms" nzLabel="Ms"></nz-option>
                              </nz-select>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzLg="6" nzMd="4">
                          <nz-form-item>
                            <nz-form-label>First Name</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="FatherSpouseFirstName" [readonly]="disableKraFields"
                                (keypress)="charrestrict($event)" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzLg="6" nzMd="4">
                          <nz-form-item>
                            <nz-form-label>Middle Name</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="FatherSpouseMiddleName"
                                (keypress)="charrestrict($event)" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzLg="6" nzMd="4">
                          <nz-form-item>
                            <nz-form-label>Last Name</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="FatherSpouseLastName"
                                (keypress)="charrestrict($event)" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                      </div>

                      <div nz-row nzGutter="5">
                        <div nz-col nzLg="4" nzMd="8">
                          <nz-form-item>
                            <nz-form-label>&nbsp;</nz-form-label>
                            <div>

                              <nz-form-label>Mother's Name</nz-form-label>
                            </div>
                          </nz-form-item>
                        </div>
                        <div nz-col nzLg="2" nzMd="4">
                          <nz-form-item>
                            <nz-form-label>Title</nz-form-label>
                            <nz-form-control>
                              <nz-select formControlName="MotherNamePrefix" nzAllowClear nzPlaceHolder="Choose">
                                <!-- <nz-option nzValue="Ms" nzLabel="Ms"></nz-option> -->
                                <nz-option nzValue="Mrs" nzLabel="Mrs"></nz-option>
                              </nz-select>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzLg="6" nzMd="4">
                          <nz-form-item>
                            <nz-form-label>First Name</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="MotherFirstName" (keypress)="charrestrict($event)" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzLg="6" nzMd="4">
                          <nz-form-item>
                            <nz-form-label>Middle Name</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="MotherMiddleName" (keypress)="charrestrict($event)" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzLg="6" nzMd="4">
                          <nz-form-item>
                            <nz-form-label>Last Name</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="MotherLastName" (keypress)="charrestrict($event)" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                      </div>
                    </div>

                  </div>
                  <nz-divider></nz-divider>
                  <div nz-row nzGutter="5">
                    <div nz-col nzLg="3" nzMd="4">
                      <nz-form-item>
                        <nz-form-label class="required">Gender</nz-form-label>
                        <nz-form-control>
                          <nz-select formControlName="Gender" nzAllowClear nzPlaceHolder="Gender"
                            [nzDisabled]="disableKraFields">
                            <nz-option nzValue="M" nzLabel="Male"></nz-option>
                            <nz-option nzValue="F" nzLabel="Female"></nz-option>
                            <nz-option nzValue="T" nzLabel="Transgender"></nz-option>
                          </nz-select>
                        </nz-form-control>
                      </nz-form-item>
                    </div>

                    <div nz-col nzLg="2" nzMd="3" style="margin-top: 2px;">
                      <nz-form-item>
                        <nz-form-label>Age</nz-form-label>
                        <nz-form-control>
                          <input nz-input readonly formControlName="Age" />
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <div nz-col nzLg="1" nzMd="2" style="margin-top: 2px;">
                      <nz-form-item>
                        <nz-form-label>Minor</nz-form-label>
                        <nz-form-control>
                          <nz-switch nzDisabled="true" formControlName="Minor"></nz-switch>
                        </nz-form-control>
                      </nz-form-item>
                    </div>

                    <div nz-col nzLg="5" nzMd="5">
                      <nz-form-item>
                        <nz-form-label class="required">Marital Status</nz-form-label>
                        <nz-form-control>
                          <nz-select formControlName="MaritalStatus" nzAllowClear [nzDisabled]="disableKraFields">
                            <nz-option nzValue="M" nzLabel="Married"></nz-option>
                            <nz-option nzValue="S" nzLabel="Single"></nz-option>
                            <nz-option nzValue="D" nzLabel="Divorced"></nz-option>
                            <nz-option nzValue="W" nzLabel="Widow"></nz-option>
                            <nz-option nzValue="O" nzLabel="Other"></nz-option>
                          </nz-select>
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <!-- {{"SaveandFinalizebuttonenable:"+!SaveandFinalizebuttonenable}} {{"editFlag:"+editFlag}} {{"fromReportPoolPage:"+fromReportPoolPage}} {{"rejectEditeEnable:"+rejectEditeEnable}} -->
                    <div nz-col nzLg="6" nzMd="4" [class.enableCard1]="(!SaveandFinalizebuttonenable && editFlag) && (!fromReportPoolPage ||  (fromReportPoolPage && rejectEditeEnable))">
                      <nz-form-item>
                        <nz-form-label class="required">Nationality</nz-form-label>
                        <nz-form-control>
                          <input type="text" nz-input formControlName="Nationality" maxlength="80" [nzAutocomplete]="auto"
                            (keypress)="charrestrict($event)" />
                          <nz-autocomplete #auto>
                            <nz-auto-option *ngFor="let option of resultArray" [nzValue]="option.Country"
                              [nzLabel]="option.Country" class="aleternateColor">
                              <span [innerHTML]="option.Country"></span>
                            </nz-auto-option>
                          </nz-autocomplete>
                        </nz-form-control>
                      </nz-form-item>
                    </div>

                    <div nz-col nzLg="5" nzMd="5" [class.enableCard1]="(!SaveandFinalizebuttonenable && editFlag && !fromReportPoolPage )|| (!SaveandFinalizebuttonenable && editFlag && fromReportPoolPage && rejectEditeEnable)">
                      <nz-form-item>
                        <nz-form-label class="required">Residential Status</nz-form-label>
                        <nz-form-control>
                          <input type="text" nz-input formControlName="ResidentialStatus" [nzAutocomplete]="autores"
                            (keypress)="charrestrict($event)" />
                          <nz-autocomplete #autores>
                            <nz-auto-option *ngFor="let item of ResidentialStatusArray" [nzValue]="item.Code"
                              [nzLabel]="item.Code" class="aleternateColor">
                              <span [innerHTML]="item.Code"></span>
                            </nz-auto-option>
                          </nz-autocomplete>

                        </nz-form-control>
                      </nz-form-item>
                    </div>

                  </div>
                  <div nz-row nzGutter="5">


                    <div nz-col nzLg="4" nzMd="6" *ngIf="isShowOtherOccupation">
                      <nz-form-item>
                        <nz-form-label class="required">Occupation</nz-form-label>
                        <nz-form-control>
                          <input nz-input formControlName="otherOccupationValue" (keypress)="charrestrict($event)" />
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <div nz-col nzLg="3" nzMd="6">
                      <nz-form-item>
                        <nz-form-label>CIN</nz-form-label>
                        <nz-form-control>
                          <!-- readonly -->
                          <input nz-input formControlName="CIN" />
                        </nz-form-control>
                      </nz-form-item>
                    </div>


                    <div nz-col nzLg="5" nzMd="4" *ngIf="clientType=='individual'">
                      <nz-form-item>
                        <nz-form-label class="required">Risk Country</nz-form-label>
                        <nz-form-control>
                          <input type="text" nz-input maxlength="80" formControlName="riskCountry" />

                        </nz-form-control>
                      </nz-form-item>
                    </div>

                    <div nz-col nzLg="2" nzMd="2" style="margin-top: 2px;" *ngIf="merchantnavyStatus">
                      <nz-form-item>
                        <nz-form-label>Merchant Navy</nz-form-label>
                        <nz-form-control>
                          <nz-switch nzDisabled="false" formControlName="merchantnavy"></nz-switch>
                        </nz-form-control>
                      </nz-form-item>
                    </div>


                  </div>

                </nz-card>



              </form>
              <!-- <div *ngIf="personalformenable && !fromReportPoolPage" nz-row>
              <div nz-col nzLg="3" nzMd="6" class="commonsave" >
                <button nz-button nzType="primary" (click)="savecommon(form,'personal')">SAVE</button>

              </div>
            </div> -->
              <!-- personal details forms end -->
              <!-- *ngIf="personalformenable && !fromReportPoolPage" -->
              <br>
              <!-- address forms start -->
              <!-- *ngIf="addressformenable" -->
              <form id="address" [class.disableCards1]="!editFlag && !rejectEditeEnable" nz-form [formGroup]="form_address"
                nzLayout="vertical">
                <div nz-row nzGutter="10">
                  <div nz-col nzLg="12" [ngSwitch]="form_address.value.address1.proofOfAddress">
                    <nz-card [nzTitle]="titleaddress1">
                      <ng-template #titleaddress1>
                        <i nz-icon nzType="home" (click)="tempfilladdress()" nzTheme="outline"
                          class="icon text-warning"></i>&nbsp;&nbsp;Local/ Permanent address
                      </ng-template>
                      <!-- <nz-divider nzText="Current / Permanent / Overseas Address" nzOrientation="left"></nz-divider> -->
                      <div nz-row nzGutter="5" formGroupName="address1">
                        <div nz-col nzMd="24">
                          <nz-form-item>
                            <nz-form-label class="required"><i nz-icon nzType="home" nzTheme="outline"
                                class="text-info"></i>Address 1</nz-form-label>
                            <nz-form-control>
                              <input nz-input maxlength="36" (keypress)="charrestrictaddress($event)"
                                formControlName="houseName" [readonly]="disableKrarelatedFields" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>


                        <div nz-col nzMd="24">
                          <nz-form-item>
                            <nz-form-label><i nz-icon nzType="car" nzTheme="outline" class="text-primary"></i>Address 2
                            </nz-form-label>
                            <nz-form-control>
                              <input nz-input maxlength="36" formControlName="street"
                                [readonly]="disableKrarelatedFields" (keypress)="charrestrictaddress($event)" />
                            </nz-form-control>
                          </nz-form-item>

                        </div>
                        <div nz-col nzMd="24">
                          <nz-form-item>
                            <nz-form-label class=""><i nz-icon nzType="home" nzTheme="outline"
                                class="text-info"></i>Address 3<span class="pAddress">(Details entered in Address 3 line
                                will be updated only in BO and will NOT be updated in Exchange / DPM)</span>
                            </nz-form-label>
                            <nz-form-control>
                              <input nz-input maxlength="36" (keypress)="charrestrictaddress($event)"
                                formControlName="landmark" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzMd="12">
                          <nz-form-item>
                            <nz-form-label class="required"> <i nz-icon nzType="environment" nzTheme="outline"
                                class="text-warning"></i> Pin Code</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="pinCode" [textMask]="{mask: inputMasks.numeric}"
                                [readonly]="disableKrarelatedFields" (keyup)="getPinData($event,'address1')"
                                maxlength="6" [readonly]="disableKrarelatedFields" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>

                        <div nz-col nzMd="12">
                          <nz-form-item>
                            <nz-form-label class="required"><i nz-icon nzType="environment" nzTheme="outline"
                                class="text-success"></i>City</nz-form-label>
                            <nz-form-control *ngIf="isAdd1Pin">
                              <input nz-input formControlName="city" [readonly]="disableKrarelatedFields"
                                (keypress)="charrestrictaddress($event)" />
                            </nz-form-control>
                            <nz-form-control *ngIf="!isAdd1Pin">
                              <nz-select formControlName="city" nzPlaceHolder="Choose"
                                (ngModelChange)="changResCity($event)">
                                <nz-option *ngFor="let data of A1district" [nzValue]="data" [nzLabel]="data"
                                  style="word-break:break-word;"></nz-option>

                              </nz-select>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzMd="8">
                          <nz-form-item>
                            <nz-form-label class="required"><i nz-icon nzType="environment" nzTheme="outline"
                                class="text-danger"></i>District</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="district" [readonly]="disableKrarelatedFields"
                                (keypress)="charrestrictaddress($event)" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzMd="8">
                          <nz-form-item>
                            <nz-form-label class="required"><i nz-icon nzType="environment" nzTheme="outline"
                                class="text-info"></i>State</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="state" [readonly]="disableKrarelatedFields"
                                (keypress)="charrestrictaddress($event)" />
                              <!-- <nz-select formControlName="state">
                                          </nz-select> -->
                            </nz-form-control>
                          </nz-form-item>
                        </div>

                        <div nz-col nzMd="8">
                          <nz-form-item>
                            <nz-form-label class="required"><i nz-icon nzType="flag" nzTheme="outline"
                                class="text-warning"></i>Country</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="country" maxlength="80" [readonly]="disableKrarelatedFields"
                                (keypress)="charrestrictaddress($event)" />

                            </nz-form-control>
                          </nz-form-item>
                        </div>

                        <div nz-col nzMd="24">
                          <nz-form-item>
                            <nz-form-label class="required"> <i nz-icon nzType="idcard" nzTheme="outline"
                                class="text-primary"></i> Proof Of Address</nz-form-label>
                            <nz-form-control>
                              <nz-select formControlName="proofOfAddress">
                                <nz-option *ngFor="let data of PermanentAddressProofDetails" [nzValue]="data.Code"
                                  [title]="data.Description" [nzLabel]="data.Description"></nz-option>
                              </nz-select>
                            </nz-form-control>
                          </nz-form-item>
                        </div>


                      </div>
                      <div nz-row nzGutter="5" *ngIf="Address1formFeilds.length>0">
                        <div nz-col nzMd="8" *ngFor="let item of Address1formFeilds;let i = index">
                          <nz-form-item>
                            <nz-form-label class="required" *ngIf="item.type=='Text'"><i nz-icon nzType="reconciliation"
                                nzTheme="outline" class="text-danger"></i>{{item.label}}</nz-form-label>
                            <nz-form-label class="required" *ngIf="item.type=='Date'"><i nz-icon type="calendar"
                                nzTheme="outline" class="text-success"></i>{{item.label}}</nz-form-label>
                            <nz-form-control>

                              <input nz-input [(ngModel)]="item['proof'+i]" (keypress)="charrestrictaddress($event)"
                                [ngModelOptions]="{standalone: true}"
                                *ngIf="item.type=='Text'&& (item.label!='Aadhar No'&& item.label!='Pan No')"
                                [maxlength]="item.label=='Passport No'?10:30" required />
                              <input nz-input [(ngModel)]="item['proof'+i]" (keypress)="ValidatePanaddress($event)"
                                [ngModelOptions]="{standalone: true}" *ngIf="item.type=='Text' && item.label=='Pan No'"
                                minlength="10" maxlength="10" required readonly />
                              <input nz-input [(ngModel)]="item['proof'+i]"
                                (keypress)="numberOnlyaddress(item.label,$event,'A1')"
                                [ngModelOptions]="{standalone: true}"
                                *ngIf="item.type=='Text' && item.label=='Aadhar No'" minlength="12" maxlength="12"
                                required />

                              <nz-date-picker nzPlaceHolder="YYYY-MM-DD" [(ngModel)]="item['proof'+i]"
                                [ngModelOptions]="{standalone: true}" *ngIf="item.type=='Date'" required
                                [nzDisabledDate]="item.label=='DOI'?disabledFutureDate:item.label=='Expiry Date'?disabledPastDate:false"
                                (ngModelChange)="validateDate1address(item.label,$event)"></nz-date-picker>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                      </div>
                    </nz-card>
                  </div>
                  <div nz-col nzLg="12" [ngSwitch]="form_address.value.address2.proofOfAddress">
                    <nz-card [nzTitle]="groupTitle" formGroupName="address2">

                      <ng-template #groupTitle>
                        <i nz-icon type="environment" nzTheme="outline"
                          class="icon text-warning"></i>&nbsp;&nbsp;Correspondence/ Foreign address <label nz-checkbox
                          *ngIf="!disableKrarelatedFields" formControlName="sameAsPermant"
                          (ngModelChange)="selectPermantADD($event)">Same as Permanent
                          address</label>
                      </ng-template>

                      <div nz-row nzGutter="5">
                        <div nz-col nzMd="24">
                          <nz-form-item>
                            <nz-form-label class="required">Address 1</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="houseName" maxlength="36"
                                [readonly]="disableKrarelatedFields||isPemantSelected"
                                (keypress)="charrestrictaddress($event)" />
                            </nz-form-control>
                          </nz-form-item>

                        </div>

                        <div nz-col nzMd="24">
                          <nz-form-item>
                            <nz-form-label>Address 2</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="street" maxlength="36"
                                [readonly]="disableKrarelatedFields||isPemantSelected"
                                (keypress)="charrestrictaddress($event)" />
                            </nz-form-control>
                          </nz-form-item>

                        </div>
                        <div nz-col nzMd="24">
                          <nz-form-item>
                            <nz-form-label class="">Address 3<span class="pAddress">(Details entered in Address 3 line
                                will be updated only in BO and will NOT be updated in Exchange / DPM)</span>
                            </nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="landmark" maxlength="36"
                                (keypress)="charrestrictaddress($event)" />
                            </nz-form-control>
                          </nz-form-item>

                        </div>
                        <div nz-col nzMd="12">
                          <nz-form-item>
                            <nz-form-label class="required">Pin Code</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="pinCode" (keyup)="getPinData($event,'address2')"
                                [textMask]="{mask: inputMasks.numeric}" maxlength="6"
                                [readonly]="disableKrarelatedFields||isPemantSelected" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>

                        <div nz-col nzMd="12">
                          <nz-form-item>
                            <nz-form-label class="required">City</nz-form-label>
                            <nz-form-control *ngIf="isAdd2Pin">
                              <input nz-input formControlName="city"
                                [readonly]="disableKrarelatedFields||isPemantSelected"
                                (keypress)="charrestrictaddress($event)" />
                            </nz-form-control>
                            <nz-form-control *ngIf="!isAdd2Pin">
                              <nz-select formControlName="city" nzPlaceHolder="Choose"
                                [class.disabled]="isPemantSelected" (ngModelChange)="changCurCity($event)">
                                <nz-option *ngFor="let data of A2district" [nzValue]="data" [nzLabel]="data"
                                  style="word-break:break-word;"></nz-option>

                              </nz-select>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzMd="8">
                          <nz-form-item>
                            <nz-form-label class="required">District</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="district"
                                [readonly]="disableKrarelatedFields||isPemantSelected"
                                (keypress)="charrestrictaddress($event)" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzMd="8">
                          <nz-form-item>
                            <nz-form-label class="required">State</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="state"
                                [readonly]="disableKrarelatedFields||isPemantSelected"
                                (keypress)="charrestrictaddress($event)" />
                              <!-- <nz-select formControlName="state">
                                          </nz-select> -->
                            </nz-form-control>
                          </nz-form-item>
                        </div>

                        <div nz-col nzMd="8">
                          <nz-form-item>
                            <nz-form-label class="required">Country</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="country" maxlength="80"
                                [readonly]="disableKrarelatedFields||isPemantSelected"
                                (keypress)="charrestrictaddress($event)"
                                (ngModelChange)="getCorrsAddCountryName($event)" />
                              <!-- <nz-select formControlName="country">
                                  </nz-select> -->
                            </nz-form-control>
                          </nz-form-item>
                        </div>

                        <div nz-col nzMd="24">
                          <nz-form-item>
                            <nz-form-label class="required">Proof Of Address</nz-form-label>
                            <nz-form-control>
                              <nz-select formControlName="proofOfAddress" nzPlaceHolder="Choose"
                                [nzDisabled]="isPemantSelected">
                                <nz-option *ngFor="let data of CorrespondanceAddressProofDetails" [nzValue]="data.Code"
                                  [nzLabel]="data.Description"></nz-option>
                              </nz-select>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                      </div>
                      <div nz-row nzGutter="5" *ngIf="Address2formFeilds.length>0">
                        <div nz-col nzMd="8" *ngFor="let item of Address2formFeilds;let i = index">
                          <nz-form-item>

                            <nz-form-label class="required">{{item.label}}</nz-form-label>
                            <nz-form-control>
                              <input nz-input [(ngModel)]="item['proof'+i]" (keypress)="charrestrictaddress($event)"
                                [ngModelOptions]="{standalone: true}"
                                *ngIf="item.type=='Text'&& (item.label!='Aadhar No'&& item.label!='Pan No')"
                                [maxlength]="item.label=='Passport No'?10:30" required />
                              <input nz-input [(ngModel)]="item['proof'+i]" (keypress)="ValidatePanaddress($event)"
                                [ngModelOptions]="{standalone: true}" *ngIf="item.type=='Text' && item.label=='Pan No'"
                                minlength="10" maxlength="10" required readonly />
                              <input nz-input [(ngModel)]="item['proof'+i]"
                                (keypress)="numberOnlyaddress(item.label,$event,'A2')"
                                [ngModelOptions]="{standalone: true}"
                                *ngIf="item.type=='Text' && item.label=='Aadhar No'" minlength="12" maxlength="12"
                                (ngModelChange)="maskAdharNum2address(item.label,$event)" required />
                              <!-- <input type="date"  class=date [(ngModel)]="item['proof'+i]"   [ngModelOptions]="{standalone: true}"  *ngIf="item.type=='Date'" (ngModelChange)="validateDate2(item.label,$event)" required > -->
                              <nz-date-picker [(ngModel)]="item['proof'+i]" nzPlaceHolder="YYYY-MM-DD"
                                [ngModelOptions]="{standalone: true}" *ngIf="item.type=='Date'"
                                [nzDisabledDate]="item.label=='DOI'?disabledFutureDate:item.label=='Expiry Date'?disabledPastDate:false"
                                (ngModelChange)="validateDate2address(item.label,$event)" required
                                [nzDisabled]="isPemantSelected"></nz-date-picker>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                      </div>

                    </nz-card>
                  </div>
                </div>
                <br>
                <div nz-row nzGutter="10" class="mb-2">
                  <div nz-col nzLg="12" [hidden]='hide' [ngSwitch]="form_address.value.address3.proofOfAddress">

                    <nz-card [nzTitle]="titleaddress2">
                      <ng-template #titleaddress2>
                        <i nz-icon type="environment" nzTheme="outline"
                          class="icon text-danger"></i>&nbsp;&nbsp;Additional
                        Correspondence Address

                      </ng-template>

                      <div nz-row nzGutter="5" formGroupName="address3">

                        <div nz-col nzMd="8">
                          <nz-form-item>
                            <nz-form-label>Address 1</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="houseName" (keypress)="charrestrictaddress($event)" />
                            </nz-form-control>
                          </nz-form-item>

                        </div>

                        <div nz-col nzMd="8">
                          <nz-form-item>
                            <nz-form-label>Adress 2</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="street" (keypress)="charrestrictaddress($event)" />
                            </nz-form-control>
                          </nz-form-item>

                        </div>
                        <div nz-col nzMd="8">
                          <nz-form-item>
                            <nz-form-label>Adress 3</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="landmark" (keypress)="charrestrictaddress($event)" />
                            </nz-form-control>
                          </nz-form-item>

                        </div>
                        <div nz-col nzMd="8">
                          <nz-form-item>
                            <nz-form-label>Pin Code</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="pinCode" (keyup)="getPinData($event,'address3')"
                                [textMask]="{mask: inputMasks.numeric}" maxlength="6" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzMd="8">
                          <nz-form-item>
                            <nz-form-label>City</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="city" (keypress)="charrestrictaddress($event)" />
                            </nz-form-control>
                          </nz-form-item>

                        </div>

                        <div nz-col nzMd="8">
                          <nz-form-item>
                            <nz-form-label>District</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="district" (keypress)="charrestrictaddress($event)" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzMd="8">
                          <nz-form-item>
                            <nz-form-label>State</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="state" (keypress)="charrestrictaddress($event)" />

                            </nz-form-control>
                          </nz-form-item>
                        </div>

                        <div nz-col nzMd="8">
                          <nz-form-item>
                            <nz-form-label>Country</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="country" maxlength="80" (keypress)="charrestrictaddress($event)" />

                            </nz-form-control>
                          </nz-form-item>
                        </div>

                        <div nz-col nzMd="8" nzLg="16">
                          <nz-form-item>
                            <nz-form-label>Proof Of Address</nz-form-label>
                            <nz-form-control>
                              <nz-select formControlName="proofOfAddress" nzPlaceHolder="Choose" nzAllowClear>
                                <nz-option *ngFor="let data of CorrespondanceAddressProofDetails" [nzValue]="data.Code"
                                  [nzLabel]="data.Description"></nz-option>
                              </nz-select>
                            </nz-form-control>
                          </nz-form-item>
                        </div>

                      </div>
                      <div nz-row nzGutter="5" *ngIf="Address3formFeilds.length>0">
                        <div nz-col nzMd="8" *ngFor="let item of Address3formFeilds;let i = index">
                          <nz-form-item>
                            <nz-form-label>{{item.label}}</nz-form-label>
                            <nz-form-control>
                              <input nz-input [(ngModel)]="item['proof'+i]" (keypress)="charrestrictaddress($event)"
                                [ngModelOptions]="{standalone: true}"
                                *ngIf="item.type=='Text'&& (item.label!='Aadhar No'&& item.label!='Pan No')"
                                [maxlength]="item.label=='Passport No'?10:30" required />
                              <input nz-input [(ngModel)]="item['proof'+i]"
                                (keypress)="numberOnlyaddress(item.label,$event,'A3')"
                                [ngModelOptions]="{standalone: true}"
                                *ngIf="item.type=='Text' && item.label=='Aadhar No'" minlength="12"
                                (ngModelChange)="maskAdharNum3address(item.label,$event)" maxlength="12" required />
                              <input nz-input [(ngModel)]="item['proof'+i]" (keypress)="ValidatePanaddress($event)"
                                [ngModelOptions]="{standalone: true}" *ngIf="item.type=='Text' && item.label=='Pan No'"
                                minlength="10" maxlength="10" required readonly />
                              <nz-date-picker nzPlaceHolder="YYYY-MM-DD" [(ngModel)]="item['proof'+i]"
                                [ngModelOptions]="{standalone: true}" *ngIf="item.type=='Date'"
                                [nzDisabledDate]="item.label=='DOI'?disabledFutureDate:item.label=='Expiry Date'?disabledPastDate:false"
                                (ngModelChange)="validateDate3address(item.label,$event)" required></nz-date-picker>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                      </div>


                    </nz-card>

                  </div>
                </div>
                <div nz-row nzGutter="10">
                  <div nz-col nzMd="24" nzLg="24">
                    <nz-card [nzTitle]="titleaddress3">
                      <ng-template #titleaddress3>
                        <i nz-icon type="idcard" nzTheme="outline" class="icon text-success"></i>&nbsp;&nbsp;Proof of
                        Identity
                      </ng-template>

                      <div nz-row nzGutter="5">
                        <div nz-col nzMd="4">
                          <nz-form-item>
                            <nz-form-label class="required" nzFor="name">Id Proof</nz-form-label>
                            <nz-form-control>
                              <nz-select formControlName="idProof" nzPlaceHolder="Choose">
                                <nz-option *ngFor="let data of identityProofDetails" [nzValue]="data.Code"
                                  [nzLabel]="data.Description"></nz-option>
                              </nz-select>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div *ngIf="identityProofformFeilds.length>0">
                          <div nz-col nzMd="4" *ngFor="let item of identityProofformFeilds;let i = index">
                            <nz-form-item>
                              <nz-form-label class="required">{{item.label}}</nz-form-label>
                              <nz-form-control>
                                <input nz-input [(ngModel)]="item['proof'+i]" (keypress)="charrestrictaddress($event)"
                                  [ngModelOptions]="{standalone: true}"
                                  *ngIf="item.type=='Text'&& (item.label!='Aadhar No'&& item.label!='Pan No')"
                                  [maxlength]="item.label=='Passport No'?10:30" required />
                                <input nz-input [(ngModel)]="item['proof'+i]"
                                  (keypress)="numberOnlyaddress(item.label,$event,'A5')"
                                  [ngModelOptions]="{standalone: true}"
                                  (ngModelChange)="maskAdharNum5address(item.label,$event)"
                                  *ngIf="item.type=='Text' && item.label=='Aadhar No'" minlength="12" maxlength="12"
                                  required />
                                <input nz-input [(ngModel)]="item['proof'+i]" (keypress)="ValidatePanaddress($event)"
                                  [ngModelOptions]="{standalone: true}"
                                  *ngIf="item.type=='Text' && item.label=='Pan No'" minlength="10" maxlength="10"
                                  required readonly />
                                <nz-date-picker nzPlaceHolder="YYYY-MM-DD" [(ngModel)]="item['proof'+i]"
                                  [ngModelOptions]="{standalone: true}" *ngIf="item.type=='Date'"
                                  (ngModelChange)="validateDate5address(item.label,$event)"
                                  [nzDisabledDate]="item.label=='DOI'?disabledFutureDate:item.label=='Expiry Date'?disabledPastDate:false"
                                  required></nz-date-picker>

                              </nz-form-control>
                            </nz-form-item>
                          </div>
                        </div>
                      </div>
                    </nz-card>
                    <br>
                  </div>
                </div>
                <!-- *ngIf="NRI" -->
                <div nz-row *ngIf="!Type3disable">
                  <div nz-col nzLg="24" [ngSwitch]="form_address.value.address4.proofOfAddress">
                    <nz-card [nzTitle]="extraTemplate">
                      <ng-template #extraTemplate>
                        <i nz-icon type="home" nzTheme="outline" class="icon text-warning"></i>&nbsp;&nbsp;Residence for
                        tax purpose in jurisdictions outside India
                      </ng-template>
                      <!-- *ngIf="isJudisdiction" -->
                      <div>
                        <div formGroupName="address4">
                          <div nz-row nzGutter="5">
                            <div nz-col nzMd="5">
                              <nz-form-item>
                                <nz-form-label class="required">Country of residence as per Tax &nbsp;
                                </nz-form-label>
                                <nz-form-control>
                                  <input type="text" nz-input formControlName="taxCountry" maxlength="80" [nzAutocomplete]="auto111"
                                    (keypress)="charrestrict1address($event)" />
                                  <nz-autocomplete #auto111>
                                    <nz-auto-option *ngFor="let option of countryresultArray" [nzValue]="option.Country"
                                      [nzLabel]="option.Country" class="aleternateColor">
                                      <span [innerHTML]="option.Country"></span>
                                    </nz-auto-option>
                                  </nz-autocomplete>

                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="4">
                              <nz-form-item>
                                <nz-form-label class="required">Tax identification No/equivalent</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="taxIdentification"
                                    (keypress)="charrestrictaddress($event)" />
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="4">
                              <nz-form-item>
                                <nz-form-label class="required">Place/City of Birth</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="placeOfBirth" nzAllowClear
                                    nzPlaceHolder="Place Of Birth" (keypress)="charrestrict1address($event)">

                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="4">
                              <nz-form-item>
                                <nz-form-label class="required">Country of Birth</nz-form-label>
                                <nz-form-control>
                                  <input type="text" nz-input autocomplete="off" formControlName="countryOfBirth" maxlength="80"
                                    [nzAutocomplete]="autocountrybirth" (keypress)="charrestrict1address($event)" />
                                  <nz-autocomplete #autocountrybirth>
                                    <nz-auto-option *ngFor="let option of resultArray1" [nzValue]="option.Country"
                                      [nzLabel]="option.Country" class="aleternateColor">
                                      <span [innerHTML]="option.Country"></span>
                                    </nz-auto-option>
                                  </nz-autocomplete>

                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="4">
                              <nz-form-item>
                                <nz-form-label class="required">Fatca</nz-form-label>
                                <nz-form-control>
                                  <nz-select formControlName="fatca" [nzDisabled]="fatcadisable" nzAllowClear nzPlaceHolder="Fatca">
                                    <nz-option nzValue="USPerson" nzLabel="US Person"></nz-option>
                                    <nz-option nzValue="nonUSPerson" nzLabel="Non-USPerson"></nz-option>
                                    <nz-option nzValue="NA" nzLabel="NA"></nz-option>
                                  </nz-select>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="4" *ngIf="enableFacta">
                              <nz-form-item>
                                <nz-form-label class="required">US declaration Form</nz-form-label>
                                <nz-form-control>
                                  <button nz-button nzType="primary" (click)="showModal()" *ngIf="fileList.length"
                                    style="float: right;" title="Preview"><i nz-icon type="eye"></i></button>
                                  <nz-upload nzAction="https://jsonplaceholder.typicode.com/posts/" nzMultiple
                                    [nzBeforeUpload]="beforeUpload" [(nzFileList)]="fileList" [nzLimit]="1">
                                    <button nz-button><i nz-icon type="upload"></i><span>Select
                                        File</span></button>
                                  </nz-upload>
                                  <p *ngIf="fileList.length && fileList[0].DocName" class="filelistName">
                                    {{fileList[0].DocName}}</p>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                          </div>
                          <nz-divider></nz-divider>
                          <div><b style="font-size: 14px;color:rgb(92, 98, 103)">Jurisdiction Address</b>
                            &nbsp;
                            <nz-radio-group formControlName="sameAddAs" (ngModelChange)="checkSameAddressAs($event)">
                              <label nz-radio nzValue="Correspondence">Same as Correspondence</label>
                              <label nz-radio nzValue="Permanent">Same as Permanent</label>
                              <label nz-radio nzValue="others">Others</label>
                            </nz-radio-group>
                          </div>
                          <br>
                          <div nz-row nzGutter="5">
                            <div nz-col nzMd="12">
                              <nz-form-item>
                                <nz-form-label class="required">Address 1</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="houseName" maxlength="36"
                                    (keypress)="charrestrictaddress($event)" [class.disabled]="IsOther=='false'" />
                                </nz-form-control>
                              </nz-form-item>

                            </div>

                            <div nz-col nzMd="12">
                              <nz-form-item>
                                <nz-form-label>Address 2</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="street" maxlength="36"
                                    (keypress)="charrestrictaddress($event)" [class.disabled]="IsOther=='false'" />
                                </nz-form-control>
                              </nz-form-item>

                            </div>
                            <div nz-col nzMd="24">
                              <nz-form-item>
                                <nz-form-label class=""><i nz-icon nzType="home" nzTheme="outline"
                                    class="text-info"></i>Address 3<span class="pAddress">(Details entered in Address 3
                                    line will be updated only in BO and will NOT be updated in Exchange / DPM)</span>
                                </nz-form-label>
                                <nz-form-control>
                                  <input nz-input (keypress)="charrestrictaddress($event)" maxlength="36"
                                    formControlName="landmark" />
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="4">
                              <nz-form-item>
                                <nz-form-label class="required">Pin Code</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="pinCode" [textMask]="{mask: inputMasks.numeric}"
                                    (keyup)="getPinData($event,'address4')" maxlength="6"
                                    (keypress)="charrestrictaddress($event)" [class.disabled]="IsOther=='false'">
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col nzMd="4">
                              <nz-form-item>
                                <nz-form-label class="required">City</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="city" (keypress)="charrestrictaddress($event)"
                                    [class.disabled]="IsOther=='false'" />
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="4">
                              <nz-form-item>
                                <nz-form-label class="required">District</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="district" (keypress)="charrestrictaddress($event)"
                                    [class.disabled]="IsOther=='false'" />
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="4">
                              <nz-form-item>
                                <nz-form-label class="required">State</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="state" (keypress)="charrestrictaddress($event)"
                                    [class.disabled]="IsOther=='false'" />

                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="4">
                              <nz-form-item>
                                <nz-form-label class="required">Country</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="country" (keypress)="charrestrictaddress($event)" maxlength="80"
                                    [class.disabled]="IsOther=='false'" />

                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <!-- [hidden]="IsOther=='true'" -->
                            <div nz-col nzMd="4" >
                              <nz-form-item>
                                <nz-form-label class="required">Proof Of Address</nz-form-label>
                                <nz-form-control>
                                  <nz-select formControlName="proofOfAddress" nzPlaceHolder="Choose" nzAllowClear
                                    [class.disabled]="IsOther=='false'">
                                    <nz-option *ngFor="let data of JurisdictionAddressProofDetails"
                                      [nzValue]="data.Code" [nzLabel]="data.Description"></nz-option>
                                  </nz-select>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                          </div>
                        </div>
                        <!-- [hidden]="IsOther=='true'" -->
                        <div nz-row nzGutter="5" *ngIf="Address4formFeilds.length>0" class="proofAddress"
                          >
                          <div nz-col nzMd="4" *ngFor="let item of Address4formFeilds;let i = index">
                          <!-- {{item | json}} -->
                            <nz-form-item>
                              <nz-form-label class="required">{{item.label}}</nz-form-label>
                              <nz-form-control>
                                <input nz-input [(ngModel)]="item['proof'+i]" (keypress)="charrestrictaddress($event)"
                                  [ngModelOptions]="{standalone: true}"
                                  *ngIf="item.type=='Text'&& (item.label!='Aadhar No'&& item.label!='Pan No')" required
                                   />
                                <input nz-input [(ngModel)]="item['proof'+i]"
                                  (keypress)="numberOnlyaddress(item.label,$event,'A4')"
                                  [ngModelOptions]="{standalone: true}"
                                  (ngModelChange)="maskAdharNum4address(item.label,$event)"
                                  *ngIf="item.type=='Text' && item.label=='Aadhar No'" minlength="12" maxlength="12"
                                  required  />
                                <input nz-input [(ngModel)]="item['proof'+i]" (keypress)="ValidatePanaddress($event)"
                                  [ngModelOptions]="{standalone: true}"
                                  *ngIf="item.type=='Text' && item.label=='Pan No'" minlength="10" maxlength="10"
                                  required />
                                <nz-date-picker nzPlaceHolder="YYYY-MM-DD" [(ngModel)]="item['proof'+i]"
                                  [ngModelOptions]="{standalone: true}" *ngIf="item.type=='Date'"
                                  [nzDisabledDate]="item.label=='DOI'?disabledFutureDate:item.label=='Expiry Date'?disabledPastDate:false"
                                  (ngModelChange)="validateDate4address(item.label,$event)" required>
                                </nz-date-picker>
                              </nz-form-control>
                            </nz-form-item>
                          </div>

                        </div>

                      </div>
                    </nz-card>
                  </div>

                </div>


              </form>

              <!-- address forms end -->
              <!-- <div *ngIf="addressformenable && !fromReportPoolPage" nz-row>
              <div nz-col nzLg="3" nzMd="6" class="commonsave">
                <button nz-button nzType="primary" (click)="savecommon(form_address,'address')">SAVE</button>

              </div>
            </div> -->
              <!-- *ngIf="addressformenable && !fromReportPoolPage" -->
              <br>
              <!-- contacts details start -->
              <!-- *ngIf="contactsformenable " -->
              <form id="contacts" [class.disableCards1]="!editFlag && !rejectEditeEnable" nz-form [formGroup]="form_contacts"
                nzLayout="vertical">
                <div nz-row nzGutter="10">
                  <div [class.disableCards]="!(applicationStatus!='T')" nz-col nzLg="24">
                    <nz-card [nzTitle]="titlecontact1">
                      <ng-template #titlecontact1>
                        <i nz-icon nzType="phone" nzTheme="outline" class="icon text-warning"></i>&nbsp;&nbsp;Contact
                        Details
                      </ng-template>

                      <div nz-row nzGutter="5">
                        <div nz-col nzMd="6" [class.disableCards1]="true">
                          <nz-form-item>
                            <nz-form-label>Telephone (Office)</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="telephoneOffice"
                                [textMask]="{mask: inputMasks.numeric}" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzMd="6" [class.disableCards1]="true">
                          <nz-form-item>
                            <nz-form-label>Telephone (Res)</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="telephoneResidence"
                                [textMask]="{mask: inputMasks.numeric}" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzMd="8" [class.disableCards1]="true">
                          <nz-form-item>
                            <nz-form-label>Fax</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="fax" [textMask]="{mask: inputMasks.numeric}"
                                maxlength="15" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzMd="4" [class.disableCards1]="true">
                          <nz-form-item>
                            <nz-form-label>SMS Facility</nz-form-label>
                            <nz-form-control>
                              <nz-switch formControlName="smsFacility"></nz-switch>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                      </div>
                      <div [class.disableCards1]="disableMobile" nz-row nzGutter="5">
                        <div nz-col nzMd="6">
                          <nz-form-item>
                            <nz-form-label class="required">Mobile</nz-form-label>
                            <nz-form-control>
                              <nz-input-group nzCompact>
                                <!-- [readonly]="disableKrarelatedFields || !NRI" -->
                                <input type="text" nz-input formControlName="isdCodeMobile" style="width: 30%;"
                                  [nzAutocomplete]="autoisd" maxlength="3" />
                                <!-- <nz-auto-option *ngFor="let option of isdCodeArray" [nzValue]="option.ISD_Code"
                                    [nzLabel]="option.ISD_Code" class="aleternateColor"> -->
                                <!-- <span [innerHTML]="option.ISD_Code"></span> -->
                                <nz-autocomplete #autoisd>
                                  <!-- <nz-auto-option *ngFor="let option of CountrycodeArray" [nzValue]="option.CODE"
                                    [nzLabel]="option.CODE" class="aleternateColor">
                                  </nz-auto-option> -->
                                  <nz-auto-option *ngFor="let option of isdCodeArray" [nzValue]="option.ISD_Code"
                                    [nzLabel]="option.ISD_Code" class="aleternateColor">
                                    <span [innerHTML]="option.ISD_Code"></span>
                                  </nz-auto-option>
                                </nz-autocomplete>

                                <!-- <nz-select formControlName="isdCodeMobile" nzShowSearch nzAllowClear>
                                    <nz-option *ngFor="let item of CountrycodeArray" [nzLabel]="item.CODE"
                                      [nzValue]="item.CODE">
                                    </nz-option>
                                  </nz-select> -->
                                <input nz-input formControlName="mobile" [readonly]="disableKrarelatedFields"
                                  style="width: 70%;" [textMask]="{mask: inputMasks.numeric}" [maxlength]="max1"
                                  [minlength]="min1" />
                              </nz-input-group>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzMd="6" [class.disableCards1]="!mobileRelationEnable">
                          <nz-form-item>
                            <nz-form-label>Relation</nz-form-label>
                            <nz-form-control>
                              <nz-select formControlName="relation" nzAllowClear>
                                <nz-option *ngFor="let item of relationArray" [nzValue]="item.Code"
                                  [nzLabel]="item.Code">
                                </nz-option>
                              </nz-select>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzMd="8" [class.disableCards1]="true">
                          <nz-form-item>
                            <nz-form-label>Existing Client</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="existingClient" readonly />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzMd="4" [class.disableCards1]="true">
                          <nz-form-item>
                            <nz-form-label>Existing PAN</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="existingPan" readonly minlength="10" maxlength="10"
                                style="text-transform: uppercase;" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                      </div>


                      <div nz-row nzGutter="5">
                        <div nz-col nzMd="6">
                          <nz-form-item>
                            <nz-form-label class="required">Email</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="email" maxlength="254" [pattern]="inputPatterns.emailId"
                                [readonly]="disableKrarelatedFields" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzMd="6" [class.disableCards1]="!emailRelationEnable">
                          <nz-form-item>
                            <nz-form-label>Relation</nz-form-label>
                            <nz-form-control>
                              <nz-select formControlName="relation2" nzAllowClear>
                                <nz-option *ngFor="let item of relationArray" [nzValue]="item.Code"
                                  [nzLabel]="item.Code">
                                </nz-option>

                              </nz-select>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzMd="8" [class.disableCards1]="true">
                          <nz-form-item>
                            <nz-form-label>Existing Client</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="existingClient2" readonly />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                        <div nz-col nzMd="4" [class.disableCards1]="true">
                          <nz-form-item>
                            <nz-form-label>Existing PAN</nz-form-label>
                            <nz-form-control>
                              <input nz-input formControlName="existingPan2" readonly maxlength="10" minlength="10"
                                style="text-transform: uppercase;" />
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                      </div>

                    </nz-card>
                  </div>





                </div>

              </form>


              <!-- contact details end -->
              <!-- <div *ngIf="contactsformenable && !fromReportPoolPage" nz-row>
              <div nz-col nzLg="3" nzMd="6" class="commonsave">
                <button nz-button nzType="primary" (click)="savecommon(form_contacts,'contacts')">SAVE</button>

              </div>
            </div> -->
              <!-- *ngIf="contactsformenable && !fromReportPoolPage" -->
              <br>
              <!-- financial form start -->
              <!-- *ngIf="financialformenable" -->
              <form id="financial" [class.disableCards1]="!editFlag && !rejectEditeEnable" nz-form [formGroup]="form_financial"
                nzLayout="vertical">
                <div nz-row>
                  <div nz-col nzMd="24">
                    <nz-card [nzTitle]="titlefinancial" class="mb-20">
                      <ng-template #titlefinancial>
                        <!-- <label *ngIf="this.tab !='Financials'" nz-checkbox formControlName="skipFin"
                (ngModelChange)="showFin($event)">Skip </label> -->
                        <i nz-icon nzType="credit-card" nzTheme="outline"
                          class="icon text-warning"></i>&nbsp;&nbsp;Financial
                      </ng-template>
                      <div>
                        <!-- 17780 commented *ngIf="showWindow" -->
                        <!-- <div nz-row nzGutter="5" *ngIf="applicationStatus=='P' && HO && this.financialtab =='Financials'" >
                <button  nz-button nzType="primary" class='editButton' type="button" (click)="editButton()">Edit</button>
              </div> -->
                        <div nz-row nzGutter="5">
                          <div nz-col nzMd="8">
                            <nz-form-item>
                              <nz-form-label class="required1">Pep</nz-form-label>
                              <nz-form-control>
                                <!-- [class.disabled]="!isOccuVisible" -->
                                <nz-select formControlName="pep" [class.disableCards1]="true" nzPlaceHolder="Choose pep">
                                  <nz-option *ngFor="let data of pepSourceArray" [nzValue]="data.Occupation_category"
                                    [nzLabel]="data.Name">
                                  </nz-option>
                                </nz-select>
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div nz-col nzMd="4">
                            <nz-form-item>
                              <nz-form-label class="required1">Annual Income</nz-form-label>
                              <nz-form-control>
                                <nz-select formControlName="anualIncome" nzPlaceHolder="Choose annual income">
                                  <nz-option *ngFor="let data of annualIncomeSourceArray" [nzValue]="data.IncomeId"
                                    [nzLabel]="data.Slab">
                                  </nz-option>
                                </nz-select>
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div nz-col nzMd="4">
                            <nz-form-item>
                              <nz-form-label>Networth</nz-form-label>
                              <nz-form-control>
                                <input nz-input formControlName="networth" maxlength="13" [textMask]="{mask: inputMasks.numeric}"
                                  (blur)="NetworthChange($event)" />
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div nz-col nzMd="4">
                            <nz-form-item>
                              <nz-form-label class="required1">As On Date</nz-form-label>
                              <nz-form-control>
                                <nz-date-picker formControlName="networthasondate" [nzDisabledDate]="disabledFutureDate"
                                  [nzDisabled]="networthasvalue"></nz-date-picker>
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                        </div>
                        <div nz-row nzGutter="5">
                          <div nz-col nzMd="8">
                            <nz-form-item>
                              <nz-form-label class="required">Source of funds</nz-form-label>
                              <nz-form-control>
                                <nz-select formControlName="sourceOfFund" (ngModelChange)="showinput($event)"
                                  nzAllowClear>
                                  <nz-option *ngFor="let funds of sourceoffund" [nzLabel]="funds.Fund"
                                    [nzValue]="funds.Fund">
                                  </nz-option>
                                </nz-select>
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div nz-col nzMd="8" *ngIf="isvisibleprof_busi">
                            <!-- 17780 commented *ngIf="isvisibleprof_busi" -->
                            <nz-form-item>
                              <nz-form-label class="required">Professional/Business Name</nz-form-label>
                              <nz-form-control>
                                <input nz-input formControlName="prof_busi"
                                  (keypress)="financialcharrestrict($event)" />
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div nz-col nzMd="8" *ngIf="isvisiblebusi">
                            <!-- 17780 commented *ngIf="isvisiblebusi" -->
                            <nz-form-item>
                              <nz-form-label class="required">Type of business activity</nz-form-label>
                              <nz-form-control>
                                <input nz-input formControlName="typeOfBusiActivity"
                                  (keypress)="financialcharrestrict($event)" />
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div nz-col nzMd="8" *ngIf="isotherSource">
                            <!-- 17780 commented *ngIf="isotherSource" -->
                            <nz-form-item>
                              <nz-form-label class="required">Specify source of fund </nz-form-label>
                              <nz-form-control>
                                <input nz-input formControlName="otherfunds" />
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                        </div>
                        <div nz-row nzGutter="5">
                          <!-- 17780 commented *ngIf="isOccupdetails" -->
                          <div nz-col nzMd="8">
                            <nz-form-item>
                              <nz-form-label class="required">Occupation Type</nz-form-label>
                              <nz-form-control>

                                <nz-select formControlName="occupationType" nzAllowClear
                                  (ngModelChange)="showOccupation($event)">
                                  <nz-option *ngFor="let item of occupationArray" [nzValue]="item.OCCUPATIONTYPE"
                                    [nzLabel]="item.OCCUPATIONTYPE"></nz-option>
                                </nz-select>



                              </nz-form-control>
                            </nz-form-item>
                          </div>
                          <div *ngIf="isOccupdetails">
                            <!-- 17780 commented *ngIf="isOccupdetails" -->
                            <div nz-col nzMd="8">
                              <nz-form-item>
                                <nz-form-label>Name of Organisation</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="organisation" maxlength="160" class='upper' />
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="8">
                              <nz-form-item>
                                <nz-form-label class="required">Designation</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="designation" maxlength="128" class='upper' />
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="8">
                              <nz-form-item>
                                <nz-form-label>Name of Employer</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="nameofemployer" class='upper' />
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="8">
                              <nz-form-item>
                                <nz-form-label class="required">Office Address 1</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="officeaddress1" class='upper' />
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="8">
                              <nz-form-item>
                                <nz-form-label>Office Address 2</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="officeaddress2" class='upper' />
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="8">
                              <nz-form-item>
                                <nz-form-label>Office Address 3</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="officeaddress3" class='upper' />
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="3">
                              <nz-form-item>
                                <nz-form-label>Office PIN</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="offpin" [textMask]="{mask: inputMasks.numeric}" />
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="5">
                              <nz-form-item>
                                <nz-form-label>Email</nz-form-label>
                                <nz-form-control>
                                  <input id="financialemail" maxlength="254" nz-input formControlName="email" />
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="4">
                              <nz-form-item>
                                <nz-form-label>Mobile</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="mobile" maxlength="16" [textMask]="{mask: inputMasks.numeric}" />
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="4">
                              <nz-form-item>
                                <nz-form-label>Phone</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="phone" maxlength="16" [textMask]="{mask: inputMasks.numeric}" />
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                          </div>
                        </div>
                      </div>
                    </nz-card>
                  </div>

                  <div>
                    <!-- 17780 commented *ngIf="showWindow" -->
                    <div nz-col nzMd="24" *ngIf="derivativeStatus">
                      <nz-card [nzTitle]="titlefinancial2">
                        <ng-template #titlefinancial2>
                          <i nz-icon nzType="solution" nzTheme="outline"
                            class="icon text-warning"></i>&nbsp;&nbsp;Derivative proof
                        </ng-template>
                        <div nz-row nzGutter="5">
                          <div nz-col nzMd="24">
                            <nz-form-item>
                              <nz-radio-group formControlName="derivativeProof" nzName="radiogroup">
                                <div nz-col nzMd="8">
                                  <label nz-radio nzValue='Copy of ITR Acknowledgement'>Copy of ITR
                                    Acknowledgement</label>
                                </div>
                                <div nz-col nzMd="8">
                                  <label nz-radio nzValue='Copy of Form 16 in case of salary income'>Copy of Form 16 in
                                    case of salary
                                    income</label>
                                </div>
                                <div nz-col nzMd="8">
                                  <label nz-radio nzValue='Salary Slip'>Salary Slip</label>
                                </div>
                                <div nz-col nzMd="8">
                                  <label nz-radio nzValue='Bank account statement for last 6 months'>Bank account
                                    statement for last 6
                                    months</label>
                                </div>
                                <div nz-col nzMd="8">
                                  <label nz-radio nzValue='Copy of demat account Holding statement'>Copy of demat
                                    account
                                    Holding
                                    statement</label>
                                </div>
                                <div nz-col nzMd="8">
                                  <label nz-radio
                                    nzValue='Net worth certificate issues by a competent authority or CA'>Net worth
                                    certificate issues by a competent
                                    authority or CA</label>
                                </div>
                                <div nz-col nzMd="8">
                                  <label nz-radio nzValue='Assets with valuation certificate'>Assets with valuation
                                    certificate</label>
                                </div>
                                <div nz-col nzMd="8">
                                  <label nz-radio nzValue='Other financial document'>Other financial document</label>
                                </div>

                              </nz-radio-group>
                            </nz-form-item>
                          </div>
                        </div>

                      </nz-card>
                    </div>
                  </div>
                  <div nz-col nzMd="24" class="mb-20" *ngIf="financialtab=='Financials'">
                    <crf-image-upload></crf-image-upload>
                  </div>
                  <div nz-col nzMd="24" *ngIf="financialtab=='Financials'">
                    <div nz-row nzGutter="5">
                      <div nz-col nzMd="15">
                        <div nz-col nzSpan="5">{{Remks}}</div>
                        <div nz-col nzSpan="19">
                          <nz-form-item>
                            <nz-form-control>
                              <input nz-input formControlName="RejRemarks" [disabled]="applicationStatus!='P'&&!HO"
                                [nzAutocomplete]="remarks2" />
                              <nz-autocomplete #remarks2>
                                <nz-auto-option *ngFor="let option of rejectionRemarks" [nzValue]="option.Remarks"
                                  [nzLabel]="option.Remarks" class="aleternateColor">
                                  <span [innerHTML]="option.Remarks"></span>
                                </nz-auto-option>
                              </nz-autocomplete>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                      </div>
                      <!-- <div nz-col nzMd="9" style="text-align: right;">
              <button nz-button nzType="primary" type="button" (click)="onBackClick()">Back</button>
              <button nz-button nzType="primary" type="submit" (click)="Save('save')"
                *ngIf="saveButtonFlag&&applicationStatus!='T'">Save</button>
              <button nz-button nzType="primary" type="submit" (click)="Save('savefinalise')"
                *ngIf="saveButtonFlag&&applicationStatus=='T'">Save and Finalize</button>
              <button nz-button nzType="primary" type="button" (click)="BranchReject()"
                *ngIf="saveButtonFlag&&applicationStatus=='T'&&!HO">Branch Reject</button>
              <button nz-button nzType="primary" type="button" (click)="Reject()"
                *ngIf="approveOrRejectButtonFlag || finalApproveOrRejectButtonFlag">Reject</button>
                <button nz-button nzType="primary" type="button" *ngIf="approveOrRejectButtonFlag && editFlag"
                (click)="initialApprove()">First level Approve</button>
            <button nz-button nzType="primary" class="btnApprove1" type="button" *ngIf="finalApproveOrRejectButtonFlag || (approveOrRejectButtonFlag && !editFlag)"
                (click)="Approve()">Final Approve</button>
            <button nz-button nzType="primary" style="float: right;" type="button"
                *ngIf="requestID!=''&&!(approveOrRejectButtonFlag ||finalApproveOrRejectButtonFlag) " (click)="PrintForm()">Print {{tab}} Form</button>
            </div> -->
                      <div nz-col nzMd="15"
                        *ngIf="(applicationStatus=='P'||applicationStatus=='A'||applicationStatus=='R'||applicationStatus=='F')&&  !editFlag">
                        <div nz-col nzSpan="5">Approval Remarks</div>
                        <div nz-col nzSpan="19">
                          <nz-form-item>
                            <nz-form-control>
                              <input nz-input formControlName="AppRemarks" [disabled]="applicationStatus!='P'&&!HO"
                                [nzAutocomplete]="remarks1" />
                              <nz-autocomplete #remarks1>
                                <nz-auto-option *ngFor="let option of approvelRemarks" [nzValue]="option.Remarks"
                                  [nzLabel]="option.Remarks" class="aleternateColor">
                                  <span [innerHTML]="option.Remarks"></span>
                                </nz-auto-option>
                              </nz-autocomplete>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </form>

              <!-- financial form end -->
              <!-- <div *ngIf="financialformenable && !fromReportPoolPage" nz-row>
              <div nz-col nzLg="3" nzMd="6" class="commonsave">
                <button nz-button nzType="primary" (click)="savecommon(form_financial,'financial')">SAVE</button>

              </div>
            </div> -->
              <!-- *ngIf="financialformenable && !fromReportPoolPage" -->
              <br>
              <form id="passport" *ngIf="!Type3disable" [class.disableCards1]="!editFlag && !rejectEditeEnable" nz-form
                [formGroup]="form_passport" nzLayout="vertical">
                <nz-card [nzTitle]="titlepassport1">
                  <ng-template #titlepassport1>
                    <i nz-icon type="user" class="icon text-danger" nzTheme="outline"></i>&nbsp;&nbsp;Passport Details
                  </ng-template>
                  <!-- <div nz-row nzGutter="10" formGroupName="masterBank"> -->
                  <!-- <div nz-row nzGutter="5"  *ngIf="applicationStatus=='P' && HO">
                <button  nz-button nzType="primary" class='editButton' type="button" (click)="editButton()">Edit</button>
            </div> -->
                  <div nz-row nzGutter="5">

                    <div nz-col nzMd="4">
                      <nz-form-item>
                        <nz-form-label class="required">Passport Number </nz-form-label>
                        <nz-form-control>
                          <input formControlName="passportName" nz-input (keypress)="bankcharrestrict($event)"
                            class='upper' />
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <div nz-col nzMd="4">
                      <nz-form-item>
                        <nz-form-label class="required">Place Of Issue </nz-form-label>
                        <nz-form-control>
                          <input formControlName="placeOfIssue" nz-input (keypress)="bankcharrestrict($event)"
                            class='upper' />
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <div nz-col nzMd="4">
                      <nz-form-item>
                        <nz-form-label class="required">Date Of Issue</nz-form-label>
                        <nz-form-control>
                          <!-- [nzDisabledDate]="disabledFutureDate" -->
                          <nz-date-picker formControlName="dateOfIssue" [nzDisabledDate]="disabledFutureDate">
                          </nz-date-picker>
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <div nz-col nzMd="4">
                      <nz-form-item>
                        <nz-form-label class="required">Expiry Date</nz-form-label>
                        <nz-form-control>
                          <!-- [nzDisabledDate]="disabledFutureDate" -->
                          <nz-date-picker formControlName="expiryDate" [nzDisabledDate]="disabledPastDate">
                          </nz-date-picker>
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                  </div>
                </nz-card>
              </form>
              <br>
              <!-- bank details form start -->
              <!-- *ngIf="bankformenable" -->
              <form id="bank" [class.disableCards1]="!editFlag && !rejectEditeEnable" nz-form [formGroup]="form_bank" nzLayout="vertical">
                <nz-card [nzTitle]="titlebank1">
                  <ng-template #titlebank1>
                    <i nz-icon type="user" class="icon text-danger" nzTheme="outline"></i>&nbsp;&nbsp;Bank Details
                  </ng-template>
                  <!-- <div nz-row nzGutter="10" formGroupName="masterBank"> -->
                  <!-- <div nz-row nzGutter="5"  *ngIf="applicationStatus=='P' && HO">
                <button  nz-button nzType="primary" class='editButton' type="button" (click)="editButton()">Edit</button>
            </div> -->
                  <div nz-row nzGutter="5">

                    <div nz-col nzMd="4">
                      <nz-form-item>
                        <nz-form-label class="required">Client Name (As in bank proof ) </nz-form-label>
                        <nz-form-control>
                          <input formControlName="clntname" nz-input (keypress)="bankcharrestrict($event)"
                            class='upper' />
                        </nz-form-control>
                      </nz-form-item>
                    </div>

                    <div nz-col nzMd="4">
                      <nz-form-item>
                        <nz-form-label class="required">Bank Ac Type</nz-form-label>
                        <nz-form-control>
                          <!-- [class.disabled]="applicationStatus=='P'||applicationStatus=='A'||applicationStatus=='T'" -->
                          <nz-select formControlName="bankAcType" nzPlaceHolder="Choose">
                            <nz-option *ngFor="let item of tradingBankAccType" [nzValue]="item.AccountType"
                              [nzLabel]="item.AccountType"></nz-option>
                          </nz-select>
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <div nz-col nzMd="4">
                      <nz-form-item>
                        <nz-form-label>Mode of operation</nz-form-label>
                        <nz-form-control>
                          <!-- [class.disabled]="applicationStatus=='P'||applicationStatus=='A'||applicationStatus=='T'" -->
                          <nz-select formControlName="modeOfOperation">
                            <nz-option *ngFor="let item of ModeOfOperation" [nzValue]="item.Mode" [nzLabel]="item.Mode">
                            </nz-option>
                          </nz-select>
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <div nz-col nzMd="4">
                      <nz-form-item>
                        <nz-form-label class="required">IFSC Code</nz-form-label>
                        <nz-form-control>
                          <input nz-input (ngModelChange)="getIfscdetails($event)" (keypress)="charrestrictAll($event)"
                            formControlName="ifscCode" maxlength="11" minlength="11" class='upper' />
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <div nz-col nzMd="4">
                      <nz-form-item>
                        <nz-form-label class="required">Bank Name</nz-form-label>
                        <nz-form-control>
                          <input nz-input formControlName="bankname" class='upper' />
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <div nz-col nzMd="4">
                      <nz-form-item>
                        <nz-form-label>MICR</nz-form-label>
                        <nz-form-control>
                          <input nz-input formControlName="micr" maxlength="9" [textMask]="{mask: inputMasks.numeric}"
                            class='upper' />
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                  </div>
                  <div nz-row nzGutter="5">
                    <div nz-col nzMd="4">
                      <nz-form-item>
                        <nz-form-label class="required">Address</nz-form-label>
                        <nz-form-control>
                          <textarea nz-input rows="4" style="max-height: 80px;" formControlName="address"></textarea>
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <div nz-col nzMd="4">
                      <nz-form-item>
                        <nz-form-label class="required">Country</nz-form-label>
                        <nz-form-control>
                          <nz-form-control>
                            <input type="text" nz-input formControlName="country" maxlength="80" [nzAutocomplete]="autocountry"
                              (blur)="CheckCountryvalid($event)" />
                            <nz-autocomplete #autocountry>
                              <nz-auto-option *ngFor="let option of resultArray" [nzValue]="option.Country"
                                [nzLabel]="option.Country" class="aleternateColor">
                                <span [innerHTML]="option.Country"></span>
                              </nz-auto-option>
                            </nz-autocomplete>
                          </nz-form-control>
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <div nz-col nzMd="4">
                      <nz-form-item>
                        <nz-form-label class="required">State</nz-form-label>
                        <nz-form-control>
                          <input nz-input formControlName="state" (keypress)="bankcharrestrict($event)" class='upper' />
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <div nz-col nzMd="4">
                      <nz-form-item>
                        <nz-form-label class="required">City</nz-form-label>
                        <nz-form-control>
                          <input nz-input formControlName="city" class='upper' />
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <div nz-col nzMd="4">
                      <nz-form-item>
                        <nz-form-label class="required">Pin</nz-form-label>
                        <nz-form-control>
                          <input nz-input formControlName="pin" [textMask]="{mask: inputMasks.numeric}" maxlength="6"
                            class='upper' />
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <div nz-col nzMd="4">
                      <nz-form-item>
                        <nz-form-label class="required">Account Number</nz-form-label>
                        <nz-form-control>
                          <!-- [class.disabled]="editFlag" -->
                          <input nz-input type="password" formControlName="accntNumber" maxlength="17"
                            [textMask]="{mask: inputMasks.numeric}" minlength="4" class='upper' />
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <div nz-col nzMd="4" *ngIf="fromReportPoolPage && CurrentStatus=='I' && !final" [ngClass]="{enableCard1: !final}">
                      <nz-form-item>
                        <nz-form-label class="required">Confirm Account Number</nz-form-label>
                        <nz-form-control>
                          <input nz-input formControlName="confrmAccntNumber" [textMask]="{mask: inputMasks.numeric}"
                            class='upper' />
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <div nz-col nzMd="4">
                      <nz-form-item>
                        <nz-form-label>Online Fund Transfer</nz-form-label>
                        <nz-form-control>
                          <nz-select formControlName="oft" nzPlaceHolder="Choose"
                            [class.disabled]="applicationStatus=='P'||applicationStatus=='A'||applicationStatus=='T'">
                            <nz-option [nzValue]="'Y'" nzLabel="Yes"></nz-option>
                            <nz-option [nzValue]="'N'" nzLabel="No"></nz-option>
                          </nz-select>
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <!-- <div nz-col nzMd="4" *ngIf="TypeTabIndex !==0" [hidden]="hidRbidetails">
                      <nz-form-item>
                        <nz-form-label class="required">RBI Reference Number</nz-form-label>
                        <nz-form-control>
                          <input nz-input formControlName="rbirefNo" class='upper' maxlength="50" />
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <div nz-col nzMd="4" *ngIf="TypeTabIndex !==0" [hidden]="hidRbidetails">
                      <nz-form-item>
                        <nz-form-label>RBI Approval Date</nz-form-label>
                        <nz-form-control>
                          <nz-date-picker formControlName="rbiapprvldt" [nzDisabledDate]="disabledFutureDate">
                          </nz-date-picker>
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <div nz-col nzMd="4" *ngIf="TypeTabIndex !==0" [hidden]="hidRbidetails">
                      <nz-form-item>
                        <nz-form-label class="required">PIS Bank</nz-form-label>
                        <nz-form-control>
                          <nz-select formControlName="pisBank" nzPlaceHolder="Choose">
                            <nz-option *ngFor="let item of pisBankList" [nzValue]="item.BankCode"
                              [nzLabel]="item.BankName"></nz-option>
                          </nz-select>
                        </nz-form-control>
                      </nz-form-item>
                    </div> -->
                  </div>
                  <div nz-row nzGutter="5">
                    <div nz-col nzMd="10">
                      <nz-form-item>
                        <nz-radio-group formControlName="BankAddoption" nzName="radiogroup" required>
                          <label nz-radio nzValue=0>Set As Primary</label>
                          <label nz-radio nzValue=1>Add New</label>
                          <label nz-radio nzValue=2>Update Existing</label>
                        </nz-radio-group>
                      </nz-form-item>
                    </div>
                  </div>
                  <!-- </div> -->
                  <app-file-preview [(isVisible)]="bankfilePreiewVisible" [content]="bankfilePreiewContent"
                    [contentType]="bankfilePreiewContentType" [fileName]="filePreiewFilename"></app-file-preview>
                </nz-card>
                <div *ngIf="banktab=='Bank'" style="margin-top: 10px; margin-bottom: 10px;">
                  <crf-image-upload></crf-image-upload>
                </div>
                <!-- <div nz-row nzGutter="5" formGroupName="Rejection">
        <div nz-col nzMd="15">
            <div nz-col nzSpan="5">{{Remks}}</div>
            <div nz-col nzSpan="19">
                <nz-form-item>
                    <nz-form-control>
                        <input nz-input formControlName="RejRemarks" [disabled]="applicationStatus!='P'&&!HO"
                            [nzAutocomplete]="remarks2" />
                        <nz-autocomplete #remarks2>
                            <nz-auto-option *ngFor="let option of rejectionRemarks" [nzValue]="option.Remarks"
                                [nzLabel]="option.Remarks" class="aleternateColor">
                                <span [innerHTML]="option.Remarks"></span>
                            </nz-auto-option>
                        </nz-autocomplete>
                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>
        <div nz-col nzMd="9">
            <p class="text-right" *ngIf="tab=='Bank'">
                <button nz-button nzType="primary" type="button" (click)="onBackClick()">Back</button>
                <button nz-button nzType="primary" type="submit" (click)="SaveBank('save')"
                    *ngIf="saveButtonFlag&&applicationStatus!='T'">Save</button>
                <button nz-button nzType="primary" type="submit" (click)="SaveBank('savefinalise')"
                    *ngIf="saveButtonFlag&&applicationStatus=='T'">Save and Finalize</button>
                <button nz-button nzType="primary" type="button" (click)="BranchReject()"
                    *ngIf="saveButtonFlag&&applicationStatus=='T'&&!HO">Branch Reject</button>
                <button nz-button nzType="primary" type="button" *ngIf="approveOrRejectButtonFlag || finalApproveOrRejectButtonFlag"
                    (click)="Reject()">Reject</button>
                <button nz-button nzType="primary" type="button" *ngIf="approveOrRejectButtonFlag && editFlag"
                    (click)="initialApprove()">First level Approve</button>
                <button nz-button nzType="primary" class="btnApprove1" type="button" *ngIf="finalApproveOrRejectButtonFlag ||  (approveOrRejectButtonFlag && !editFlag)"
                    (click)="Approve()">Final Approve</button>
                <button nz-button nzType="primary" style="float: right;" type="button"
                    *ngIf="requestID!=''&&!(approveOrRejectButtonFlag ||finalApproveOrRejectButtonFlag) " (click)="PrintForm()">Print {{tab}} Form</button>
            </p>
        </div>
        <div nz-col nzMd="15" *ngIf="(applicationStatus=='P'||applicationStatus=='A'||applicationStatus=='R'||applicationStatus=='F')&&  !editFlag">
            <div nz-col nzSpan="5">Approval Remarks</div>
            <div nz-col nzSpan="19">
                <nz-form-item>
                    <nz-form-control>
                        <input nz-input formControlName="AppRemarks" [disabled]="applicationStatus!='P'&&!HO"
                            [nzAutocomplete]="remarks1" />
                        <nz-autocomplete #remarks1>
                            <nz-auto-option *ngFor="let option of approvelRemarks" [nzValue]="option.Remarks"
                                [nzLabel]="option.Remarks" class="aleternateColor">
                                <span [innerHTML]="option.Remarks"></span>
                            </nz-auto-option>
                        </nz-autocomplete>

                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>
    </div> -->
              </form>
              <!-- bank details form end -->
              <!-- <div *ngIf="bankformenable && !fromReportPoolPage" nz-row>
              <div nz-col nzLg="3" nzMd="6" class="commonsave">
                <button nz-button nzType="primary" (click)="savecommon(form_bank,'bank')">SAVE</button>

              </div>
            </div> -->
              <!-- *ngIf="bankformenable && !fromReportPoolPage" -->
              <br>

              <!-- nominee details form start -->
              <!-- *ngIf="nomineeformenable" -->
              <!-- [class.disableCards1]="disablenominee" -->
              <form id="nominee" [class.disableCards1]="!editFlag && !rejectEditeEnable" nz-form [formGroup]="form_nominee"
                nzLayout="vertical">
                <nz-card style="margin-bottom: 20px;">
                  <div nz-row nzGutter="5">
                    <div nz-col nzMd="5" *ngIf="numOfNominees === 'One'||numOfNominees === 'Two'||numOfNominees === 'Three'">
                      <label nz-checkbox [nzDisabled]="isDisabled" formControlName="nomineeEqualShareForNominess"
                        (ngModelChange)="OnChangeEquelShare($event)">Equal Share for nominees</label>
                    </div>
                    <div nz-col nzMd="5">
                      <!-- [nzDisabled]="nomineehidden" -->
                      <nz-radio-group [(ngModel)]="numOfNominees" (ngModelChange)="SetNomineeNumber($event)"
                        [ngModelOptions]="{standalone: true}">
                        <label nz-radio [nzDisabled]="!nomineehidden" nzValue="NoNominee">Nominee Exist</label><br>
                        <label nz-radio [nzDisabled]="nomineehidden" nzValue="Zero">Opting Out</label><br>
                        <label nz-radio [nzDisabled]="nomineehidden" nzValue="One">One Nominee</label><br>
                        <label nz-radio [nzDisabled]="nomineehidden" nzValue="Two">Two Nominee</label><br>
                        <label nz-radio [nzDisabled]="nomineehidden" nzValue="Three">Three Nominee</label>
                      </nz-radio-group>
                    </div>
                    <!-- <div nz-col nzMd="5">
                                          <label nz-checkbox [(ngModel)]="nomineehidden" [ngModelOptions]="{standalone: true}">No Nominee</label>
                                        </div> -->
                    <p class="text-danger" *ngIf="numOfNominees === 'One'||numOfNominees === 'Two'||numOfNominees === 'Three'">First Nominee will be considered as trading account nominee.</p>
                    <p *ngIf="numOfNominees == 'NoNominee'" class="text-danger"> Nominee Details Already Exists .
                    <br>
                    <p *ngIf="(numOfNominees === 'One'||numOfNominees === 'Two'||numOfNominees === 'Three') && !nomineehidden" class="text-danger">The nominee details will be updated in both Demat and trading account</p>
                    <p>
                      <!-- <p>The first Nominee will be considered as trading account Nominee</p> -->
                      <!-- <div nz-row nzGutter="5" class='editButtonDiv' *ngIf="applicationStatus=='P' && HO">
        <button nz-button nzType="primary" class='editButton' type="button" (click)="editButton()">Edit</button>
      </div> -->
                  </div>
                </nz-card>
                <!-- *ngIf=!nomineehidden -->
                <nz-tabset *ngIf="numOfNominees == 'One' || numOfNominees == 'Two' || numOfNominees == 'Three'"
                  class="enableCard1">
                  <nz-tab [nzTitle]="'First Nominee Details'" class="enableCard1">
                    <div nz-row nzGutter="10" formGroupName="firstNomineeDetails"
                      [class.disableCards1]="(fromReportPoolPage || CurrentStatus =='P' || final ) && !rejectEditeEnable">
                      <div nz-col nzMd="24">
                        <div nz-row nzGutter="5">
                          <nz-card nzTitle="Nominee Details">

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Title</nz-form-label>
                                <nz-form-control>
                                  <nz-select formControlName="nomineeTitle" [class.disabled]="disableFld">
                                    <nz-option nzValue="Mr" nzLabel="Mr"></nz-option>
                                    <nz-option nzValue="Mrs" nzLabel="Mrs"></nz-option>
                                    <nz-option nzValue="Ms" nzLabel="Ms"></nz-option>
                                  </nz-select>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> First Name</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="nomineeFirstName" type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="30" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Middle Name</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="nomineeMiddleName" type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="15" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label> Last Name</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="nomineeLastName" type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="45" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Relationship</nz-form-label>
                                <nz-form-control>
                                  <nz-select formControlName="nomineeRelationshipwithapplicant"
                                    [class.disabled]="disableFld">
                                    <nz-option *ngFor="let item of  nomineeRelationArray" [nzValue]="item.Relation"
                                      [nzLabel]="item.Relation"></nz-option>

                                  </nz-select>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> Address 1</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeHouseName" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="36" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label> Address 2</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeHouseNumber" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="36" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Address 3</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="nomineeStreet" type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="150" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Pin</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineePin" [textMask]="{mask: inputMasks.numeric}"
                                    (ngModelChange)="getPinDataNominee($event,'firstNominee')" maxlength="6"
                                    minlength="6" nz-input type="text" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">City</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeCity" class='upper' nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="36">
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> State</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeState" nz-input type="text" readonly class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Country</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeCountry" maxlength="80" class='upper' nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)">
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="2">
                              <nz-form-item>
                                <nz-form-label>ISD Code</nz-form-label>
                                <nz-form-control>
                                  <nz-select nzShowSearch nzAllowClear formControlName=isdCodeMobile
                                    (ngModelChange)="Setmobilelength('N1',$event)">
                                    <nz-option *ngFor="let item of CountrycodeArray" [nzLabel]="item.CODE"
                                      [nzValue]="item.CODE">
                                    </nz-option>
                                  </nz-select>

                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="4">
                              <nz-form-item>
                                <nz-form-label>Mobile</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeMobile" [textMask]="{mask: inputMasks.numeric}"
                                    [maxlength]="max1" [minlength]="min1" nz-input type="text" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="3">
                              <nz-form-item>
                                <nz-form-label>ISD Code</nz-form-label>
                                <nz-form-control>

                                  <nz-select formControlName="isdCodeTelephone" nzShowSearch nzAllowClear>
                                    <nz-option *ngFor="let item of CountrycodeArray" [nzLabel]="item.CODE"
                                      [nzValue]="item.CODE">
                                    </nz-option>
                                  </nz-select>
                                </nz-form-control>

                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="3">
                              <nz-form-item>
                                <nz-form-label>STD Code</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="stdCodetelephone"
                                    [textMask]="{mask: inputMasks.numeric}" maxlength="4" />
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Telephone Number
                                </nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeTelephoneNumber"
                                    [textMask]="{mask: inputMasks.numeric}" nz-input type="text" maxlength="16">
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Email ID</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeEmailID" maxlength="254" nz-input type="text"
                                    [textMask]="{mask: inputMasks.email}">
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="2">
                              <nz-form-item>
                                <nz-form-label class="required">% of Share</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="sharePercentage" nz-input type="text"
                                    [textMask]="{mask: inputMasks.numeric}" maxlength="3" max="100">
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col nzMd="4">
                              <nz-form-item>
                                <nz-form-label>Identification Details</nz-form-label>
                                <nz-form-control>
                                  <nz-select formControlName="nomineeNomineeIdentificaitonDetails"
                                    [class.disabled]="disableFld" (ngModelChange)="SetProofFields('N1',$event)">
                                    <nz-option *ngFor="let data of  nomineeIdentificationArray" [nzValue]="data.Code"
                                      [nzLabel]="data.Item"></nz-option>
                                  </nz-select>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div *ngIf="Nominee1Fields.length>0">
                              <div nz-col nzMd="6" *ngFor="let item of Nominee1Fields;let i = index">
                                <nz-form-item>
                                  <nz-form-label>{{item.label}} </nz-form-label>
                                  <!-- {{item | json}} -->
                                  <nz-form-control>
                                    <input nz-input [(ngModel)]="item['nomineeproof1'+i]"
                                      [ngModelOptions]="{standalone: true}" *ngIf="item.type=='Text'" required
                                      [disabled]="disableFld"
                                      (keypress)="item.Code=='34'?ValidatePanfinancial($event):item.Code=='10'?setlength('N1',$event):item.Code=='07'?ValidateId($event):charrestrictfinancial($event)"
                                      (ngModelChange)="Setdemat($event,item,i)" />
                                    <nz-date-picker [(ngModel)]="item['nomineeproof1'+i]"
                                      [ngModelOptions]="{standalone: true}"
                                      [nzDisabledDate]="item.label=='DOI'?disabledFutureDate:item.label=='Expiry Date'?disabledPastDate:false"
                                      *ngIf="item.type=='Date'" required [disabled]="disableFld">
                                    </nz-date-picker>
                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                            </div>

                            <div *ngIf="showbutton1">
                              <div nz-col nzMd="2">
                                <nz-form-item>
                                  <nz-form-label>&nbsp;</nz-form-label>
                                  <nz-form-control>
                                    <button nz-button nzType="primary" (click)="verify('N1')"> Verify</button>

                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                            </div>

                            <div *ngIf="showtext1">
                              <div nz-col nzMd="4">
                                <nz-form-item>
                                  <nz-form-label> Holder Name
                                    <nz-form-control>
                                      <input [(ngModel)]="holdername1" [ngModelOptions]="{standalone: true}"
                                        name="hname" nz-input type="text">
                                    </nz-form-control>
                                  </nz-form-label>

                                </nz-form-item>
                              </div>
                            </div>

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>
                                  DOB (in case of minor)
                                </nz-form-label>
                                <nz-form-control>
                                  <nz-date-picker formControlName="nomineeDOB" [nzDisabledTime]="true"
                                    (ngModelChange)="CheckMinor('First',$event)" [nzDisabledDate]="disabledFutureDate">
                                  </nz-date-picker>
                                </nz-form-control>
                              </nz-form-item>
                            </div>




                          </nz-card>
                        </div>
                      </div>

                      <div nz-col nzMd="24" *ngIf="gardian1" style="margin-top: 10px;">
                        <nz-card nzTitle="Minor Nominee Guardian Details ">
                          <div nz-row nzGutter="5" style="margin-top: 10px; margin-bottom: 10px;">
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Title</nz-form-label>
                                <nz-form-control>
                                  <nz-select formControlName="guardianTitle" [class.disabled]="disableFld">
                                    <nz-option nzValue="Mr" nzLabel="Mr"></nz-option>
                                    <nz-option nzValue="Mrs" nzLabel="Mrs"></nz-option>
                                    <nz-option nzValue="Ms" nzLabel="Ms"></nz-option>

                                  </nz-select>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> First Name</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianFirstName" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="30" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Middle Name </nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianMiddleName" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="15" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Last Name</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianLastName" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="45" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Relationship</nz-form-label>
                                <nz-form-control>
                                  <nz-select formControlName="guardianRelationshipofGuardian"
                                    [class.disabled]="disableFld">
                                    <nz-option *ngFor="let item of  nomineeRelationArray" [nzValue]="item.Relation"
                                      [nzLabel]="item.Relation"></nz-option>


                                  </nz-select>
                                </nz-form-control>
                              </nz-form-item>

                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> Address 1</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianHouseName" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="36" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label> Address 2</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianHouseNumber" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="36" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Address 3</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianStreet" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="150" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Pin </nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianPin" [textMask]="{mask: inputMasks.numeric}"
                                    (ngModelChange)="getPinDataNominee($event,'firstGuardian')" maxlength="6"
                                    minlength="6" nz-input type="text">
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> City</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianCity" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="36" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">

                              <nz-form-item>
                                <nz-form-label class="required">State </nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianState" nz-input type="text" readonly class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> Country</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianCountry" maxlength="80" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Telephone Number </nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianTelephoneNumber"
                                    [textMask]="{mask: inputMasks.numeric}" nz-input type="text" maxlength="16">
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Mobile</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianMobile" [textMask]="{mask: inputMasks.numeric}"
                                    maxlength="16" minlength="5" nz-input type="text">
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label> Email ID</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianEmailID" maxlength="254" nz-input type="text"
                                    [textMask]="{mask: inputMasks.email}">
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Identification Details</nz-form-label>
                                <nz-form-control>
                                  <nz-select formControlName="guardianIdentificaitonDetails"
                                    [class.disabled]="disableFld" (ngModelChange)="SetProofFields('G1',$event)">
                                    <nz-option *ngFor="let data of  nomineeIdentificationArray" [nzValue]="data.Code"
                                      [nzLabel]="data.Item"></nz-option>

                                  </nz-select>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div *ngIf="Gardian1Fields.length>0">
                              <div nz-col nzMd="6" *ngFor="let item of Gardian1Fields;let i = index">
                                <!-- {{item | json}} -->
                                <nz-form-item>
                                  <nz-form-label>{{item.label}}</nz-form-label>
                                  <nz-form-control>
                                    <input nz-input [(ngModel)]="item['guardianproof1'+i]"
                                      [ngModelOptions]="{standalone: true}" *ngIf="item.type=='Text'" required
                                      [disabled]="disableFld"
                                      (keypress)="item.Code=='34'?ValidatePanfinancial($event):item.Code=='10'?setlength('G1',$event):item.Code=='07'?ValidateId($event):charrestrictfinancial($event)"
                                      (ngModelChange)="Setdemat($event,item,i)" />
                                    <nz-date-picker [(ngModel)]="item['guardianproof1'+i]"
                                      [ngModelOptions]="{standalone: true}"
                                      [nzDisabledDate]="item.label=='DOI'?disabledFutureDate:item.label=='Expiry Date'?disabledPastDate:false"
                                      *ngIf="item.type=='Date'" required [disabled]="disableFld">
                                    </nz-date-picker>
                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                            </div>
                            <div *ngIf="showbutton2">
                              <div nz-col nzMd="2">
                                <nz-form-item>
                                  <nz-form-label>&nbsp;</nz-form-label>
                                  <nz-form-control>
                                    <button nz-button nzType="primary" (click)="verify('G1')"> Verify</button>

                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                            </div>

                            <div *ngIf="showtext2">
                              <div nz-col nzMd="4">
                                <nz-form-item>
                                  <nz-form-label> Holder Name
                                    <nz-form-control>
                                      <input [(ngModel)]="holdername2" [ngModelOptions]="{standalone: true}"
                                        name="hname" nz-input type="text">
                                    </nz-form-control>
                                  </nz-form-label>

                                </nz-form-item>
                              </div>
                            </div>

                          </div>
                        </nz-card>
                      </div>

                    </div>
                  </nz-tab>
                  <nz-tab [nzTitle]="'Second Nominee Details'" [nzDisabled]="dsNominee2">
                    <div nz-row nzGutter="10" formGroupName="SecondNomineeDetails"
                      [class.disableCards1]="(fromReportPoolPage || CurrentStatus =='P' || final) && !rejectEditeEnable">
                      <div nz-col nzMd="24">
                        <div nz-row nzGutter="5">
                          <nz-card nzTitle="Nominee Details">

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Title</nz-form-label>
                                <nz-form-control>
                                  <nz-select formControlName="nomineeTitle" [class.disabled]="disableFld">
                                    <nz-option nzValue="Mr" nzLabel="Mr"></nz-option>
                                    <nz-option nzValue="Mrs" nzLabel="Mrs"></nz-option>
                                    <nz-option nzValue="Ms" nzLabel="Ms"></nz-option>
                                  </nz-select>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> First Name</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="nomineeFirstName" type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="30" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Middle Name</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="nomineeMiddleName" type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="10" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label> Last Name</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="nomineeLastName" type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="45" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Relationship</nz-form-label>
                                <nz-form-control>
                                  <nz-select formControlName="nomineeRelationshipwithapplicant"
                                    [class.disabled]="disableFld">
                                    <nz-option *ngFor="let item of  nomineeRelationArray" [nzValue]="item.Relation"
                                      [nzLabel]="item.Relation"></nz-option>


                                  </nz-select>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> Address 1</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeHouseName" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="36" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label> Address 2</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeHouseNumber" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="36" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Address 3</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="nomineeStreet" type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="150" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Pin</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineePin" [textMask]="{mask: inputMasks.numeric}"
                                    maxlength="6" minlength="6"
                                    (ngModelChange)="getPinDataNominee($event,'secondNominee')" nz-input type="text">
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">City</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeCity" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="36" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> State</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeState" nz-input type="text" readonly class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Country</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeCountry" maxlength="80" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" class='upper'>

                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="2">
                              <nz-form-item>
                                <nz-form-label>ISD Code</nz-form-label>
                                <nz-form-control>
                                  <nz-select nzShowSearch nzAllowClear formControlName=isdCodeMobile
                                    (ngModelChange)="Setmobilelength('N2',$event)">
                                    <nz-option *ngFor="let item of CountrycodeArray" [nzLabel]="item.CODE"
                                      [nzValue]="item.CODE">
                                    </nz-option>
                                  </nz-select>

                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="4">
                              <nz-form-item>
                                <nz-form-label>Mobile</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeMobile" [textMask]="{mask: inputMasks.numeric}"
                                    [maxlength]="max2" [minlength]="min2" nz-input type="text">
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="3">
                              <nz-form-item>
                                <nz-form-label>ISD Code</nz-form-label>
                                <nz-form-control>

                                  <nz-select formControlName="isdCodeTelephone" nzShowSearch nzAllowClear>
                                    <nz-option *ngFor="let item of CountrycodeArray" [nzLabel]="item.CODE"
                                      [nzValue]="item.CODE">
                                    </nz-option>
                                  </nz-select>
                                </nz-form-control>

                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="3">
                              <nz-form-item>
                                <nz-form-label>STD Code</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="stdCodetelephone"
                                    [textMask]="{mask: inputMasks.numeric}" maxlength="4" />
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Telephone Number
                                </nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeTelephoneNumber"
                                    [textMask]="{mask: inputMasks.numeric}" nz-input type="text" maxlength="16">
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Email ID</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeEmailID" maxlength="254" nz-input type="text"
                                    [textMask]="{mask: inputMasks.email}">
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="2">
                              <nz-form-item>
                                <nz-form-label class="required">% of Share</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="sharePercentage" nz-input type="text"
                                    [textMask]="{mask: inputMasks.numeric}" maxlength="3" max="100">
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col nzMd="4">
                              <nz-form-item>
                                <nz-form-label>Identification Details</nz-form-label>
                                <nz-form-control>
                                  <nz-select formControlName="nomineeNomineeIdentificaitonDetails"
                                    [class.disabled]="disableFld" (ngModelChange)="SetProofFields('N2',$event)">
                                    <nz-option *ngFor="let data of  nomineeIdentificationArray" [nzValue]="data.Code"
                                      [nzLabel]="data.Item"></nz-option>

                                  </nz-select>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div *ngIf="Nominee2Fields.length>0">
                              <div nz-col nzMd="6" *ngFor="let item of Nominee2Fields;let i = index">
                                <nz-form-item>
                                  <nz-form-label>{{item.label}}</nz-form-label>
                                  <nz-form-control>
                                    <input nz-input [(ngModel)]="item['nomineeproof2'+i]"
                                      [ngModelOptions]="{standalone: true}" *ngIf="item.type=='Text'" required
                                      [disabled]="disableFld"
                                      (keypress)="item.Code=='34'?ValidatePanfinancial($event):item.Code=='10'?setlength('N2',$event):item.Code=='07'?ValidateId($event):charrestrictfinancial($event)"
                                      (ngModelChange)="Setdemat($event,item,i)" />
                                    <nz-date-picker [(ngModel)]="item['nomineeproof2'+i]"
                                      [ngModelOptions]="{standalone: true}"
                                      [nzDisabledDate]="item.label=='DOI'?disabledFutureDate:item.label=='Expiry Date'?disabledPastDate:false"
                                      *ngIf="item.type=='Date'" required [disabled]="disableFld">
                                    </nz-date-picker>

                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                            </div>
                            <div *ngIf="showbutton3">
                              <div nz-col nzMd="2">
                                <nz-form-item>
                                  <nz-form-label>&nbsp;</nz-form-label>
                                  <nz-form-control>
                                    <button nz-button nzType="primary" (click)="verify('N2')"> Verify</button>

                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                            </div>

                            <div *ngIf="showtext3">
                              <div nz-col nzMd="4">
                                <nz-form-item>
                                  <nz-form-label> Holder Name
                                    <nz-form-control>
                                      <input [(ngModel)]="holdername3" [ngModelOptions]="{standalone: true}"
                                        name="hname" nz-input type="text">
                                    </nz-form-control>
                                  </nz-form-label>

                                </nz-form-item>
                              </div>
                            </div>

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>
                                  DOB (in case of minor)
                                </nz-form-label>
                                <nz-form-control>
                                  <nz-date-picker formControlName="nomineeDOB" [nzDisabledTime]="true"
                                    (ngModelChange)="CheckMinor('Second',$event)" [nzDisabledDate]="disabledFutureDate">
                                  </nz-date-picker>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                          </nz-card>
                        </div>
                      </div>

                      <div nz-col nzMd="24" *ngIf="gardian2" style="margin-top: 10px;">
                        <nz-card nzTitle="Minor Nominee Guardian Details ">
                          <div nz-row nzGutter="5" style="padding-bottom:50px">
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Title</nz-form-label>
                                <nz-form-control>
                                  <nz-select formControlName="guardianTitle" [class.disabled]="disableFld">

                                    <nz-option nzValue="Mr" nzLabel="Mr"></nz-option>
                                    <nz-option nzValue="Mrs" nzLabel="Mrs"></nz-option>
                                    <nz-option nzValue="Ms" nzLabel="Ms"></nz-option>
                                  </nz-select>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> First Name</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianFirstName" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="30" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Middle Name </nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianMiddleName" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="15" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Last Name</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianLastName" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="45" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Relationship</nz-form-label>
                                <nz-form-control>
                                  <nz-select formControlName="guardianRelationshipofGuardian"
                                    [class.disabled]="disableFld">
                                    <nz-option *ngFor="let item of  nomineeRelationArray" [nzValue]="item.Relation"
                                      [nzLabel]="item.Relation"></nz-option>


                                  </nz-select>
                                </nz-form-control>
                              </nz-form-item>

                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> Address 1</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianHouseName" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="36" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label> Address 2</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianHouseNumber" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="36" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Address 3</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianStreet" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="150" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Pin </nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianPin" [textMask]="{mask: inputMasks.numeric}"
                                    (ngModelChange)="getPinDataNominee($event,'SecondGuardian')" maxlength="6"
                                    minlength="6" nz-input type="text">
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> City</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianCity" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="36" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">

                              <nz-form-item>
                                <nz-form-label class="required">State </nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianState" nz-input type="text" readonly class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> Country</nz-form-label>

                                <input formControlName="guardianCountry" maxlength="80" nz-input type="text"
                                  (keypress)="charrestrictfinancial($event)" class='upper'>
                              </nz-form-item>
                            </div>

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Telephone Number </nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianTelephoneNumber"
                                    [textMask]="{mask: inputMasks.numeric}" nz-input type="text" maxlength="16">
                                </nz-form-control>
                              </nz-form-item>
                            </div>



                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Mobile</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianMobile" [textMask]="{mask: inputMasks.numeric}"
                                    maxlength="16" minlength="5" nz-input type="text">
                                </nz-form-control>
                              </nz-form-item>
                            </div>



                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label> Email ID</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianEmailID" maxlength="254" nz-input type="text"
                                    [textMask]="{mask: inputMasks.email}">
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Identification Details</nz-form-label>
                                <nz-form-control>
                                  <nz-select formControlName="guardianIdentificaitonDetails"
                                    [class.disabled]="disableFld" (ngModelChange)="SetProofFields('G2',$event)">
                                    <nz-option *ngFor="let data of  nomineeIdentificationArray" [nzValue]="data.Code"
                                      [nzLabel]="data.Item"></nz-option>
                                  </nz-select>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div *ngIf="Gardian2Fields.length>0">
                              <div nz-col nzMd="6" *ngFor="let item of Gardian2Fields;let i = index">
                                <nz-form-item>
                                  <nz-form-label>{{item.label}}</nz-form-label>
                                  <nz-form-control>
                                    <input nz-input [(ngModel)]="item['guardianproof2'+i]"
                                      [ngModelOptions]="{standalone: true}" *ngIf="item.type=='Text'" required
                                      [disabled]="disableFld"
                                      (keypress)="item.Code=='34'?ValidatePanfinancial($event):item.Code=='10'?setlength('G2',$event):item.Code=='07'?ValidateId($event):charrestrictfinancial($event)"
                                      (ngModelChange)="Setdemat($event,item,i)" />
                                    <nz-date-picker [(ngModel)]="item['guardianproof2'+i]"
                                      [ngModelOptions]="{standalone: true}"
                                      [nzDisabledDate]="item.label=='DOI'?disabledFutureDate:item.label=='Expiry Date'?disabledPastDate:false"
                                      *ngIf="item.type=='Date'" required [disabled]="disableFld">
                                    </nz-date-picker>
                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                            </div>
                            <div *ngIf="showbutton4">
                              <div nz-col nzMd="2">
                                <nz-form-item>
                                  <nz-form-label>&nbsp;</nz-form-label>
                                  <nz-form-control>
                                    <button nz-button nzType="primary" (click)="verify('G2')"> Verify</button>

                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                            </div>

                            <div *ngIf="showtext4">
                              <div nz-col nzMd="4">
                                <nz-form-item>
                                  <nz-form-label> Holder Name
                                    <nz-form-control>
                                      <input [(ngModel)]="holdername4" [ngModelOptions]="{standalone: true}"
                                        name="hname" nz-input type="text">
                                    </nz-form-control>
                                  </nz-form-label>

                                </nz-form-item>
                              </div>
                            </div>

                          </div>
                        </nz-card>
                      </div>

                    </div>
                  </nz-tab>
                  <nz-tab [nzTitle]="'Third Nominee Details'" [nzDisabled]="dsNominee3">
                    <div nz-row nzGutter="10" formGroupName="ThirdNomineeDetails"
                      [class.disableCards1]="(fromReportPoolPage || CurrentStatus =='P' || final) && !rejectEditeEnable">
                      <div nz-col nzMd="24">
                        <div nz-row nzGutter="5">
                          <nz-card nzTitle="Nominee Details">

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Title</nz-form-label>
                                <nz-form-control>
                                  <nz-select formControlName="nomineeTitle" [class.disabled]="disableFld">
                                    <nz-option nzValue="Mr" nzLabel="Mr"></nz-option>
                                    <nz-option nzValue="Mrs" nzLabel="Mrs"></nz-option>
                                    <nz-option nzValue="Ms" nzLabel="Ms"></nz-option>
                                  </nz-select>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> First Name</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="nomineeFirstName" type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="30" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Middle Name</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="nomineeMiddleName" type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="15" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label> Last Name</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="nomineeLastName" type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="45" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Relationship</nz-form-label>
                                <nz-form-control>
                                  <nz-select formControlName="nomineeRelationshipwithapplicant"
                                    [class.disabled]="disableFld">
                                    <nz-option *ngFor="let item of  nomineeRelationArray" [nzValue]="item.Relation"
                                      [nzLabel]="item.Relation"></nz-option>

                                  </nz-select>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> Address 1</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeHouseName" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="36" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label> Address 2</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeHouseNumber" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="36" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Address 3</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="nomineeStreet" type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="150" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Pin</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineePin" [textMask]="{mask: inputMasks.numeric}"
                                    maxlength="6" minlength="6"
                                    (ngModelChange)="getPinDataNominee($event,'ThirdNominee')" nz-input type="text">
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">City</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeCity" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="36" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> State</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeState" nz-input type="text" readonly class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Country</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeCountry" maxlength="80" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" class='upper'>

                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="2">
                              <nz-form-item>
                                <nz-form-label>ISD Code</nz-form-label>
                                <nz-form-control>
                                  <nz-select nzShowSearch nzAllowClear formControlName=isdCodeMobile
                                    (ngModelChange)="Setmobilelength('N3',$event)">
                                    <nz-option *ngFor="let item of CountrycodeArray" [nzLabel]="item.CODE"
                                      [nzValue]="item.CODE">
                                    </nz-option>
                                  </nz-select>

                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="4">
                              <nz-form-item>
                                <nz-form-label>Mobile</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeMobile" [textMask]="{mask: inputMasks.numeric}"
                                    [maxlength]="max3" [minlength]="min3" nz-input type="text">
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="3">
                              <nz-form-item>
                                <nz-form-label>ISD Code</nz-form-label>
                                <nz-form-control>

                                  <nz-select formControlName="isdCodeTelephone" nzShowSearch nzAllowClear>
                                    <nz-option *ngFor="let item of CountrycodeArray" [nzLabel]="item.CODE"
                                      [nzValue]="item.CODE">
                                    </nz-option>
                                  </nz-select>
                                </nz-form-control>

                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="3">
                              <nz-form-item>
                                <nz-form-label>STD Code</nz-form-label>
                                <nz-form-control>
                                  <input nz-input formControlName="stdCodetelephone"
                                    [textMask]="{mask: inputMasks.numeric}" maxlength="4" />
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Telephone Number
                                </nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeTelephoneNumber"
                                    [textMask]="{mask: inputMasks.numeric}" nz-input type="text" maxlength="16">
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Email ID</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="nomineeEmailID" maxlength="254" nz-input type="text"
                                    [textMask]="{mask: inputMasks.email}">
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="2">
                              <nz-form-item>
                                <nz-form-label class="required">% of Share</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="sharePercentage" nz-input type="text"
                                    [textMask]="{mask: inputMasks.numeric}" maxlength="3" max="100">
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                            <div nz-col nzMd="4">
                              <nz-form-item>
                                <nz-form-label>Identification Details</nz-form-label>
                                <nz-form-control>
                                  <nz-select formControlName="nomineeNomineeIdentificaitonDetails"
                                    [class.disabled]="disableFld" (ngModelChange)="SetProofFields('N3',$event)">
                                    <nz-option *ngFor="let data of  nomineeIdentificationArray" [nzValue]="data.Code"
                                      [nzLabel]="data.Item"></nz-option>


                                  </nz-select>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div *ngIf="Nominee3Fields.length>0">
                              <div nz-col nzMd="6" *ngFor="let item of Nominee3Fields;let i = index">
                                <nz-form-item>
                                  <nz-form-label>{{item.label}}</nz-form-label>
                                  <nz-form-control>
                                    <input nz-input [(ngModel)]="item['nomineeproof3'+i]"
                                      [ngModelOptions]="{standalone: true}" *ngIf="item.type=='Text'" required
                                      [disabled]="disableFld"
                                      (keypress)="item.Code=='34'?ValidatePanfinancial($event):item.Code=='10'?setlength('N3',$event):item.Code=='07'?ValidateId($event):charrestrictfinancial($event)"
                                      (ngModelChange)="Setdemat($event,item,i)" />
                                    <nz-date-picker [(ngModel)]="item['nomineeproof3'+i]"
                                      [ngModelOptions]="{standalone: true}"
                                      [nzDisabledDate]="item.label=='DOI'?disabledFutureDate:item.label=='Expiry Date'?disabledPastDate:false"
                                      *ngIf="item.type=='Date'" required [disabled]="disableFld">
                                    </nz-date-picker>
                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                            </div>
                            <div *ngIf="showbutton5">
                              <div nz-col nzMd="2">
                                <nz-form-item>
                                  <nz-form-label>&nbsp;</nz-form-label>
                                  <nz-form-control>
                                    <button nz-button nzType="primary" (click)="verify('N3')"> Verify</button>

                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                            </div>

                            <div *ngIf="showtext5">
                              <div nz-col nzMd="4">
                                <nz-form-item>
                                  <nz-form-label> Holder Name
                                    <nz-form-control>
                                      <input [(ngModel)]="holdername5" [ngModelOptions]="{standalone: true}"
                                        name="hname" nz-input type="text">
                                    </nz-form-control>
                                  </nz-form-label>

                                </nz-form-item>
                              </div>
                            </div>

                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>
                                  DOB (in case of minor)
                                </nz-form-label>
                                <nz-form-control>
                                  <nz-date-picker formControlName="nomineeDOB" [nzDisabledTime]="true"
                                    (ngModelChange)="CheckMinor('Third',$event)" [nzDisabledDate]="disabledFutureDate">
                                  </nz-date-picker>
                                </nz-form-control>
                              </nz-form-item>
                            </div>

                          </nz-card>
                        </div>
                      </div>
                      <div nz-col nzMd="24" *ngIf="gardian3" style="margin-top: 10px;">
                        <nz-card nzTitle="Minor Nominee Guardian Details ">
                          <div nz-row nzGutter="5" style="padding-bottom:50px">
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Title</nz-form-label>
                                <nz-form-control>
                                  <nz-select formControlName="guardianTitle" [class.disabled]="disableFld">

                                    <nz-option nzValue="Mr" nzLabel="Mr"></nz-option>
                                    <nz-option nzValue="Mrs" nzLabel="Mrs"></nz-option>
                                    <nz-option nzValue="Ms" nzLabel="Ms"></nz-option>
                                  </nz-select>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> First Name</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianFirstName" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="30" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Middle Name </nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianMiddleName" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="15" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Last Name</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianLastName" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="45" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Relationship</nz-form-label>
                                <nz-form-control>
                                  <nz-select formControlName="guardianRelationshipofGuardian"
                                    [class.disabled]="disableFld">
                                    <nz-option *ngFor="let item of  nomineeRelationArray" [nzValue]="item.Relation"
                                      [nzLabel]="item.Relation"></nz-option>

                                  </nz-select>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> Address 1</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianHouseName" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="36" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label> Address 2</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianHouseNumber" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="36" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Address 3</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianStreet" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="150" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">Pin </nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianPin" [textMask]="{mask: inputMasks.numeric}"
                                    (ngModelChange)="getPinDataNominee($event,'ThirdGuardian')" maxlength="6"
                                    minlength="6" nz-input type="text" [class.disabled]="disableFld">
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> City</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianCity" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" maxlength="36" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required">State </nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianState" nz-input type="text" readonly class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label class="required"> Country</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianCountry" maxlength="80" nz-input type="text"
                                    (keypress)="charrestrictfinancial($event)" class='upper'>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Telephone Number </nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianTelephoneNumber"
                                    [textMask]="{mask: inputMasks.numeric}" nz-input type="text" maxlength="16">
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Mobile</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianMobile" [textMask]="{mask: inputMasks.numeric}"
                                    nz-input type="text" minlength="5" maxlength="16">
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label> Email ID</nz-form-label>
                                <nz-form-control>
                                  <input formControlName="guardianEmailID" maxlength="254" nz-input type="text"
                                    [textMask]="{mask: inputMasks.email}">
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div nz-col nzMd="6">
                              <nz-form-item>
                                <nz-form-label>Identification Details</nz-form-label>
                                <nz-form-control>
                                  <nz-select formControlName="guardianIdentificaitonDetails"
                                    [class.disabled]="disableFld" (ngModelChange)="SetProofFields('G3',$event)">
                                    <nz-option *ngFor="let data of  nomineeIdentificationArray" [nzValue]="data.Code"
                                      [nzLabel]="data.Item"></nz-option>

                                  </nz-select>
                                </nz-form-control>
                              </nz-form-item>
                            </div>
                            <div *ngIf="Gardian3Fields.length>0">
                              <div nz-col nzMd="6" *ngFor="let item of Gardian3Fields;let i = index">
                                <nz-form-item>
                                  <nz-form-label>{{item.label}}</nz-form-label>
                                  <nz-form-control>
                                    <input nz-input [(ngModel)]="item['guardianproof3'+i]"
                                      [ngModelOptions]="{standalone: true}" *ngIf="item.type=='Text'" required
                                      [disabled]="disableFld"
                                      (keypress)="item.Code=='34'?ValidatePanfinancial($event):item.Code=='10'?setlength('G3',$event):item.Code=='07'?ValidateId($event):charrestrictfinancial($event)"
                                      (ngModelChange)="Setdemat($event,item,i)" />
                                    <nz-date-picker [(ngModel)]="item['guardianproof3'+i]"
                                      [ngModelOptions]="{standalone: true}"
                                      [nzDisabledDate]="item.label=='DOI'?disabledFutureDate:item.label=='Expiry Date'?disabledPastDate:false"
                                      *ngIf="item.type=='Date'" required [disabled]="disableFld">
                                    </nz-date-picker>
                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                            </div>

                            <div *ngIf="showbutton6">
                              <div nz-col nzMd="2">
                                <nz-form-item>
                                  <nz-form-label>&nbsp;</nz-form-label>
                                  <nz-form-control>
                                    <button nz-button nzType="primary" (click)="verify('G3')"> Verify</button>

                                  </nz-form-control>
                                </nz-form-item>
                              </div>
                            </div>

                            <div *ngIf="showtext6">
                              <div nz-col nzMd="4">
                                <nz-form-item>
                                  <nz-form-label> Holder Name
                                    <nz-form-control>
                                      <input [(ngModel)]="holdername6" [ngModelOptions]="{standalone: true}"
                                        name="hname" nz-input type="text">
                                    </nz-form-control>
                                  </nz-form-label>

                                </nz-form-item>
                              </div>
                            </div>
                          </div>
                        </nz-card>
                      </div>
                    </div>
                  </nz-tab>

                </nz-tabset>
                <!-- <div *ngIf="nomineetab=='Nominee'" style="margin-top: 10px; margin-bottom: 10px;">
                <crf-image-upload></crf-image-upload>
              </div> -->
                <!-- <div nz-row nzGutter="5" formGroupName="Rejection">
    <div nz-col nzMd="15">
      <div nz-col nzSpan="5">{{Remks}}</div>
      <div nz-col nzSpan="19">
        <nz-form-item>
          <nz-form-control>
            <input nz-input formControlName="RejRemarks" [disabled]="applicationStatus!='P'&&!HO"
              [nzAutocomplete]="remarks2" />
            <nz-autocomplete #remarks2>
              <nz-auto-option *ngFor="let option of rejectionRemarks" [nzValue]="option.Remarks"
                [nzLabel]="option.Remarks" class="aleternateColor">
                <span [innerHTML]="option.Remarks"></span>
              </nz-auto-option>
            </nz-autocomplete>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <div nz-col nzMd="9">
      <p class="text-right" *ngIf="nomineetab=='Nominee'">
        <button nz-button nzType="primary" type="button" (click)="onBackClick()">Back</button>
        <button nz-button nzType="primary" type="submit" (click)="SaveNominee('save')"
          *ngIf="saveButtonFlag&&applicationStatus!='T'">Save</button>
        <button nz-button nzType="primary" type="submit" (click)="SaveNominee('savefinalise')"
          *ngIf="saveButtonFlag&&applicationStatus=='T'">Save and Finalize</button>
        <button nz-button nzType="primary" type="button" (click)="BranchReject()"
          *ngIf="saveButtonFlag&&applicationStatus=='T'&&!HO">Branch Reject</button>
        <button nz-button nzType="primary" type="button"
          *ngIf="approveOrRejectButtonFlag || finalApproveOrRejectButtonFlag" (click)="Reject()">Reject</button>
        <button nz-button nzType="primary" type="button" *ngIf="approveOrRejectButtonFlag && editFlag"
          (click)="initialApprove()">First level Approve</button>
        <button nz-button nzType="primary" class="btnApprove1" type="button"
          *ngIf="finalApproveOrRejectButtonFlag ||  (approveOrRejectButtonFlag && !editFlag)" (click)="Approve()">Final
          Approve</button>
        <button nz-button nzType="primary" style="float: right;" type="button"
          *ngIf="requestID!=''&&!(approveOrRejectButtonFlag ||finalApproveOrRejectButtonFlag) "
          (click)="PrintForm()">Print {{tab}} Form</button>
      </p>
    </div>
    <div nz-col nzMd="15"
      *ngIf="(applicationStatus=='P'||applicationStatus=='A'||applicationStatus=='R'||applicationStatus=='F')&&  !editFlag">
      <div nz-col nzSpan="5">Approval Remarks</div>
      <div nz-col nzSpan="19">
        <nz-form-item>
          <nz-form-control>
            <input nz-input formControlName="AppRemarks" [disabled]="applicationStatus!='P'&&!HO"
              [nzAutocomplete]="remarks1" />
            <nz-autocomplete #remarks1>
              <nz-auto-option *ngFor="let option of approvelRemarks" [nzValue]="option.Remarks"
                [nzLabel]="option.Remarks" class="aleternateColor">
                <span [innerHTML]="option.Remarks"></span>
              </nz-auto-option>
            </nz-autocomplete>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
  </div> -->
              </form>
            </div>
            <!-- Production  [class.disableCards1]="(fromReportPoolPage || final ) && !rejectEditeEnable" -->
            <nz-card [nzTitle]="Applicationdeclaration" [class.disableCards1]="true">
              <ng-template #Applicationdeclaration>
                <label nz-checkbox [(ngModel)]="TradeCodeTransfer" [ngModelOptions]="{standalone: true}"></label>
                &nbsp;&nbsp;
                <span>
                  Trade Code Transfer
                </span>
              </ng-template>

              <!-- <div nz-row nzGutter="10" class="topmargin2rem">

                <div nz-col nzLg="12" nzMd="12" >
                  <div nz-row nzLg="12" nzMd="12" > -->
              <div nz-row nzGutter="24" *ngIf="TradeCodeTransfer">
                <div nz-col nzMd="12" [class.disableCards1]="true">
                  <nz-form-item>
                    <nz-form-label class="required">From Location</nz-form-label>
                    <nz-form-control>
                      <input nz-input [(ngModel)]="FromLocationField" (keypress)="charrestrict($event)" />
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <div nz-col nzMd="12">
                  <nz-form-item>
                    <nz-form-label class="required">To Location</nz-form-label>
                    <!-- style="padding-top: 1%;" -->
                    <nz-form-control style="padding-top:5px ;">
                      <!-- {{model.ToLocationField}} -->
                      <!-- <lib-master-nonautofind *ngIf="!fromReportPoolPage" style="padding-top: 0.3 rem;" [options]="panFindOption" [(ngModel)]="model.ToLocationField" [ngModelOptions]="{standalone: true}" name="ToLocationField"
                            (ngModelChange)="onviewClick($event)"  #client id="findclient">
                            </lib-master-nonautofind> -->

                      <!-- <input *ngIf="fromReportPoolPage" nz-input [(ngModel)]="ToLocationField" (keypress)="charrestrict($event)" /> -->
                      <!-- (ngModelChange)="frombankLocationChange($event)" -->
                      <master-find-ctrl [options]="locationFindopt"  [(ngModel)]="ToLocationField" name="tolocation">
                      </master-find-ctrl>
                    </nz-form-control>
                  </nz-form-item>

                </div>
              </div>
              <!-- </div> -->
              <!-- <span>
                  From and To location field
                </span>
                &nbsp;&nbsp;
                <label nz-checkbox [(ngModel)]="FromLocationField" [ngModelOptions]="{standalone: true}"></label> -->
              <!-- <div nz-row>
                      <div nz-col class="w-30">
                      </div>
                      <div nz-col class="pl-1">
                      </div>
                    </div> -->
              <!-- </div> -->
              <!-- </div> -->
            </nz-card>
            <!-- *ngIf="nomineeformenable " -->
            <!-- <div  nz-row>
              <div nz-col nzLg="3" nzMd="6" class="commonsave">
                <button nz-button nzType="primary" (click)="savecommon(form_nominee,'nominee')">SAVE</button>
              </div>
            </div> -->
            <!-- *ngIf="nomineeformenable" -->
            <br>
            <!-- nominee details form end -->

            <!-- upload form start -->
            <!-- *ngIf="uploadformenable"  -->
            <!-- [class.disableCards1]="!editFlag" -->
            <!-- <form id="signature" *ngIf="fromReportPoolPage" nz-form [formGroup]="form_nominee" nzLayout="vertical">
              <nz-card style="margin-bottom: 20px;">
                <div nz-row nzGutter="5">
                  <div *ngIf="!signaturefilePreiewVisible" nz-col nzMd="5">
                    <button nz-button nzType="primary" (click)="ShowSignature()">ShowSignature</button>
                  </div>
                  <div nz-col nzMd="12">
                    <img *ngIf="signaturefilePreiewVisible" [src]="Signatureimagepreview" width="40%" height="auto"
                      [title]="'Signature'" class="rounded mb-3" style="margin-top: 5px;">
                  </div>
                  <div nz-col nzMd="7">
                    <button *ngIf="signaturefilePreiewVisible" nz-button nzType="primary"
                      (click)="imageclose()">Close</button>
                  </div>
                </div>
              </nz-card>
            </form>
            <br> -->
            <div nz-row nzMd="24">
              <div nz-col nzMd="12" style="margin-top: 20px;">
                <nz-card [nzTitle]="titlecontact2">
                  <ng-template #titlecontact2>
                    <i nz-icon nzType="solution" nzTheme="outline" class="icon text-warning"></i>&nbsp;&nbsp;IPV / KYC
                    Details
                  </ng-template>
                  <!-- [class.disableCards]="!(applicationStatus!='')" -->
                  <!-- {{"(!saveButtonFlag: "+!saveButtonFlag}} {{"|| !editFlag:"+!editFlag}} {{"&& CurrentStatus !==P :"+(CurrentStatus !=='P')}}{{")|| CurrentStatus ==Z :"+(CurrentStatus =='Z')}} -->
                  <form nz-form [formGroup]="form_ipv"

                    [class.disableCards1]="(!saveButtonFlag || !editFlag && CurrentStatus !=='P') || CurrentStatus =='Z'"
                    nzLayout="vertical">

                    <div nz-row nzGutter="5">
                      <div nz-col nzMd="8">
                        <nz-form-item>
                          <nz-form-label class="required">Emp Code</nz-form-label>
                          <nz-form-control>
                            <input nz-input formControlName="empCode" maxlength="7"
                              (ngModelChange)="getEmpDetails($event)" (keypress)="charrestrictipv($event)" />
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div nz-col nzMd="16">
                        <nz-form-item>
                          <nz-form-label class="required">Emp Name</nz-form-label>
                          <nz-form-control>
                            <input nz-input formControlName="empName" readonly />
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div nz-col nzMd="8">
                        <nz-form-item>
                          <nz-form-label class="required">Emp Branch</nz-form-label>
                          <nz-form-control>
                            <input nz-input formControlName="empBranch" readonly />
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div nz-col nzMd="16">
                        <nz-form-item>
                          <nz-form-label class="required">Emp Designation</nz-form-label>
                          <nz-form-control>
                            <input nz-input formControlName="empDesingation" readonly />
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div nz-col nzMd="8">
                        <nz-form-item>
                          <nz-form-label class="required">Date</nz-form-label>
                          <nz-form-control>
                            <!-- <input type="date"  formControlName="date" class=date name="bfgfday"> -->
                            <nz-date-picker [nzDisabledDate]="disabledFutureDate" nzPlaceHolder="YYYY-MM-DD"
                              formControlName="date">
                            </nz-date-picker>
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                    </div>

                  </form>
                </nz-card>
              </div>
              <!-- [class.disableCards]="!(applicationStatus!='')" -->
              <div nz-col nzMd="12" style="margin-top: 20px;padding-left: 1rem"
              [class.disableCards1]="(!saveButtonFlag || !editFlag && CurrentStatus !=='P') || CurrentStatus =='Z'">
                <nz-card [nzTitle]="titlecontact3" style="height: 15rem;">
                  <ng-template #titlecontact3>
                    <i nz-icon nzType="solution" nzTheme="outline" class="icon text-warning"></i>&nbsp;&nbsp;Applicant
                    declaration
                  </ng-template>
                  <form nz-form [formGroup]="form_ipv" [class.disableCards1]="(fromReportPoolPage || final) && !rejectEditeEnableAfterSave && CurrentStatus !=='P'"
                    nzLayout="vertical">
                    <div nz-row nzGutter="5" style='padding-left: 7%'>
                      <div nz-col nzMd="24">
                        <nz-form-item>
                          <nz-form-label>&nbsp;</nz-form-label>
                          <nz-form-label>Applicant declaration:</nz-form-label>
                        </nz-form-item>
                      </div>
                      <div nz-col nzMd="8">
                        <nz-form-item>
                          <nz-form-label class="required">Date</nz-form-label>
                          <nz-form-control>
                            <nz-date-picker nzPlaceHolder="YYYY-MM-DD" formControlName="dateOfDeclaration"
                              [nzDisabledDate]="disabledFutureDate"></nz-date-picker>

                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div nz-col nzMd="16">
                        <nz-form-item>
                          <nz-form-label class="required">Place</nz-form-label>
                          <nz-form-control>
                            <input nz-input formControlName="placeOfDeclaration" (keypress)="charrestrict($event)" />
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                    </div>
                  </form>
                </nz-card>
              </div>
            </div>
            <br>
            <form id="upload" nz-form [formGroup]="form_upload" nzLayout="vertical">
              <nz-card [nzTitle]="titleupload2">
                <ng-template #titleupload2>
                  <i nz-icon nzType="upload" nzTheme="outline"
                    class="icon text-primary"></i>&nbsp;&nbsp;Proof/Application Form
                </ng-template>
                <!-- && CurrentStatus !=='Z' -->
                <!-- [class.disableCards1]="(!saveButtonFlag || !editFlag ) " -->
                <div style="padding:10px 20px;">
                  <form nz-form nzLayout="vertical">
                    <div nz-row nzGutter="10">
                      <div nz-col nzMd="24" *ngIf="saveButtonFlag">
                        <nz-form-item>
                          <nz-form-control>
                            <p style="color: red;"> Document updation only allowed after saving the entry. </p>
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div nz-col nzMd="10">
                        <nz-form-item>
                          <nz-form-label class="required">Select Proof/Application Form
                          </nz-form-label>
                          <nz-form-control>
                            <nz-select *ngIf="Type3disable" [(ngModel)]="ImgTypeData" name="Img"
                              [disabled]="(!saveButtonFlag || !editFlag && CurrentStatus !=='P') || CurrentStatus =='Z'">
                              <nz-option *ngFor="let data of type1ortyp2proofofuploadlist " [nzValue]="data.Document"
                                [nzLabel]="data.Document">
                              </nz-option>
                            </nz-select>
                            <!-- <nz-select [(ngModel)]="ImgTypeData" name="Img"
                            [disabled]="saveButtonFlag&&applicationStatus!='T'">
                            <nz-option *ngFor="let data of ImgTypeDatalist" [nzValue]="data.Document"
                              [nzLabel]="data.Document">
                            </nz-option>
                          </nz-select> -->
                            <nz-select *ngIf="!Type3disable" [(ngModel)]="ImgTypeData" name="Img"
                              [disabled]="(!saveButtonFlag || !editFlag && CurrentStatus !=='P')|| CurrentStatus =='Z'">
                              <nz-option *ngFor="let data of type3proofofuploadlist" [nzValue]="data.Document"
                                [nzLabel]="data.Document">
                              </nz-option>
                            </nz-select>
                            <!-- *ngIf="!Type3disable" type3proofofuploadlist -->
                            <!-- *ngIf="!Type1disable || !Type2disable" type1ortyp2proofofuploadlist -->

                          </nz-form-control>
                        </nz-form-item>

                      </div>
                      <div nz-col nzMd="8">
                        <nz-form-item>
                          <nz-form-label class="required">Upload Documents </nz-form-label>
                          <nz-form-control>
                            <nz-upload nzAction="https://jsonplaceholder.typicode.com/posts/"
                              [nzBeforeUpload]="beforeUpload" [(nzFileList)]="fileList">
                              <button nz-button [disabled]="ImgTypeData==null"><i nz-icon type="upload"></i><span>Select
                                  File</span></button>
                            </nz-upload>

                          </nz-form-control>
                        </nz-form-item>
                      </div>
                    </div>
                  </form>
                  <br>
                </div>
                <div nz-row nzGutter="10">
                  <div nz-col nzMd="4">
                  </div>
                  <div nz-col nzMd="16" *ngIf="SupportFiles.length"
                    style="max-height: 400px;  overflow: scroll;padding-bottom: 20px;">
                    <table class="tranTbl"
                      style="width: 100%;border:1px solid rgb(233, 233, 233);border-radius: 5px;margin-top: -2px;">
                      <thead *ngIf="!ho">

                        <tr>
                          <th>Document Name</th>
                          <th class="w-25"></th>

                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let data of SupportFiles;let i=index">
                          <td>{{data.DocName}}</td>

                          <td class="text-right"><button nz-button nzType="primary" (click)="showModal(data)"
                              title="Preview"><i nz-icon type="eye"></i></button>
                            <button nz-button style="background:red;color: white;" title="Delete" (click)="Deleterow(i)"
                              *ngIf="((saveButtonFlag || editFlag) && !fromReportPoolPage && !final) || CurrentStatus =='P'"><i
                                nz-icon type="delete"></i></button>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div nz-col nzMd="4">
                  </div>
                </div>
              </nz-card>
            </form>

            <!-- <div class="fixedElement" *ngIf="SupportFiles?.length>0">
              <div nz-row nzGutter="5">
                <div nz-col nzMd="4"><b>Proofs/Application Form</b></div>
                <div nz-col nzMd="20">
                  <div nz-row nzGutter="5">
                    <div nz-col nzMd="6" *ngFor="let data of SupportFiles;let i=index"> <a href="#"
                        (click)="showModal(data)">{{data.DocName}}</a></div>
                  </div>
                </div>
              </div>
            </div> -->
            <crf-app-image-preview *ngIf="filePreiewVisible" [imageData]="filePreiewContent" [source]="fileSourceName">
            </crf-app-image-preview>
            <!-- upload form end -->
            <!-- *ngIf="uploadformenable" -->
            <div *ngIf="!final" class="float-right m-2" nz-row nzJustify="space-between">
              <!-- <div  nzJustify="space-between" nzLg="6" nzMd="12" class="commonsave"> -->
              <!-- *ngIf="requestID!=''&&!(approveOrRejectButtonFlag ||finalApproveOrRejectButtonFlag) " -->

              <!-- !fromReportPoolPage && printallbuttonenable -->
              <button
                *ngIf="CurrentStatus !=='A' && CurrentStatus !=='R' && CurrentStatus !=='I' && CurrentStatus !=='Z'"
                nz-button nzType="primary" type="button" (click)="Printbutton()">Print All</button>&nbsp;&nbsp;
              <button *ngIf="fromReportPoolPage && CurrentStatus !=='A' && CurrentStatus !=='R'&& CurrentStatus !=='P'"
                nz-col nz-button nzType="primary" (click)="Approve()">
                First Level Verification</button>&nbsp;&nbsp;
              <button *ngIf="(!fromReportPoolPage && savebuttonenable && ioru == 'I' && !SaveandFinalizebuttonenable) || rejectEditeEnable"
                nz-col nz-button nzType="primary" (click)="save('save')">
                Save</button>&nbsp;&nbsp;
              <!-- <button *ngIf="!fromReportPoolPage && savebuttonenable && ioru == 'U'" nz-col nz-button nzType="primary" (click)="save('U')">
                  Save</button>&nbsp;&nbsp; -->
              <!-- <button nz-col nz-button nzType="primary" (click)="saveAll('doc')">
                    SaveDoc</button>&nbsp;&nbsp; -->
              <!-- *ngIf="backbuttonenable && CurrentStatus !=='A' && CurrentStatus !=='R'&& CurrentStatus !=='P'" -->
              <button nz-col nz-button nzType="primary" type="button" (click)="back()">
                Back </button>&nbsp;&nbsp;
              <!-- <button nz-col nz-button nzType="primary" type="submit" (click)="SaveKYC('save')"
                  *ngIf="saveButtonFlag&&applicationStatus!='T'">
                  Save</button>&nbsp;&nbsp; -->
              <!-- *ngIf="saveButtonFlag&&applicationStatus=='T'" -->
              <!-- (click)="SaveKYC('doc')" -->
              <!-- (click)="Reject()" *ngIf="approveOrRejectButtonFlag || finalApproveOrRejectButtonFlag" -->
              <button
                *ngIf="(fromReportPoolPage && CurrentStatus !=='A' && CurrentStatus !=='R'&& CurrentStatus !=='P') || (CurrentStatus !=='A' && CurrentStatus !=='R' && CurrentStatus !=='I' && CurrentStatus !=='Z')"
                nz-button nzType="primary" type="button" (click)="Reject()">Reject</button>&nbsp;&nbsp;
              <button
                *ngIf="CurrentStatus !=='A' && CurrentStatus !=='R' && CurrentStatus !=='I' && CurrentStatus !=='Z'"
                nz-col nz-button nzType="primary" type="submit" (click)="save('savefinalysed')">
                Save and Finalize</button>&nbsp;&nbsp;
              <!-- *ngIf="approveOrRejectButtonFlag && editFlag" -->
              <!-- <button nz-col nz-button nzType="primary" type="button"
                  (click)="SaveKYC('approve')">
                  First level Approve</button>&nbsp;&nbsp; -->

              <!-- *ngIf="finalApproveOrRejectButtonFlag || (approveOrRejectButtonFlag && !editFlag)" -->
              <!-- <button nz-col nz-button nzType="primary" class="btnApprove1" type="button"
                  (click)="Approve()">
                  Final Approve</button> -->

              <!-- </div> -->
            </div>
            <div nz-row *ngIf="AppRemarksenable" class="m-4">
              <div nz-col nzMd="3">
                <!-- *ngIf="changereq=='NoEmailMobile'&&applicationStatus=='P'||changereq=='NoEmailMobile'&&applicationStatus=='A'||changereq=='NoEmailMobile'&&applicationStatus=='R'||changereq=='NoEmailMobile'&&applicationStatus=='T'" -->
                <span>Approve Remarks </span>
              </div>
              <div nz-col nzMd="12">
                <!-- *ngIf="changereq=='NoEmailMobile'&&applicationStatus=='P'||changereq=='NoEmailMobile'&&applicationStatus=='A'||changereq=='NoEmailMobile'&&applicationStatus=='R'||changereq=='NoEmailMobile'&&applicationStatus=='T'" -->
                <div>
                  <input nz-input [(ngModel)]="Remarks" name="Remarks" />
                </div>
              </div>
            </div>
            <div nz-row *ngIf="Remarksenable" class="m-4">
              <div nz-col nzMd="3">
                <!-- *ngIf="changereq=='NoEmailMobile'&&applicationStatus=='P'||changereq=='NoEmailMobile'&&applicationStatus=='A'||changereq=='NoEmailMobile'&&applicationStatus=='R'||changereq=='NoEmailMobile'&&applicationStatus=='T'" -->
                <span>Reject Remarks </span>
              </div>
              <div nz-col nzMd="12">
                <!-- *ngIf="changereq=='NoEmailMobile'&&applicationStatus=='P'||changereq=='NoEmailMobile'&&applicationStatus=='A'||changereq=='NoEmailMobile'&&applicationStatus=='R'||changereq=='NoEmailMobile'&&applicationStatus=='T'" -->
                <div>
                  <input nz-input [(ngModel)]="RejectionReason" name="rejectionreason" />
                </div>
              </div>
            </div>
            <!-- <div nz-col nzMd="10">
    <p class="text-right">
        <button nz-button nzType="primary" type="button" (click)="back()">Back </button>
        <button nz-button nzType="primary" type="submit" (click)="SaveKYC('save')"
            *ngIf="saveButtonFlag&&applicationStatus!='T'">Save</button>
        <button nz-button nzType="primary" type="submit" (click)="SaveKYC('savefinalise')"
            *ngIf="saveButtonFlag&&applicationStatus=='T'">Save and Finalize</button>
        <button nz-button nzType="primary" type="button" (click)="BranchReject()"
            *ngIf="saveButtonFlag&&applicationStatus=='T'&&!HO">Branch Reject</button>
        <button nz-button nzType="primary" type="button" (click)="Reject()"
            *ngIf="approveOrRejectButtonFlag || finalApproveOrRejectButtonFlag">Reject</button>
            <button nz-button nzType="primary" type="button" *ngIf="approveOrRejectButtonFlag && editFlag"
            (click)="SaveKYC('approve')">First level Approve</button>
        <button nz-button nzType="primary" class="btnApprove1" type="button" *ngIf="finalApproveOrRejectButtonFlag || (approveOrRejectButtonFlag && !editFlag)"
            (click)="Approve()">Final Approve</button>
        <button nz-button nzType="primary" style="float: right;" type="button"
            *ngIf="requestID!=''&&!(approveOrRejectButtonFlag ||finalApproveOrRejectButtonFlag) " (click)="PrintForm()">Print {{tab}} Form</button>
    </p>
</div> -->
            <br *ngIf="uploadformenable">
          </div>
        </ng-container>


      </div>



      <!-- </nz-tab> -->
      <!-- <nz-tab *ngIf="fisttabcompleted"  nzTitle="Validation" nzDisabled=true> -->
      <!-- <nz-tab nzTitle="{{edittabtitle}}" nzDisabled=true>
        <crf-app-editwindow [tab]="edittabtitle" [Data]="testdata" #EditWindow></crf-app-editwindow>
      </nz-tab> -->
      <!-- </nz-tabset>  -->

      <nz-modal [(nzVisible)]="isVisibleApproved" nzTitle="Accounts To be Updated" (nzOnCancel)="handleCancel()"
        (nzOnOk)="handleCancel()" nzWidth="60%">
        <nz-table #ClientChangeArraytable [nzData]="clientArrayTemp" [nzSize]="'small'" [nzShowPagination]="false"
          [nzFrontPagination]="false">
          <thead>
            <tr style="background: rgba(137, 238, 204, 0.678);">
              <th>Account Type</th>
              <th>Account Code</th>
              <th>Name</th>
              <th>Location</th>
              <th>Enrol Date</th>
              <th>DOB</th>
              <th>Account Status</th>
              <th>Account Type</th>
              <th>Account SubType</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let data of ClientChangeArraytable.data">
              <td>{{data.AccountType}}</td>
              <td [class.linktext]="data.AccountSignature !=null&&fromReportPoolPage" (click)="ShowSignature(data);">
                {{data.AccountCode}}</td>
              <td [class.linktext]="data.permanentAddress !='' &&HO||data.currespondanceAddress !=''&&HO"
                (click)="ShowexistingAddress(data)">{{data.AccountName}}</td>
              <td>{{data.AccountLocation}}</td>
              <td>{{data.AccountEnrolDate| slice:0:10 }}</td>
              <td>{{data.AccountDOB | slice:0:10}}</td>
              <td> {{data.AccountStatus}}</td>
              <td>{{data.AccountClientType}}</td>
              <td>{{data.AccountClientSubType}}</td>
            </tr>
          </tbody>
        </nz-table>
      </nz-modal>
    </nz-tab>
    <!-- *ngIf="startprocessed" -->
    <!-- *ngIf="CurrentStatus ==='A'" -->
    <!-- *ngIf="!thirdtabenable" -->
    <nz-tab *ngIf="secondTabCompleted" nzTitle="Status Conversion" [nzDisabled]="thirdtabdisable">
      <form nz-form nzLayout="vertical" ngxScrollToFirstInvalid >
        <div *ngIf="CurrentStatus == 'A'" [class.disableCards3]="productiontestenable">
          <div nz-row class="topmargin2rem">
            <div class="w-75" nz-col>
              <span>
                1. Pool Pending
              </span>
            </div>
            <div nz-col>
              <label nz-checkbox [(ngModel)]="HOpoolpendingchecked" [ngModelOptions]="{standalone: true}"
                (ngModelChange)="SetOnOfFiveValidation('ho')"></label>
            </div>
          </div>
          <div nz-row class="topmargin2rem">
            <div class="w-75">
              <span>
                2. Margin Reporting Confirmation
              </span>
            </div>
            <div nz-col>
              <label nz-checkbox [(ngModel)]="HOmarginchecked" [ngModelOptions]="{standalone: true}"
                (ngModelChange)="SetOnOfFiveValidation('ho')"></label>
            </div>
          </div>
          <!-- <div nz-row class="topmargin2rem">
            <div class="w-75">
              <span>
                3. Confirmation of KRA activation/Submission
              </span>
            </div>
            <div nz-col>
              <label nz-checkbox [(ngModel)]="kraactivationchecked" [ngModelOptions]="{standalone: true}"
                (ngModelChange)="SetOnOfFiveValidation('ho')"></label>
            </div>
          </div> -->

          <div nz-row class="topmargin2rem">
            <div class="w-75">
              <span>
                3. Legder debit/credit to settle PIS Bank if the exisitng trading account is NRE or NRO PIS account
              </span>
            </div>
            <div nz-col>
              <label nz-checkbox [(ngModel)]="HOLedgerchecked" [ngModelOptions]="{standalone: true}"
                (ngModelChange)="SetOnOfFiveValidation('ho')"></label>
            </div>
          </div>

          <!-- <div nz-row class="topmargin2rem">
            <div class="w-75">
              <span>
                5. CP code removal for NRO accounts
              </span>
            </div>
            <div nz-col>
              <label nz-checkbox [(ngModel)]="cpcodechecked" [ngModelOptions]="{standalone: true}"
                (ngModelChange)="SetOnOfFiveValidation('ho')"></label>
            </div>
          </div> -->
          <div *ngIf="HOValidationNextButtonEnable" nz-row nzMd="9" [class.enableCard1]="true">
            <button class="float-right m-4" nz-button nzType="primary" (click)="statuschange('AF')">
              Final Verification</button>
          </div>
        </div>
        <div
          *ngIf="CurrentStatus == 'AR' || CurrentStatus == 'AF' || CurrentStatus == 'AU' || CurrentStatus == 'AC' || CurrentStatus == 'AT' || CurrentStatus == 'AE' ">
          <div *ngIf="this.cpremovalenable" nz-row class="topmargin2rem"
            [class.disableCards3]="CPCodeRemoval && CurrentStatus !== 'AF'"
            [class.disableCards2]="CurrentStatus !== 'AF'">
            <div class="w-75" nz-col>
              <span>
                <!-- AU -->
                Removal of CP code
              </span>
            </div>
            <div nz-col>
              <label nz-checkbox [(ngModel)]="CPCodeRemoval" [ngModelOptions]="{standalone: true}"
                (ngModelChange)="SetOnOfFiveValidation('ho2','AR')"></label>
            </div>
          </div>
          <div nz-row class="topmargin2rem" [class.disableCards3]="UCCManualWork && CurrentStatus !== 'AR'"
            [class.disableCards2]="CurrentStatus !== 'AR'">
            <div class="w-75" nz-col>
              <span>
                <!-- AU -->
                Completion of manual work
              </span>
            </div>
            <div nz-col>
              <label nz-checkbox [(ngModel)]="UCCManualWork" [ngModelOptions]="{standalone: true}"
                (ngModelChange)="SetOnOfFiveValidation('ho2','AU')"></label>
            </div>
          </div>
          <div nz-row class="topmargin2rem" [class.disableCards3]="UCCConverted && CurrentStatus !== 'AU'"
            [class.disableCards2]="CurrentStatus !== 'AU'">
            <div class="w-75" nz-col>
              <span>
                <!-- AC -->
                Completion of UCC
              </span>
            </div>
            <div nz-col>
              <label nz-checkbox [(ngModel)]="UCCConverted" [ngModelOptions]="{standalone: true}"
                (ngModelChange)="SetOnOfFiveValidation('ho2','AC')"></label>
            </div>
          </div>
          <div nz-row class="topmargin2rem"
            [class.disableCards3]="HOValidateTradeCodeTransfer && (CurrentStatus !== 'AC' || !TradeCodeTransfer)"
            [class.disableCards2]="CurrentStatus !== 'AC' || !TradeCodeTransfer">
            <div class="w-75" nz-col>
              <span>
                <!-- AT -->
                Completion of Trade code transfer
              </span>
            </div>
            <div nz-col>
              <label nz-checkbox [(ngModel)]="HOValidateTradeCodeTransfer" [ngModelOptions]="{standalone: true}"
                (ngModelChange)="SetOnOfFiveValidation('ho2','AT')"></label>
            </div>
          </div>
          <div nz-row class="topmargin2rem"
            [class.disableCards3]="HOValidateUCCTradeCodeTransfer && (CurrentStatus !== 'AT' || !TradeCodeTransfer)"
            [class.disableCards2]="CurrentStatus !== 'AT' || !TradeCodeTransfer">
            <div class="w-75" nz-col>
              <span>
                <!-- AE -->
                Completion of Trade Code Transfer UCC
              </span>
            </div>
            <div nz-col>
              <label nz-checkbox [(ngModel)]="HOValidateUCCTradeCodeTransfer" [ngModelOptions]="{standalone: true}"
                (ngModelChange)="SetOnOfFiveValidation('ho2','AE')"></label>
            </div>
          </div>
          <!-- *ngIf="(CurrentStatus !=='AE' && TradeCodeTransfer) || (CurrentStatus !=='AC' && !TradeCodeTransfer) " -->
          <div nz-row nzMd="9"
          *ngIf="CurrentStatus !=='AE'">
          <button class="float-right m-4" nz-button nzType="primary" (click)="statuschange()">
            <!-- {{HOVerifyButtonLabel}} -->
            Verify
          </button>
        </div>
      </div>
          <nz-card *ngIf="final" [nzTitle]="kra" [class.disableCards3]="true">
            <ng-template #kra>
              <label nz-checkbox [(ngModel)]="KRAUploaded" [ngModelOptions]="{standalone: true}"></label>
              &nbsp;&nbsp;
              <span>
                KRA has been uploaded
              </span>
            </ng-template>

          <div *ngIf="KRAUploaded" nz-row  >
            <div class="w-75 p-2 d-flex" nz-row >
              <div nz-col class="p-2">
                <b style="padding-right:0.5rem !important">Date of uploading KRA  </b>:
              </div>
                <div class="p-2" style="color: blue;" nz-col>
                  {{KRAUploadedDate | date: 'dd/MM/yyyy hh:mm:ss'}}</div>
            </div>
            </div>
            <div nz-row  style="padding-top: 2px;">
              <div class="w-75 p-2 d-flex" nz-row >
                <div class="p-2" nz-col>
                  <b style="padding-right: 5rem !important;">KRA status</b>:
                </div>
                <div class="p-2" nz-col>
                  {{KRAstatus}}
                  <!-- <label nz-checkbox [(ngModel)]="KRAstatus" [ngModelOptions]="{standalone: true}"></label> -->
                </div>
              </div>

            </div>
          </nz-card>

          <!-- <div>

            KRA has been uploaded
Date of uploading KRA
KRA status
          </div> -->

        <!-- </div> -->
      </form>
    </nz-tab>
  </nz-tabset>
</div>
<app-multi-file-single-page-view></app-multi-file-single-page-view>
<app-loader *ngIf="isSpining"></app-loader>
<!-- <crf-app-image-preview *ngIf="filePreiewVisible" [imageData]="filePreiewContent" [source]="source" [acccode]="acc">
</crf-app-image-preview> -->


<!-- <app-assist-window *ngIf="AssistDisplay"></app-assist-window> -->
