<div>
    <div nz-row nzGutter="10">
        <h2 style="margin-left: 10px;margin-top: 10px">DDPI Approval or Reject</h2>
    </div>
    <!-- <div class="header__main">
      
    <form-handler (onSave)="save()" (onReset)="Reset()">
    </form-handler>
</div> -->
    <app-loader *ngIf="isSpinning"></app-loader>
    <div nz-row nzGutter="10">
        <div nz-col nzMd="18" nzLg="18" nzXl="18" nzXXl="18">

        </div>
        <div nz-col nzMd="6" nzLg="6" nzXl="6" nzXXl="6" style="margin-left: 10px ; float:right">
            <nz-form-item>

                <button [disabled]="buttondisable" style="margin-left: 10px ;background-color: green" nz-button
                    nzType="primary" class="mr-1 savebtn" (click)="Savestatus('A')">
                    <i nz-icon type="save" theme="outline"></i> &nbsp; Approve &nbsp;</button>
                <button [disabled]="buttondisable" style="margin-left: 10px;background-color: red" nz-button
                    nzType="primary" class="mr-1 savebtn" (click)="Savestatus('R')">
                    <i nz-icon type="save" theme="outline"></i> &nbsp; Reject &nbsp;</button>

            </nz-form-item>

        </div>

    </div>
    <nz-card style="margin: 10px;border-radius: 10px;border-color:grey">
        <div nz-row nzGutter="5">
            <div nz-col nzMd="10" style="border-right: solid;">
                <div nz-row nzGutter="5">
                    <div nz-col nzMd="24" style="border-bottom: 1px solid">
                        <div nz-row nzGutter="10">
                            <div nz-col nzMd="12"><b>Tradecode
                                    :&nbsp;&nbsp;</b><span>{{ReportResponse.Tradecode}}</span></div>
                            <div nz-col nzMd="12">
                                <b>ClientName:&nbsp;&nbsp;</b><span>{{ReportResponse.ClientName}}</span>
                            </div>
                        </div>
                        <div nz-row nzGutter="10" style="margin-top: 10px">
                            <div nz-col nzMd="12"><b>DPID :&nbsp;&nbsp;</b><span>{{ReportResponse.DPID}}</span></div>
                            <div nz-col nzMd="12">
                                <b>DPClientID:&nbsp;&nbsp;</b><span>{{ReportResponse.DPClientID}}</span>
                            </div>
                        </div>
                        <div nz-row nzGutter="10" style="margin-top: 10px">
                            <div nz-col nzMd="12"><b>DPType :&nbsp;&nbsp;</b><span>{{ReportResponse.DPCode}}</span>
                            </div>
                            <!-- <div nz-col nzMd="12"><b>EntryDate
                                    :&nbsp;&nbsp;</b><span>{{ReportResponse.EntryDate}}</span></div> -->
                                
                                    <div nz-col nzMd="4"><b>EntryDate :</b> </div>  
                                    <span *ngIf ="type != 'A'" nz-col nzMd="8">
                                                <nz-date-picker [(ngModel)]="this.entryDate" name="RRD" nzFormat="dd-MM-yyyy">
                                                </nz-date-picker>
                                            </span>
                                    <span *ngIf ="type == 'A'">{{ReportResponse.EntryDate}}</span>
                                         
                        </div>
                        <!-- <div nz-row nzGutter="10" style="margin-top: 10px">
                            <div nz-col nzMd="12"><b>Request Received Date
                                :&nbsp;&nbsp;</b><span>{{ReportResponse.RequestReceivedDate}}</span></div>
                        </div> -->
                        <!-- <div  nz-row nzGutter="10" style="margin-top: 10px">
                              <div nz-col nzMd="12"><b>EntryDate :&nbsp;&nbsp;</b><span>{{ReportResponse.EntryDate}}</span></div>
                          </div>  -->
                        <div nz-row nzGutter="10" style="margin-top: 10px">
                            <div [innerHtml]="html" nz-col nzMd="12"></div>
                        </div>

                        <div nz-row nzGutter="10" style="margin-top: 10px;margin-right: 10px" *ngIf="reason">
                            <div nz-col nzMd="23">
                                <nz-alert nzType="error" nzBanner nzMessage="{{reason}}"></nz-alert>
                            </div>
                        </div>

                    </div>

                    <div nz-col nzMd="24" style="margin-top: 20px">

                        <img width="100%" height="200" [src]="imagesignature">
                        <!-- <pdf-viewer [src]="pdfSrc" [original-size]="false"></pdf-viewer> -->
                    </div>
                    <!-- mod aksa begin  -->
                    <div nz-col nzMd="10" *ngIf="showreject">
                        <div nz-row nzGutter="5">
                            <div>
                                <nz-form-control>
                                    <nz-form-control>
                                        <label nz-checkbox [(ngModel)]="documentrejected"
                                            [ngModelOptions]="{standalone: true}" (ngModelChange)="ticked($event)">
                                            Physical document rejected</label>
                                    </nz-form-control>
                                </nz-form-control>
                            </div>
                        </div>

                        <div *ngIf="showselect">
                            <!-- <div> -->
                            <label> Reason </label>
                            <nz-select style="width:400px" (ngModelChange)="onselect($event)" [(ngModel)]="reasons"
                                name="rejectedreason">
                                <nz-option *ngFor="let data of rejectedremarkarray1" [nzValue]="data.Reason"
                                    [nzLabel]="data.Reason">
                                </nz-option>
                            </nz-select>

                            <!-- </div> -->

                        </div>
                        &nbsp; &nbsp; &nbsp; &nbsp;
                        <div *ngIf="showtext">

                            <input nz-input style="width:400px" placeholder="small size" [(ngModel)]="otherreason"
                                maxlength="40" name="remarks" nzSize="small" />
                        </div>

                        <div>

                            <button style="float: left; margin-top: 30px; background-color: blue" nz-button
                                nzType="primary" class="mr-1 savebtn" (click)="save()">
                                <i nz-icon type="save" theme="outline"></i> &nbsp; Save &nbsp;</button>

                        </div>



                        <!-- mod aksa ends-->



                    </div>
                </div>

            </div>

            <div nz-col nzMd="14">
                <div>
                    <iframe *ngIf="pdfSrc" id="monitor" name="monitor" frameborder="0" width="100%" height="412"
                        [src]="pdfSrc"> </iframe>

                    <!-- <pdf-viewer [src]="pdfSrc" [original-size]="false"></pdf-viewer> -->
                </div>

            </div>
        </div>
    </nz-card>


    <nz-modal [(nzVisible)]="isVisibleMod" nzMask=true (nzOnCancel)="handleCancel1()" (nzOnOk)="Savestatus('R')">
        <p style="font-size: 20px"><b>Please enter the reason </b></p>
        <div nz-row nzGutter="8" style="margin-left: 12px">
            <label style="color: #333232 ; font-size: 12px"> <b>Reason </b></label>
            <nz-select style="margin-left: 10px; width:400px" (ngModelChange)="onchangeType($event)"
                [(ngModel)]="rejectedreason" name="rejectedreason">
                <nz-option *ngFor="let data of rejectedremarkarray" [nzValue]="data.ReasonDesc" [nzLabel]="data.Reason">
                </nz-option>
            </nz-select>
        </div>
        <div nz-row nzGutter="8" style="margin-left: 12px ; margin-top: 5px">
            <!-- <label style ="color: black ; font-size: 15px"> <b>Remarks </b></label> -->
            <textarea nz-input rows="6" style="max-height: 80px;width: 400px;margin-left: 54px;" [(ngModel)]="remarks"
                name="remarks"></textarea>
        </div>

    </nz-modal>



</div>