<form nz-form [formGroup]="form" nzLayout="vertical" ngxScrollToFirstInvalid>
    <div nz-row nzGutter="10" [class.disableCards1]="applicationStatus=='P'">
        <div nz-col nzLg="16" nzMd="24" class="mb-2">
            <nz-card>
                <div nz-row nzGutter="5">
                    <div nz-col nzLg="8" nzMd="8">
                        <nz-form-item>
                            <nz-form-label>PAN</nz-form-label>
                            <nz-form-control>
                                <input type="text" nz-input readonly formControlName="pan" maxlength="10" />
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzLg="8" nzMd="6">
                        <nz-form-item>
                            <nz-form-label class="required" nzFor="name">DOB</nz-form-label>
                            <nz-form-control>
                                <nz-date-picker formControlName="dob" nzPlaceHolder="YYYY-MM-DD"
                                    [nzDisabledDate]="disabledFutureDate"></nz-date-picker>
                                <!-- <input type="date"  formControlName="dob" class=date name="bday" maxlength="10"> -->
                                <!-- {{form.value.dob}} -->
                            </nz-form-control>
                        </nz-form-item>
                    </div>

                    <div nz-col nzLg="4">
                        <nz-form-item>
                            <nz-form-label nzFor="name">&nbsp;</nz-form-label>
                            <nz-form-control>
                                <button nz-button nzType="primary" [disabled]="!entryAccess" (click)="loadPanDetails()"
                                    [nzLoading]="isLoadingPanDetails">Verify KRA</button>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzMd="16" nzLg="8">
                        <nz-form-item>
                            <nz-form-label>&nbsp;</nz-form-label>
                            <nz-form-control>
                                <span>KRA Status : </span>
                                <b *ngIf="form.value.isKRAVerified">
                                    KRA Verified <i nz-icon [nzType]="'check-circle'" [nzTheme]="'twotone'"
                                        [nzTwotoneColor]="'#52c41a'"></i>
                                </b>
                                <b *ngIf="!form.value.isKRAVerified">
                                    KRA Not Verified <i nz-icon [nzType]="'close-circle'" [nzTheme]="'twotone'"
                                        [nzTwotoneColor]="'#e74528'"></i>
                                </b>
                            </nz-form-control>
                            <!-- <nz-form-control>
                                <label nz-radio nzValue="KRA Varified">KRA Varified</label>
                                <label nz-radio nzValue="KRA not Varified">KRA not Varified</label>
                        </nz-form-control> -->

                        </nz-form-item>
                    </div>
                </div>
                <div nz-row nzGutter="5" style="margin-top: -10px;">
                    <div nz-col nzLg="24">
                        <nz-form-item>
                            <nz-form-label>&nbsp;</nz-form-label>
                            <nz-form-label>Name in PAN site: <span class="name"> {{form.value.nameinpansite}}</span>
                            </nz-form-label>
                        </nz-form-item>
                    </div>

                </div>
                <div nz-row nzGutter="5">
                    <div nz-col nzLg="6" nzMd="8">
                        <nz-form-item>
                            <nz-form-label>CKYC</nz-form-label>
                            <nz-form-control>
                                <nz-input-group [nzSuffix]="suffixIconSearch" nzSize="small">
                                    <input type="text" nz-input formControlName="ckyc"
                                        [textMask]="{mask: inputMasks.numeric}" maxlength="16" />
                                </nz-input-group>
                                <ng-template #suffixIconSearch>
                                    <!-- <i nz-icon type="search"></i> -->
                                </ng-template>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <!-- <div nz-col nzLg="2">
                                                    <nz-form-item>
                                                        <nz-form-label nzFor="name">&nbsp;</nz-form-label>
                                                        <nz-form-control>
                                                            <button nz-button nzType="primary" 
                                                               >Check</button>
                                                        </nz-form-control>
                                                    </nz-form-item>
                                                </div>
                                            <div nz-col nzLg="8">
                                                    <nz-form-item>
                                                        <nz-form-label>&nbsp;</nz-form-label>
                                                        <nz-form-control>
                                                            <input type="text" nz-input/>
                                                        </nz-form-control>
                                                    </nz-form-item>
                                                </div> -->
                </div>
                <div nz-row nzGutter="5">
                    <div nz-col nzLg="6" nzMd="6">
                        <nz-form-item>
                            <nz-form-label nzFor="ProceedType" class="required">Fill details from : </nz-form-label>
                        </nz-form-item>
                    </div>
                    <div nz-col nzLg="" nzMd="">
                        <nz-form-item>
                            <nz-radio-group formControlName="ProceedType" nzName="radiogroup" required>
                                <label nz-radio nzValue="BO">Backoffice</label>
                                <label nz-radio nzValue="KRA" *ngIf="this.form.value.isKRAVerified">KRA</label>
                                <!-- <label nz-radio nzValue="KRA" >KRA</label> -->

                                <!-- <label nz-radio nzValue="CKYC" disabled>CKYC</label>   -->

                            </nz-radio-group>
                        </nz-form-item>
                    </div>
                    <!-- <div nz-col nzLg="4">
                                        <nz-form-item>
                                            <nz-form-label nzFor="name">&nbsp;</nz-form-label>
                                            <nz-form-control>
                                                <button nz-button nzType="primary" [disabled]="!entryAccess" (click)="" >Proceed</button>
                                            </nz-form-control>
                                        </nz-form-item>
                                    </div> -->
                </div>
            </nz-card>
        </div>
        <div nz-col nzLg="8" nzMd="24">
            <nz-card class="kraHeight" [class.disableCardsKra]="form.value.ProceedType!='KRA'">
                <div nz-col nzMd="24" *ngIf="form.value.ProceedType=='KRA'">
                    <p style="color: red;"> Please choose Change in KRA to update mandatory field".. </p>
                </div>
                <fieldset class="fieldset_made">
                <nz-radio-group nzName="radiogroup" formControlName="changeKRA">
                    <label  class="textbold" nz-radio nzValue="YES">Change in KRA</label><br><br><br>
                    <label  class="textbold" nz-radio nzValue="NO">No Change in KRA</label>
                </nz-radio-group>
                </fieldset>
            </nz-card>
        </div>
    </div>

    <br>
    <nz-card [nzTitle]="title1">
        <ng-template #title1>
            <i nz-icon type="user" class="icon text-warning" nzTheme="outline"></i> Personal Details
        </ng-template>
        <div nz-row nzGutter="10">
            <div class="name-ctrl-rows">
                <div nz-row nzGutter="5">
                    <div nz-col nzLg="4" nzMd="8">
                        <nz-form-item>
                            <nz-form-label>&nbsp;</nz-form-label>
                            <div>
                                <nz-form-label class="required">Name</nz-form-label>
                            </div>
                        </nz-form-item>
                    </div>
                    <div nz-col nzLg="2" nzMd="4">
                        <nz-form-item>
                            <nz-form-label>Title</nz-form-label>
                            <nz-form-control>
                                <nz-select formControlName="nametitle" nzAllowClear nzPlaceHolder="Choose">
                                    <nz-option nzValue="Mr" nzLabel="Mr"></nz-option>
                                    <nz-option nzValue="Mrs" nzLabel="Mrs"></nz-option>
                                    <nz-option nzValue="Ms" nzLabel="Ms"></nz-option>
                                </nz-select>
                                <!-- <input nz-input formControlName="nametitle"  required  (keypress)="charrestrict($event)" [readonly]="disableKraFields" /> -->
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzLg="6" nzMd="4">
                        <nz-form-item>
                            <nz-form-label>First Name</nz-form-label>
                            <nz-form-control>
                                <input nz-input formControlName="namefirstName" required
                                    (keypress)="charrestrict($event)" [readonly] />
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzLg="6" nzMd="4">
                        <nz-form-item>
                            <nz-form-label>Middle Name</nz-form-label>
                            <nz-form-control>
                                <input nz-input formControlName="namemiddleName" (keypress)="charrestrict($event)"
                                    [readonly]="disableKraFields" />
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzLg="6" nzMd="4">
                        <nz-form-item>
                            <nz-form-label>Last Name</nz-form-label>
                            <nz-form-control>
                                <input nz-input formControlName="namelastName" 
                                    (keypress)="charrestrict($event)" [readonly]="disableKraFields" />
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                </div>

                <div nz-row nzGutter="5">
                    <div nz-col nzLg="4" nzMd="8">
                        <nz-form-item>
                            <nz-form-label>&nbsp;</nz-form-label>
                            <div>
                                <nz-form-label>Maiden Name (if any)</nz-form-label>
                            </div>
                        </nz-form-item>
                    </div>
                    <div nz-col nzLg="2" nzMd="4">
                        <nz-form-item>
                            <nz-form-label>Title</nz-form-label>
                            <nz-form-control>
                                <nz-select formControlName="MaidenNametitle" nzAllowClear nzPlaceHolder="Choose">
                                    <nz-option nzValue="Mr" nzLabel="Mr"></nz-option>
                                    <nz-option nzValue="Mrs" nzLabel="Mrs"></nz-option>
                                    <nz-option nzValue="Ms" nzLabel="Ms"></nz-option>
                                </nz-select>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzLg="6" nzMd="4">
                        <nz-form-item>
                            <nz-form-label>First Name</nz-form-label>
                            <nz-form-control>
                                <input nz-input formControlName="MaidenNamefirstName"
                                    (keypress)="charrestrict($event)" />
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzLg="6" nzMd="4">
                        <nz-form-item>
                            <nz-form-label>Middle Name</nz-form-label>
                            <nz-form-control>
                                <input nz-input formControlName="MaidenNamemiddleName"
                                    (keypress)="charrestrict($event)" />
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzLg="6" nzMd="4">
                        <nz-form-item>
                            <nz-form-label>Last Name</nz-form-label>
                            <nz-form-control>
                                <input nz-input formControlName="MaidenNamelastName"
                                    (keypress)="charrestrict($event)" />
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                </div>

                <div nz-row nzGutter="5">
                    <div nz-col nzLg="4" nzMd="8">
                        <nz-form-item>
                            <nz-form-label>&nbsp;</nz-form-label>
                            <div>

                                <nz-form-label>
                                    <nz-radio-group formControlName="fatherOrSpouse" class="required">
                                        <label class="required" nz-radio nzValue="F">Father</label>
                                        <label class="required" nz-radio nzValue="S">Spouse Name</label>
                                    </nz-radio-group>

                                </nz-form-label>

                            </div>
                        </nz-form-item>
                    </div>
                    <div nz-col nzLg="2" nzMd="4">
                        <nz-form-item>
                            <nz-form-label>Title</nz-form-label>
                            <nz-form-control>
                                <nz-select formControlName="Fathertitle" nzAllowClear nzPlaceHolder="Choose">
                                    <nz-option nzValue="Mr" nzLabel="Mr"></nz-option>
                                    <nz-option nzValue="Mrs" nzLabel="Mrs"></nz-option>
                                    <nz-option nzValue="Ms" nzLabel="Ms"></nz-option>
                                </nz-select>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzLg="6" nzMd="4">
                        <nz-form-item>
                            <nz-form-label>First Name</nz-form-label>
                            <nz-form-control>
                                <input nz-input formControlName="FatherfirstName" [readonly]="disableKraFields"
                                    (keypress)="charrestrict($event)" />
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzLg="6" nzMd="4">
                        <nz-form-item>
                            <nz-form-label>Middle Name</nz-form-label>
                            <nz-form-control>
                                <input nz-input formControlName="FathermiddleName" (keypress)="charrestrict($event)" />
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzLg="6" nzMd="4">
                        <nz-form-item>
                            <nz-form-label>Last Name</nz-form-label>
                            <nz-form-control>
                                <input nz-input formControlName="FatherlastName" (keypress)="charrestrict($event)" />
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                </div>

                <div nz-row nzGutter="5">
                    <div nz-col nzLg="4" nzMd="8">
                        <nz-form-item>
                            <nz-form-label>&nbsp;</nz-form-label>
                            <div>

                                <nz-form-label>Mother's Name</nz-form-label>
                            </div>
                        </nz-form-item>
                    </div>
                    <div nz-col nzLg="2" nzMd="4">
                        <nz-form-item>
                            <nz-form-label>Title</nz-form-label>
                            <nz-form-control>
                                <nz-select formControlName="Mothertitle" nzAllowClear nzPlaceHolder="Choose">
                                    <!-- <nz-option nzValue="Ms" nzLabel="Ms"></nz-option> -->
                                    <nz-option nzValue="Mrs" nzLabel="Mrs"></nz-option>
                                </nz-select>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzLg="6" nzMd="4">
                        <nz-form-item>
                            <nz-form-label>First Name</nz-form-label>
                            <nz-form-control>
                                <input nz-input formControlName="MotherfirstName" (keypress)="charrestrict($event)" />
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzLg="6" nzMd="4">
                        <nz-form-item>
                            <nz-form-label>Middle Name</nz-form-label>
                            <nz-form-control>
                                <input nz-input formControlName="MothermiddleName" (keypress)="charrestrict($event)" />
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzLg="6" nzMd="4">
                        <nz-form-item>
                            <nz-form-label>Last Name</nz-form-label>
                            <nz-form-control>
                                <input nz-input formControlName="MotherlastName" (keypress)="charrestrict($event)" />
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                </div>
            </div>

        </div>
        <nz-divider></nz-divider>
        <div nz-row nzGutter="5">
            <div nz-col nzLg="3" nzMd="4">
                <nz-form-item>
                    <nz-form-label class="required">Gender</nz-form-label>
                    <nz-form-control>
                        <nz-select formControlName="gender" nzAllowClear nzPlaceHolder="Gender"
                            [nzDisabled]="disableKraFields">
                            <nz-option nzValue="M" nzLabel="Male"></nz-option>
                            <nz-option nzValue="F" nzLabel="Female"></nz-option>
                            <nz-option nzValue="T" nzLabel="Transgender"></nz-option>
                        </nz-select>
                    </nz-form-control>
                </nz-form-item>
            </div>

            <div nz-col nzLg="2" nzMd="3" style="margin-top: 2px;">
                <nz-form-item>
                    <nz-form-label>Age</nz-form-label>
                    <nz-form-control>
                        <input nz-input readonly formControlName="age" />
                    </nz-form-control>
                </nz-form-item>
            </div>
            <div nz-col nzLg="1" nzMd="2" style="margin-top: 2px;">
                <nz-form-item>
                    <nz-form-label>Minor</nz-form-label>
                    <nz-form-control>
                        <nz-switch nzDisabled="true" formControlName="isMinor"></nz-switch>
                    </nz-form-control>
                </nz-form-item>
            </div>

            <div nz-col nzLg="5" nzMd="5">
                <nz-form-item>
                    <nz-form-label class="required">Marital Status</nz-form-label>
                    <nz-form-control>
                        <nz-select formControlName="maritalStatus" nzAllowClear [nzDisabled]="disableKraFields">
                            <nz-option nzValue="M" nzLabel="Married"></nz-option>
                            <nz-option nzValue="S" nzLabel="Single"></nz-option>
                            <nz-option nzValue="D" nzLabel="Divorced"></nz-option>
                            <nz-option nzValue="W" nzLabel="Widow"></nz-option>
                            <nz-option nzValue="O" nzLabel="Other"></nz-option>
                        </nz-select>
                    </nz-form-control>
                </nz-form-item>
            </div>
            <div nz-col nzLg="6" nzMd="4">
                <nz-form-item>
                    <nz-form-label class="required">Nationality</nz-form-label>
                    <nz-form-control>
                        <input type="text" nz-input formControlName="nationality" [nzAutocomplete]="auto"
                            (keypress)="charrestrict($event)" />
                        <nz-autocomplete #auto>
                            <nz-auto-option *ngFor="let option of resultArray" [nzValue]="option.Country"
                                [nzLabel]="option.Country" class="aleternateColor">
                                <span [innerHTML]="option.Country"></span>
                            </nz-auto-option>
                        </nz-autocomplete>
                    </nz-form-control>
                </nz-form-item>
            </div>

            <div nz-col nzLg="5" nzMd="5">
                <nz-form-item>
                    <nz-form-label class="required">Residential Status</nz-form-label>
                    <nz-form-control>
                        <input type="text" nz-input formControlName="residentialStatus" [nzAutocomplete]="autores"
                        (keypress)="charrestrict($event)" />
                    <nz-autocomplete #autores>
                        <nz-auto-option *ngFor="let item of ResidentialStatusArray" [nzValue]="item.Code"
                            [nzLabel]="item.Code" class="aleternateColor">
                            <span [innerHTML]="item.Code"></span>
                        </nz-auto-option>
                    </nz-autocomplete>
                        <!-- <nz-select formControlName="residentialStatus">
                            <nz-option *ngFor="let item of ResidentialStatusArray" [nzValue]="item.Code"
                                [nzLabel]="item.Code"></nz-option>
                        </nz-select> -->
                    </nz-form-control>
                </nz-form-item>
            </div>
            <!-- <div nz-col nzLg="2" nzMd="2" style="margin-top: 2px;">
                <nz-form-item>
                    <nz-form-label>Status Changer</nz-form-label>
                    <nz-form-control>
                        <nz-switch nzDisabled="false" formControlName="statusChanger" ></nz-switch>
                    </nz-form-control>
                </nz-form-item>
            </div> -->
        </div>
        <div nz-row nzGutter="5">
            <!-- <div nz-col nzLg="4" nzMd="6">
                <nz-form-item>
                    <nz-form-label class="required">Occupation Type</nz-form-label>
                    <nz-form-control>
                        <input type="text" nz-input formControlName="occupationType" [nzAutocomplete]="autoOccup"
                        (keypress)="charrestrict($event)" />
                    <nz-autocomplete #autoOccup>
                        <nz-auto-option *ngFor="let item of occupationArray" [nzValue]="item.OCCUPATIONTYPE"
                            [nzLabel]="item.OCCUPATIONTYPE" class="aleternateColor">
                            <span [innerHTML]="item.OCCUPATIONTYPE"></span>
                        </nz-auto-option>
                    </nz-autocomplete>
                    ---------------
                        <nz-select formControlName="occupationType" nzAllowClear
                            (ngModelChange)="otherOccupationChoosen(form.value.occupationType)"
                            nzPlaceHolder="Occupation Type">
                            <nz-option *ngFor="let item of occupationArray" [nzValue]="item.OCCUPATIONTYPE"
                                [nzLabel]="item.OCCUPATIONTYPE"></nz-option>
                            <nz-option [nzValue]="'OTHER'" [nzLabel]="'OTHER'"></nz-option>
                        </nz-select>
                    ----------------
                    </nz-form-control>
                </nz-form-item>
            </div> -->

            <div nz-col nzLg="4" nzMd="6" *ngIf="isShowOtherOccupation">
                <nz-form-item>
                    <nz-form-label class="required">Occupation</nz-form-label>
                    <nz-form-control>
                        <input nz-input formControlName="otherOccupationValue" (keypress)="charrestrict($event)" />
                    </nz-form-control>
                </nz-form-item>
            </div>
            <div nz-col nzLg="3" nzMd="6">
                <nz-form-item>
                    <nz-form-label>CIN</nz-form-label>
                    <nz-form-control>
                        <input nz-input formControlName="cin" readonly />
                    </nz-form-control>
                </nz-form-item>
            </div>
            <!-- <div nz-col nzLg="6" nzMd="8" >
                                    <nz-form-item>
                                        <nz-form-label class="required">PEP</nz-form-label>
                                        <nz-form-control>
                                            <nz-select formControlName="pep">
                                                    <nz-option  *ngFor="let data of pepArray" [nzValue]="data.Occupation_category" [nzLabel]="data.Name"></nz-option>

                                            </nz-select>
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>       -->

            <div nz-col nzLg="5" nzMd="4" *ngIf="clientType=='individual'">
                <nz-form-item>
                    <nz-form-label class="required">Risk Country</nz-form-label>
                    <nz-form-control>
                        <input type="text" nz-input formControlName="riskCountry" />
                        <!-- <nz-autocomplete #auto>
                                                <nz-auto-option *ngFor="let option of riskCountryresultArray"  [nzValue]="option.Country" [nzLabel]="option.Country"  class="aleternateColor">
                                                <span [innerHTML]="option.Country|highlight:citizenship"></span>
                                                </nz-auto-option>
                                              </nz-autocomplete> -->
                    </nz-form-control>
                </nz-form-item>
            </div>

            <div nz-col nzLg="2" nzMd="2" style="margin-top: 2px;" *ngIf="merchantnavyStatus">
                <nz-form-item>
                    <nz-form-label>Merchant Navy</nz-form-label>
                    <nz-form-control>
                        <nz-switch nzDisabled="false" formControlName="merchantnavy" ></nz-switch>
                    </nz-form-control>
                </nz-form-item>
            </div>

        </div>

    </nz-card>
    <!-- <nz-divider nzText="Personal Details" nzOrientation="left"></nz-divider> -->

    <!-- <nz-divider></nz-divider> -->

    <br>

</form>
<app-loader *ngIf="isSpining"></app-loader>