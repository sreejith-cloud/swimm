<div #tabsContentRef style="position: absolute; top:0"></div>
<ng-container *ngIf="clientType!='nonIndividual'">
    <div class="text-right">
        <button nz-button  nzType="primary" (click)="getimagedata()"><i nz-icon type="eye"  ></i>Documents</button>
        </div>
    <!-- <nz-tabset nzTabPosition="left" [(nzSelectedIndex)]="activeTabIndex">
                <nz-tab nzTitle="{{i+1 | ordinalWord | titlecase}} Holder"  *ngFor="let tab of indTabs; let i=index;">
            <kyc-personal-details [id]="'kycPersnalDetails'+i"></kyc-personal-details>
            <br>
            <kyc-address></kyc-address>
            <br>
            <kyc-contact-details></kyc-contact-details>
            <br>
            <proof-upload></proof-upload>
          <br>  
            <p class="text-right">
                <button nz-button nzType="primary" (click)="continueNext(activeTabIndex)">Next</button>
            </p>
  </nz-tab>
    </nz-tabset> -->
    <div [ngSwitch]="numberOfHolders">
        <div *ngSwitchCase="1">
            <nz-tabset nzTabPosition="top" [(nzSelectedIndex)]="activeTabIndex" (nzSelectedIndexChange)="tabChange($event)">
                <nz-tab nzTitle="First Holder">
                    <div [ngClass]="{'disableCards':isEntryfinalised}">
                    <kyc-personal-details #kycPersnalDetails1></kyc-personal-details>
                    <!-- <kyc-identity-proof></kyc-identity-proof> -->
                    <div #addressSecRef></div>
                    <kyc-address #kycAddress1></kyc-address>
                    <br>
                    <div #tabsContacttRef></div>
                    <kyc-contact-details #kycContactDetails1></kyc-contact-details>
                    <br>
                    <proof-upload #kycProofUpload1></proof-upload>
                    <br>
                    <p class="text-right">
                        <button nz-button nzType="primary" (click)="back(activeTabIndex)">Back</button>
                            <button nz-button nzType="primary" (click)="continueNext(activeTabIndex)">Next</button>
     <!-- <button nz-button nzType="primary" class="float-right" (click)="next1()" *ngIf="branch == 'HOGT' || branch== 'HO'">Continue</button> -->
            <!-- <button nz-button nzType="primary" class="float-right" (click)="next1()">Lazy Next</button> -->

                    </p>
                    </div>
                </nz-tab>
            </nz-tabset>
        </div>
        <div *ngSwitchCase="2">
            <nz-tabset nzTabPosition="top" [(nzSelectedIndex)]="activeTabIndex" (nzSelectedIndexChange)="tabChange($event)">
                <nz-tab nzTitle="First Holder">
                    <div [ngClass]="{'disableCards':isEntryfinalised}">

                    <kyc-personal-details #kycPersnalDetails1></kyc-personal-details>
                    <!-- <kyc-identity-proof></kyc-identity-proof> -->
                    <div #addressSecRef></div>
                    <kyc-address #kycAddress1></kyc-address>
                    <br>
                    <div #tabsContacttRef></div>
                    <kyc-contact-details #kycContactDetails1></kyc-contact-details>
                    <br>
                    <proof-upload #kycProofUpload1></proof-upload>
                    <br>
                    <p class="text-right">

                        <button nz-button nzType="primary" (click)="back(activeTabIndex)">Back</button>
                            <button nz-button nzType="primary" (click)="continueNext(activeTabIndex)">Next</button>

                            <!-- <button nz-button nzType="primary" class="float-right" (click)="next1()" *ngIf="branch == 'HOGT' || branch== 'HO'">Continue</button> -->
                                        </p>
                                        </div>
                </nz-tab>
                <nz-tab nzTitle="Second Holder">
                    <div [ngClass]="{'disableCards':isEntryfinalised}">

                    <kyc-personal-details #kycPersnalDetails2></kyc-personal-details>
                    <!-- <kyc-identity-proof></kyc-identity-proof> -->
                    <div #addressSecRef></div>
                    <kyc-address #kycAddress2></kyc-address>
                    <br>
                    <div #tabsContacttRef></div>
                    <kyc-contact-details #kycContactDetails2></kyc-contact-details>
                    <br>
                    <proof-upload #kycProofUpload2></proof-upload>
                    <br>
                    <p class="text-right">
                        <button nz-button nzType="primary" (click)="back(activeTabIndex)">Back</button>
                        <button nz-button nzType="primary" (click)="continueNext(activeTabIndex)">Next</button>

                        <!-- <button nz-button nzType="primary" class="float-right" (click)="next1()" *ngIf="branch == 'HOGT' || branch== 'HO'">Continue</button> -->
                              
                    </p>
                    </div>
                </nz-tab>
            </nz-tabset>
        </div>
        <div *ngSwitchCase="3">
            <nz-tabset nzTabPosition="top" [(nzSelectedIndex)]="activeTabIndex" (nzSelectedIndexChange)="tabChange($event)">
                <nz-tab nzTitle="First Holder">
                    <div [ngClass]="{'disableCards':isEntryfinalised}">

                    <kyc-personal-details #kycPersnalDetails1></kyc-personal-details>
                    <!-- <kyc-identity-proof></kyc-identity-proof> -->
                    <div #addressSecRef></div>
                    <kyc-address #kycAddress1></kyc-address>
                    <br>
                    <div #tabsContacttRef></div>
                    <kyc-contact-details #kycContactDetails1></kyc-contact-details>
                    <br>
                    <proof-upload #kycProofUpload1></proof-upload>
                    <br>
                    <p class="text-right">
                        <button nz-button nzType="primary" (click)="back(activeTabIndex)">Back</button>
                            <button nz-button nzType="primary" (click)="continueNext(activeTabIndex)">Next</button>

                            <!-- <button nz-button nzType="primary" class="float-right" (click)="next1()" *ngIf="branch == 'HOGT' || branch== 'HO'">Continue</button> -->
                                 
                    </p>
                    </div>
                </nz-tab>
                <nz-tab nzTitle="Second Holder">
                    <div [ngClass]="{'disableCards':isEntryfinalised}">

                    <kyc-personal-details #kycPersnalDetails2></kyc-personal-details>
                    <!-- <kyc-identity-proof></kyc-identity-proof> -->
                    <div #addressSecRef></div>
                    <kyc-address #kycAddress2></kyc-address>
                    <br>
                    <div #tabsContacttRef></div>
                    <kyc-contact-details #kycContactDetails2></kyc-contact-details>
                    <br>
                    <proof-upload #kycProofUpload2></proof-upload>
                    <br>
                    <p class="text-right">
                        <button nz-button nzType="primary" (click)="back(activeTabIndex)">Back</button>
                            <button nz-button nzType="primary" (click)="continueNext(activeTabIndex)">Next</button>

                            <!-- <button nz-button nzType="primary" class="float-right" (click)="next1()" *ngIf="branch == 'HOGT' || branch== 'HO'">Continue</button> -->
                                 
                    </p>
                    </div>
                </nz-tab>
                <nz-tab nzTitle="Third Holder">
                    <div [ngClass]="{'disableCards':isEntryfinalised}">

                    <kyc-personal-details #kycPersnalDetails3></kyc-personal-details>
                    <!-- <kyc-identity-proof></kyc-identity-proof> -->
                    <div #addressSecRef></div>
                    <kyc-address #kycAddress3></kyc-address>
                    <br>
                    <div #tabsContacttRef></div>
                    <kyc-contact-details #kycContactDetails3></kyc-contact-details>
                    <br>
                    <proof-upload #kycProofUpload3></proof-upload>
                    <br>
                    <p class="text-right">
                        <button nz-button nzType="primary" (click)="back(activeTabIndex)">Back</button>
                            <button nz-button nzType="primary" (click)="continueNext(activeTabIndex)">Next</button>

                            <!-- <button nz-button nzType="primary" class="float-right" (click)="next1()" *ngIf="branch == 'HOGT' || branch== 'HO'">Continue</button> -->
                                 
                    </p>
                    </div>
                </nz-tab>
            </nz-tabset>
        </div>
    </div>
</ng-container>


<!-- Whatever you wrap with the '<window>' component will be rendered on a new window  -->


<ng-container *ngIf="clientType=='nonIndividual'">
    <div nz-form nzLayout="inline">
        <nz-form-item>
            <nz-form-label>Enter number of people for whom KYC need to be done</nz-form-label>
            <nz-form-control>
                <nz-input-number [(ngModel)]="kycCount" (ngModelChange)="updateTabs()" [nzMin]="1" [nzMax]="10"
                    [nzStep]="1"></nz-input-number>
            </nz-form-control>
        </nz-form-item>
    </div>
    <nz-tabset nzTabPosition="top" [(nzSelectedIndex)]="activeTabIndex">
        <nz-tab nzTitle="{{i+1 | ordinalWord | titlecase}} Holder" *ngFor="let tab of tabs; let i=index;">
            <kyc-personal-details #kycpersonal></kyc-personal-details>
            <!-- <kyc-identity-proof></kyc-identity-proof> -->
            <div #addressSecRef></div>
            <kyc-address #kycAddress></kyc-address>
            <br>
            <div #tabsContacttRef></div>
            <kyc-contact-details #kycContactDetails></kyc-contact-details>
            <br>
            <proof-upload #kycProofUpload></proof-upload><br>
            <!-- <div nz-row nzGutter="20">
                <div nz-col nzMd="12">
                    <kyc-kra-details></kyc-kra-details>
                </div>
                <div nz-col nzMd="12">
                    <kyc-signature></kyc-signature>
                </div>
            </div> -->
            <kyc-company-basic #kycCompBasic></kyc-company-basic><br>
            <div #kycRef></div>
            <kyc-company-contact-details #kycCompContactDetails></kyc-company-contact-details><br>
            <kyc-company-address #kycCompAdd></kyc-company-address><br>

            <p class="text-right">
                        <button nz-button nzType="primary" (click)="nonIndividualNext(activeTabIndex)">Next</button>
                </p>
            
        </nz-tab>
        <!-- <button nz-button nzType="primary" (click)="back(activeTabIndex)">Back</button> -->
     
    </nz-tabset>

</ng-container>
<window *ngIf="showPortal" [imageData]="previewImageData"></window> 

<!-- <nz-modal
[nzVisible]="previewVisible"
[nzContent]="modalContent"
[nzFooter]="null"
(nzOnCancel)="previewVisible = false"
>
<ng-template #modalContent>
  <img [src]="previewImage" [ngStyle]="{ width: '100%' }" />
</ng-template>
</nz-modal> -->


 <app-loader *ngIf="isSpining"></app-loader> 